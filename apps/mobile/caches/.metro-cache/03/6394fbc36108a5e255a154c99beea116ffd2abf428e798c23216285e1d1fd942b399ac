{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}},{"name":"../../type/definition.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":6,"column":35,"index":161}}],"key":"OJG9n3Eg7iYSTCZRKQx0dU0wthg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.UniqueFieldDefinitionNamesRule = UniqueFieldDefinitionNamesRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0], \"../../error/GraphQLError.mjs\");\n  var _typeDefinitionMjs = require(_dependencyMap[1], \"../../type/definition.mjs\");\n  /**\n   * Unique field definition names\n   *\n   * A GraphQL complex type is only valid if all its fields are uniquely named.\n   */\n  function UniqueFieldDefinitionNamesRule(context) {\n    var schema = context.getSchema();\n    var existingTypeMap = schema ? schema.getTypeMap() : Object.create(null);\n    var knownFieldNames = Object.create(null);\n    return {\n      InputObjectTypeDefinition: checkFieldUniqueness,\n      InputObjectTypeExtension: checkFieldUniqueness,\n      InterfaceTypeDefinition: checkFieldUniqueness,\n      InterfaceTypeExtension: checkFieldUniqueness,\n      ObjectTypeDefinition: checkFieldUniqueness,\n      ObjectTypeExtension: checkFieldUniqueness\n    };\n    function checkFieldUniqueness(node) {\n      var _node$fields;\n      var typeName = node.name.value;\n      if (!knownFieldNames[typeName]) {\n        knownFieldNames[typeName] = Object.create(null);\n      } // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n\n      var fieldNodes = (_node$fields = node.fields) !== null && _node$fields !== void 0 ? _node$fields : [];\n      var fieldNames = knownFieldNames[typeName];\n      for (var fieldDef of fieldNodes) {\n        var fieldName = fieldDef.name.value;\n        if (hasField(existingTypeMap[typeName], fieldName)) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Field \"${typeName}.${fieldName}\" already exists in the schema. It cannot also be defined in this type extension.`, {\n            nodes: fieldDef.name\n          }));\n        } else if (fieldNames[fieldName]) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Field \"${typeName}.${fieldName}\" can only be defined once.`, {\n            nodes: [fieldNames[fieldName], fieldDef.name]\n          }));\n        } else {\n          fieldNames[fieldName] = fieldDef.name;\n        }\n      }\n      return false;\n    }\n  }\n  function hasField(type, fieldName) {\n    if ((0, _typeDefinitionMjs.isObjectType)(type) || (0, _typeDefinitionMjs.isInterfaceType)(type) || (0, _typeDefinitionMjs.isInputObjectType)(type)) {\n      return type.getFields()[fieldName] != null;\n    }\n    return false;\n  }\n});","lineCount":61,"map":[[7,2,13,0,"exports"],[7,9,13,0],[7,10,13,0,"UniqueFieldDefinitionNamesRule"],[7,40,13,0],[7,43,13,0,"UniqueFieldDefinitionNamesRule"],[7,73,13,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,2,0],[9,6,2,0,"_typeDefinitionMjs"],[9,24,2,0],[9,27,2,0,"require"],[9,34,2,0],[9,35,2,0,"_dependencyMap"],[9,49,2,0],[10,2,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,2,13,7],[15,11,13,16,"UniqueFieldDefinitionNamesRule"],[15,41,13,46,"UniqueFieldDefinitionNamesRule"],[15,42,13,47,"context"],[15,49,13,54],[15,51,13,56],[16,4,14,2],[16,8,14,8,"schema"],[16,14,14,14],[16,17,14,17,"context"],[16,24,14,24],[16,25,14,25,"getSchema"],[16,34,14,34],[16,35,14,35],[16,36,14,36],[17,4,15,2],[17,8,15,8,"existingTypeMap"],[17,23,15,23],[17,26,15,26,"schema"],[17,32,15,32],[17,35,15,35,"schema"],[17,41,15,41],[17,42,15,42,"getTypeMap"],[17,52,15,52],[17,53,15,53],[17,54,15,54],[17,57,15,57,"Object"],[17,63,15,63],[17,64,15,64,"create"],[17,70,15,70],[17,71,15,71],[17,75,15,75],[17,76,15,76],[18,4,16,2],[18,8,16,8,"knownFieldNames"],[18,23,16,23],[18,26,16,26,"Object"],[18,32,16,32],[18,33,16,33,"create"],[18,39,16,39],[18,40,16,40],[18,44,16,44],[18,45,16,45],[19,4,17,2],[19,11,17,9],[20,6,18,4,"InputObjectTypeDefinition"],[20,31,18,29],[20,33,18,31,"checkFieldUniqueness"],[20,53,18,51],[21,6,19,4,"InputObjectTypeExtension"],[21,30,19,28],[21,32,19,30,"checkFieldUniqueness"],[21,52,19,50],[22,6,20,4,"InterfaceTypeDefinition"],[22,29,20,27],[22,31,20,29,"checkFieldUniqueness"],[22,51,20,49],[23,6,21,4,"InterfaceTypeExtension"],[23,28,21,26],[23,30,21,28,"checkFieldUniqueness"],[23,50,21,48],[24,6,22,4,"ObjectTypeDefinition"],[24,26,22,24],[24,28,22,26,"checkFieldUniqueness"],[24,48,22,46],[25,6,23,4,"ObjectTypeExtension"],[25,25,23,23],[25,27,23,25,"checkFieldUniqueness"],[26,4,24,2],[26,5,24,3],[27,4,26,2],[27,13,26,11,"checkFieldUniqueness"],[27,33,26,31,"checkFieldUniqueness"],[27,34,26,32,"node"],[27,38,26,36],[27,40,26,38],[28,6,27,4],[28,10,27,8,"_node$fields"],[28,22,27,20],[29,6,29,4],[29,10,29,10,"typeName"],[29,18,29,18],[29,21,29,21,"node"],[29,25,29,25],[29,26,29,26,"name"],[29,30,29,30],[29,31,29,31,"value"],[29,36,29,36],[30,6,31,4],[30,10,31,8],[30,11,31,9,"knownFieldNames"],[30,26,31,24],[30,27,31,25,"typeName"],[30,35,31,33],[30,36,31,34],[30,38,31,36],[31,8,32,6,"knownFieldNames"],[31,23,32,21],[31,24,32,22,"typeName"],[31,32,32,30],[31,33,32,31],[31,36,32,34,"Object"],[31,42,32,40],[31,43,32,41,"create"],[31,49,32,47],[31,50,32,48],[31,54,32,52],[31,55,32,53],[32,6,33,4],[32,7,33,5],[32,8,33,6],[34,6,35,4],[36,6,37,4],[36,10,37,10,"fieldNodes"],[36,20,37,20],[36,23,38,6],[36,24,38,7,"_node$fields"],[36,36,38,19],[36,39,38,22,"node"],[36,43,38,26],[36,44,38,27,"fields"],[36,50,38,33],[36,56,38,39],[36,60,38,43],[36,64,38,47,"_node$fields"],[36,76,38,59],[36,81,38,64],[36,86,38,69],[36,87,38,70],[36,90,39,10,"_node$fields"],[36,102,39,22],[36,105,40,10],[36,107,40,12],[37,6,41,4],[37,10,41,10,"fieldNames"],[37,20,41,20],[37,23,41,23,"knownFieldNames"],[37,38,41,38],[37,39,41,39,"typeName"],[37,47,41,47],[37,48,41,48],[38,6,43,4],[38,11,43,9],[38,15,43,15,"fieldDef"],[38,23,43,23],[38,27,43,27,"fieldNodes"],[38,37,43,37],[38,39,43,39],[39,8,44,6],[39,12,44,12,"fieldName"],[39,21,44,21],[39,24,44,24,"fieldDef"],[39,32,44,32],[39,33,44,33,"name"],[39,37,44,37],[39,38,44,38,"value"],[39,43,44,43],[40,8,46,6],[40,12,46,10,"hasField"],[40,20,46,18],[40,21,46,19,"existingTypeMap"],[40,36,46,34],[40,37,46,35,"typeName"],[40,45,46,43],[40,46,46,44],[40,48,46,46,"fieldName"],[40,57,46,55],[40,58,46,56],[40,60,46,58],[41,10,47,8,"context"],[41,17,47,15],[41,18,47,16,"reportError"],[41,29,47,27],[41,30,48,10],[41,34,48,14,"GraphQLError"],[41,55,48,26],[41,56,48,26,"GraphQLError"],[41,68,48,26],[41,69,49,12],[41,79,49,22,"typeName"],[41,87,49,30],[41,91,49,34,"fieldName"],[41,100,49,43],[41,183,49,126],[41,185,50,12],[42,12,51,14,"nodes"],[42,17,51,19],[42,19,51,21,"fieldDef"],[42,27,51,29],[42,28,51,30,"name"],[43,10,52,12],[43,11,53,10],[43,12,54,8],[43,13,54,9],[44,8,55,6],[44,9,55,7],[44,15,55,13],[44,19,55,17,"fieldNames"],[44,29,55,27],[44,30,55,28,"fieldName"],[44,39,55,37],[44,40,55,38],[44,42,55,40],[45,10,56,8,"context"],[45,17,56,15],[45,18,56,16,"reportError"],[45,29,56,27],[45,30,57,10],[45,34,57,14,"GraphQLError"],[45,55,57,26],[45,56,57,26,"GraphQLError"],[45,68,57,26],[45,69,58,12],[45,79,58,22,"typeName"],[45,87,58,30],[45,91,58,34,"fieldName"],[45,100,58,43],[45,129,58,72],[45,131,59,12],[46,12,60,14,"nodes"],[46,17,60,19],[46,19,60,21],[46,20,60,22,"fieldNames"],[46,30,60,32],[46,31,60,33,"fieldName"],[46,40,60,42],[46,41,60,43],[46,43,60,45,"fieldDef"],[46,51,60,53],[46,52,60,54,"name"],[46,56,60,58],[47,10,61,12],[47,11,62,10],[47,12,63,8],[47,13,63,9],[48,8,64,6],[48,9,64,7],[48,15,64,13],[49,10,65,8,"fieldNames"],[49,20,65,18],[49,21,65,19,"fieldName"],[49,30,65,28],[49,31,65,29],[49,34,65,32,"fieldDef"],[49,42,65,40],[49,43,65,41,"name"],[49,47,65,45],[50,8,66,6],[51,6,67,4],[52,6,69,4],[52,13,69,11],[52,18,69,16],[53,4,70,2],[54,2,71,0],[55,2,73,0],[55,11,73,9,"hasField"],[55,19,73,17,"hasField"],[55,20,73,18,"type"],[55,24,73,22],[55,26,73,24,"fieldName"],[55,35,73,33],[55,37,73,35],[56,4,74,2],[56,8,74,6],[56,12,74,6,"isObjectType"],[56,30,74,18],[56,31,74,18,"isObjectType"],[56,43,74,18],[56,45,74,19,"type"],[56,49,74,23],[56,50,74,24],[56,54,74,28],[56,58,74,28,"isInterfaceType"],[56,76,74,43],[56,77,74,43,"isInterfaceType"],[56,92,74,43],[56,94,74,44,"type"],[56,98,74,48],[56,99,74,49],[56,103,74,53],[56,107,74,53,"isInputObjectType"],[56,125,74,70],[56,126,74,70,"isInputObjectType"],[56,143,74,70],[56,145,74,71,"type"],[56,149,74,75],[56,150,74,76],[56,152,74,78],[57,6,75,4],[57,13,75,11,"type"],[57,17,75,15],[57,18,75,16,"getFields"],[57,27,75,25],[57,28,75,26],[57,29,75,27],[57,30,75,28,"fieldName"],[57,39,75,37],[57,40,75,38],[57,44,75,42],[57,48,75,46],[58,4,76,2],[59,4,78,2],[59,11,78,9],[59,16,78,14],[60,2,79,0],[61,0,79,1],[61,3]],"functionMap":{"names":["<global>","UniqueFieldDefinitionNamesRule","checkFieldUniqueness","hasField"],"mappings":"AAA;OCY;ECa;GD4C;CDC;AGE;CHM"},"hasCjsExports":false},"type":"js/module"}]}