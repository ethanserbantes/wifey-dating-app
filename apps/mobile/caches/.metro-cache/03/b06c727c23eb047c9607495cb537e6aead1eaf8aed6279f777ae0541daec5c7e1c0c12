{"dependencies":[{"name":"../jsutils/devAssert.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"v3F32zEX3O8h8WK8X0fBFgDIuOs=","exportNames":["*"],"imports":1}},{"name":"../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":57,"index":111}}],"key":"lHQMC6nVtbG6A7y2Q0ZlV23wwC0=","exportNames":["*"],"imports":1}},{"name":"../language/visitor.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":65,"index":177}}],"key":"SEnlLumLZ6vesKpdr4QUTE3uPwg=","exportNames":["*"],"imports":1}},{"name":"../type/validate.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":178},"end":{"line":4,"column":57,"index":235}}],"key":"nyT6HkqU/ZY44Sk9nQ2Wo7sOsF4=","exportNames":["*"],"imports":1}},{"name":"../utilities/TypeInfo.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":236},"end":{"line":5,"column":72,"index":308}}],"key":"HfmtPiC1YH5az+10Wi9c8Ts/OE8=","exportNames":["*"],"imports":1}},{"name":"./specifiedRules.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":309},"end":{"line":6,"column":73,"index":382}}],"key":"JeCLJAfkYAGgNuCCpxEsVKk/yns=","exportNames":["*"],"imports":1}},{"name":"./ValidationContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":383},"end":{"line":10,"column":33,"index":470}}],"key":"OWVADtsM73SfncnzsT0oAdg9cPc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.validate = validate;\n  exports.validateSDL = validateSDL;\n  exports.assertValidSDL = assertValidSDL;\n  exports.assertValidSDLExtension = assertValidSDLExtension;\n  var _jsutilsDevAssertMjs = require(_dependencyMap[0], \"../jsutils/devAssert.mjs\");\n  var _errorGraphQLErrorMjs = require(_dependencyMap[1], \"../error/GraphQLError.mjs\");\n  var _languageVisitorMjs = require(_dependencyMap[2], \"../language/visitor.mjs\");\n  var _typeValidateMjs = require(_dependencyMap[3], \"../type/validate.mjs\");\n  var _utilitiesTypeInfoMjs = require(_dependencyMap[4], \"../utilities/TypeInfo.mjs\");\n  var _specifiedRulesMjs = require(_dependencyMap[5], \"./specifiedRules.mjs\");\n  var _ValidationContextMjs = require(_dependencyMap[6], \"./ValidationContext.mjs\");\n  /**\n   * Implements the \"Validation\" section of the spec.\n   *\n   * Validation runs synchronously, returning an array of encountered errors, or\n   * an empty array if no errors were encountered and the document is valid.\n   *\n   * A list of specific validation rules may be provided. If not provided, the\n   * default list of rules defined by the GraphQL specification will be used.\n   *\n   * Each validation rules is a function which returns a visitor\n   * (see the language/visitor API). Visitor methods are expected to return\n   * GraphQLErrors, or Arrays of GraphQLErrors when invalid.\n   *\n   * Validate will stop validation after a `maxErrors` limit has been reached.\n   * Attackers can send pathologically invalid queries to induce a DoS attack,\n   * so by default `maxErrors` set to 100 errors.\n   *\n   * Optionally a custom TypeInfo instance may be provided. If not provided, one\n   * will be created from the provided schema.\n   */\n\n  function validate(schema, documentAST) {\n    var rules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _specifiedRulesMjs.specifiedRules;\n    var options = arguments.length > 3 ? arguments[3] : undefined;\n    var typeInfo = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : new _utilitiesTypeInfoMjs.TypeInfo(schema);\n    var _options$maxErrors;\n    var maxErrors = (_options$maxErrors = options === null || options === void 0 ? void 0 : options.maxErrors) !== null && _options$maxErrors !== void 0 ? _options$maxErrors : 100;\n    documentAST || (0, _jsutilsDevAssertMjs.devAssert)(false, 'Must provide document.'); // If the schema used for validation is invalid, throw an error.\n\n    (0, _typeValidateMjs.assertValidSchema)(schema);\n    var abortObj = Object.freeze({});\n    var errors = [];\n    var context = new _ValidationContextMjs.ValidationContext(schema, documentAST, typeInfo, error => {\n      if (errors.length >= maxErrors) {\n        errors.push(new _errorGraphQLErrorMjs.GraphQLError('Too many validation errors, error limit reached. Validation aborted.')); // eslint-disable-next-line @typescript-eslint/no-throw-literal\n\n        throw abortObj;\n      }\n      errors.push(error);\n    }); // This uses a specialized visitor which runs multiple visitors in parallel,\n    // while maintaining the visitor skip and break API.\n\n    var visitor = (0, _languageVisitorMjs.visitInParallel)(rules.map(rule => rule(context))); // Visit the whole document with each instance of all provided rules.\n\n    try {\n      (0, _languageVisitorMjs.visit)(documentAST, (0, _utilitiesTypeInfoMjs.visitWithTypeInfo)(typeInfo, visitor));\n    } catch (e) {\n      if (e !== abortObj) {\n        throw e;\n      }\n    }\n    return errors;\n  }\n  /**\n   * @internal\n   */\n\n  function validateSDL(documentAST, schemaToExtend) {\n    var rules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _specifiedRulesMjs.specifiedSDLRules;\n    var errors = [];\n    var context = new _ValidationContextMjs.SDLValidationContext(documentAST, schemaToExtend, error => {\n      errors.push(error);\n    });\n    var visitors = rules.map(rule => rule(context));\n    (0, _languageVisitorMjs.visit)(documentAST, (0, _languageVisitorMjs.visitInParallel)(visitors));\n    return errors;\n  }\n  /**\n   * Utility function which asserts a SDL document is valid by throwing an error\n   * if it is invalid.\n   *\n   * @internal\n   */\n\n  function assertValidSDL(documentAST) {\n    var errors = validateSDL(documentAST);\n    if (errors.length !== 0) {\n      throw new Error(errors.map(error => error.message).join('\\n\\n'));\n    }\n  }\n  /**\n   * Utility function which asserts a SDL document is valid by throwing an error\n   * if it is invalid.\n   *\n   * @internal\n   */\n\n  function assertValidSDLExtension(documentAST, schema) {\n    var errors = validateSDL(documentAST, schema);\n    if (errors.length !== 0) {\n      throw new Error(errors.map(error => error.message).join('\\n\\n'));\n    }\n  }\n});","lineCount":111,"map":[[7,2,32,0,"exports"],[7,9,32,0],[7,10,32,0,"validate"],[7,18,32,0],[7,21,32,0,"validate"],[7,29,32,0],[8,2,89,0,"exports"],[8,9,89,0],[8,10,89,0,"validateSDL"],[8,21,89,0],[8,24,89,0,"validateSDL"],[8,35,89,0],[9,2,113,0,"exports"],[9,9,113,0],[9,10,113,0,"assertValidSDL"],[9,24,113,0],[9,27,113,0,"assertValidSDL"],[9,41,113,0],[10,2,127,0,"exports"],[10,9,127,0],[10,10,127,0,"assertValidSDLExtension"],[10,33,127,0],[10,36,127,0,"assertValidSDLExtension"],[10,59,127,0],[11,2,1,0],[11,6,1,0,"_jsutilsDevAssertMjs"],[11,26,1,0],[11,29,1,0,"require"],[11,36,1,0],[11,37,1,0,"_dependencyMap"],[11,51,1,0],[12,2,2,0],[12,6,2,0,"_errorGraphQLErrorMjs"],[12,27,2,0],[12,30,2,0,"require"],[12,37,2,0],[12,38,2,0,"_dependencyMap"],[12,52,2,0],[13,2,3,0],[13,6,3,0,"_languageVisitorMjs"],[13,25,3,0],[13,28,3,0,"require"],[13,35,3,0],[13,36,3,0,"_dependencyMap"],[13,50,3,0],[14,2,4,0],[14,6,4,0,"_typeValidateMjs"],[14,22,4,0],[14,25,4,0,"require"],[14,32,4,0],[14,33,4,0,"_dependencyMap"],[14,47,4,0],[15,2,5,0],[15,6,5,0,"_utilitiesTypeInfoMjs"],[15,27,5,0],[15,30,5,0,"require"],[15,37,5,0],[15,38,5,0,"_dependencyMap"],[15,52,5,0],[16,2,6,0],[16,6,6,0,"_specifiedRulesMjs"],[16,24,6,0],[16,27,6,0,"require"],[16,34,6,0],[16,35,6,0,"_dependencyMap"],[16,49,6,0],[17,2,7,0],[17,6,7,0,"_ValidationContextMjs"],[17,27,7,0],[17,30,7,0,"require"],[17,37,7,0],[17,38,7,0,"_dependencyMap"],[17,52,7,0],[18,2,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[39,2,32,7],[39,11,32,16,"validate"],[39,19,32,24,"validate"],[39,20,33,2,"schema"],[39,26,33,8],[39,28,34,2,"documentAST"],[39,39,34,13],[39,41,39,2],[40,4,39,2],[40,8,35,2,"rules"],[40,13,35,7],[40,16,35,7,"arguments"],[40,25,35,7],[40,26,35,7,"length"],[40,32,35,7],[40,40,35,7,"arguments"],[40,49,35,7],[40,57,35,7,"undefined"],[40,66,35,7],[40,69,35,7,"arguments"],[40,78,35,7],[40,84,35,10,"specifiedRules"],[40,102,35,24],[40,103,35,24,"specifiedRules"],[40,117,35,24],[41,4,35,24],[41,8,36,2,"options"],[41,15,36,9],[41,18,36,9,"arguments"],[41,27,36,9],[41,28,36,9,"length"],[41,34,36,9],[41,41,36,9,"arguments"],[41,50,36,9],[41,56,36,9,"undefined"],[41,65,36,9],[42,4,36,9],[42,8,38,2,"typeInfo"],[42,16,38,10],[42,19,38,10,"arguments"],[42,28,38,10],[42,29,38,10,"length"],[42,35,38,10],[42,43,38,10,"arguments"],[42,52,38,10],[42,60,38,10,"undefined"],[42,69,38,10],[42,72,38,10,"arguments"],[42,81,38,10],[42,87,38,13],[42,91,38,17,"TypeInfo"],[42,112,38,25],[42,113,38,25,"TypeInfo"],[42,121,38,25],[42,122,38,26,"schema"],[42,128,38,32],[42,129,38,33],[43,4,40,2],[43,8,40,6,"_options$maxErrors"],[43,26,40,24],[44,4,42,2],[44,8,42,8,"maxErrors"],[44,17,42,17],[44,20,43,4],[44,21,43,5,"_options$maxErrors"],[44,39,43,23],[44,42,44,6,"options"],[44,49,44,13],[44,54,44,18],[44,58,44,22],[44,62,44,26,"options"],[44,69,44,33],[44,74,44,38],[44,79,44,43],[44,80,44,44],[44,83,44,47],[44,88,44,52],[44,89,44,53],[44,92,44,56,"options"],[44,99,44,63],[44,100,44,64,"maxErrors"],[44,109,44,73],[44,115,45,6],[44,119,45,10],[44,123,45,14,"_options$maxErrors"],[44,141,45,32],[44,146,45,37],[44,151,45,42],[44,152,45,43],[44,155,46,8,"_options$maxErrors"],[44,173,46,26],[44,176,47,8],[44,179,47,11],[45,4,48,2,"documentAST"],[45,15,48,13],[45,19,48,17],[45,23,48,17,"devAssert"],[45,43,48,26],[45,44,48,26,"devAssert"],[45,53,48,26],[45,55,48,27],[45,60,48,32],[45,62,48,34],[45,86,48,58],[45,87,48,59],[45,88,48,60],[45,89,48,61],[47,4,50,2],[47,8,50,2,"assertValidSchema"],[47,24,50,19],[47,25,50,19,"assertValidSchema"],[47,42,50,19],[47,44,50,20,"schema"],[47,50,50,26],[47,51,50,27],[48,4,51,2],[48,8,51,8,"abortObj"],[48,16,51,16],[48,19,51,19,"Object"],[48,25,51,25],[48,26,51,26,"freeze"],[48,32,51,32],[48,33,51,33],[48,34,51,34],[48,35,51,35],[48,36,51,36],[49,4,52,2],[49,8,52,8,"errors"],[49,14,52,14],[49,17,52,17],[49,19,52,19],[50,4,53,2],[50,8,53,8,"context"],[50,15,53,15],[50,18,53,18],[50,22,53,22,"ValidationContext"],[50,43,53,39],[50,44,53,39,"ValidationContext"],[50,61,53,39],[50,62,54,4,"schema"],[50,68,54,10],[50,70,55,4,"documentAST"],[50,81,55,15],[50,83,56,4,"typeInfo"],[50,91,56,12],[50,93,57,5,"error"],[50,98,57,10],[50,102,57,15],[51,6,58,6],[51,10,58,10,"errors"],[51,16,58,16],[51,17,58,17,"length"],[51,23,58,23],[51,27,58,27,"maxErrors"],[51,36,58,36],[51,38,58,38],[52,8,59,8,"errors"],[52,14,59,14],[52,15,59,15,"push"],[52,19,59,19],[52,20,60,10],[52,24,60,14,"GraphQLError"],[52,45,60,26],[52,46,60,26,"GraphQLError"],[52,58,60,26],[52,59,61,12],[52,129,62,10],[52,130,63,8],[52,131,63,9],[52,132,63,10],[52,133,63,11],[54,8,65,8],[54,14,65,14,"abortObj"],[54,22,65,22],[55,6,66,6],[56,6,68,6,"errors"],[56,12,68,12],[56,13,68,13,"push"],[56,17,68,17],[56,18,68,18,"error"],[56,23,68,23],[56,24,68,24],[57,4,69,4],[57,5,70,2],[57,6,70,3],[57,7,70,4],[57,8,70,5],[58,4,71,2],[60,4,73,2],[60,8,73,8,"visitor"],[60,15,73,15],[60,18,73,18],[60,22,73,18,"visitInParallel"],[60,41,73,33],[60,42,73,33,"visitInParallel"],[60,57,73,33],[60,59,73,34,"rules"],[60,64,73,39],[60,65,73,40,"map"],[60,68,73,43],[60,69,73,45,"rule"],[60,73,73,49],[60,77,73,54,"rule"],[60,81,73,58],[60,82,73,59,"context"],[60,89,73,66],[60,90,73,67],[60,91,73,68],[60,92,73,69],[60,93,73,70],[60,94,73,71],[62,4,75,2],[62,8,75,6],[63,6,76,4],[63,10,76,4,"visit"],[63,29,76,9],[63,30,76,9,"visit"],[63,35,76,9],[63,37,76,10,"documentAST"],[63,48,76,21],[63,50,76,23],[63,54,76,23,"visitWithTypeInfo"],[63,75,76,40],[63,76,76,40,"visitWithTypeInfo"],[63,93,76,40],[63,95,76,41,"typeInfo"],[63,103,76,49],[63,105,76,51,"visitor"],[63,112,76,58],[63,113,76,59],[63,114,76,60],[64,4,77,2],[64,5,77,3],[64,6,77,4],[64,13,77,11,"e"],[64,14,77,12],[64,16,77,14],[65,6,78,4],[65,10,78,8,"e"],[65,11,78,9],[65,16,78,14,"abortObj"],[65,24,78,22],[65,26,78,24],[66,8,79,6],[66,14,79,12,"e"],[66,15,79,13],[67,6,80,4],[68,4,81,2],[69,4,83,2],[69,11,83,9,"errors"],[69,17,83,15],[70,2,84,0],[71,2,85,0],[72,0,86,0],[73,0,87,0],[75,2,89,7],[75,11,89,16,"validateSDL"],[75,22,89,27,"validateSDL"],[75,23,90,2,"documentAST"],[75,34,90,13],[75,36,91,2,"schemaToExtend"],[75,50,91,16],[75,52,93,2],[76,4,93,2],[76,8,92,2,"rules"],[76,13,92,7],[76,16,92,7,"arguments"],[76,25,92,7],[76,26,92,7,"length"],[76,32,92,7],[76,40,92,7,"arguments"],[76,49,92,7],[76,57,92,7,"undefined"],[76,66,92,7],[76,69,92,7,"arguments"],[76,78,92,7],[76,84,92,10,"specifiedSDLRules"],[76,102,92,27],[76,103,92,27,"specifiedSDLRules"],[76,120,92,27],[77,4,94,2],[77,8,94,8,"errors"],[77,14,94,14],[77,17,94,17],[77,19,94,19],[78,4,95,2],[78,8,95,8,"context"],[78,15,95,15],[78,18,95,18],[78,22,95,22,"SDLValidationContext"],[78,43,95,42],[78,44,95,42,"SDLValidationContext"],[78,64,95,42],[78,65,96,4,"documentAST"],[78,76,96,15],[78,78,97,4,"schemaToExtend"],[78,92,97,18],[78,94,98,5,"error"],[78,99,98,10],[78,103,98,15],[79,6,99,6,"errors"],[79,12,99,12],[79,13,99,13,"push"],[79,17,99,17],[79,18,99,18,"error"],[79,23,99,23],[79,24,99,24],[80,4,100,4],[80,5,101,2],[80,6,101,3],[81,4,102,2],[81,8,102,8,"visitors"],[81,16,102,16],[81,19,102,19,"rules"],[81,24,102,24],[81,25,102,25,"map"],[81,28,102,28],[81,29,102,30,"rule"],[81,33,102,34],[81,37,102,39,"rule"],[81,41,102,43],[81,42,102,44,"context"],[81,49,102,51],[81,50,102,52],[81,51,102,53],[82,4,103,2],[82,8,103,2,"visit"],[82,27,103,7],[82,28,103,7,"visit"],[82,33,103,7],[82,35,103,8,"documentAST"],[82,46,103,19],[82,48,103,21],[82,52,103,21,"visitInParallel"],[82,71,103,36],[82,72,103,36,"visitInParallel"],[82,87,103,36],[82,89,103,37,"visitors"],[82,97,103,45],[82,98,103,46],[82,99,103,47],[83,4,104,2],[83,11,104,9,"errors"],[83,17,104,15],[84,2,105,0],[85,2,106,0],[86,0,107,0],[87,0,108,0],[88,0,109,0],[89,0,110,0],[90,0,111,0],[92,2,113,7],[92,11,113,16,"assertValidSDL"],[92,25,113,30,"assertValidSDL"],[92,26,113,31,"documentAST"],[92,37,113,42],[92,39,113,44],[93,4,114,2],[93,8,114,8,"errors"],[93,14,114,14],[93,17,114,17,"validateSDL"],[93,28,114,28],[93,29,114,29,"documentAST"],[93,40,114,40],[93,41,114,41],[94,4,116,2],[94,8,116,6,"errors"],[94,14,116,12],[94,15,116,13,"length"],[94,21,116,19],[94,26,116,24],[94,27,116,25],[94,29,116,27],[95,6,117,4],[95,12,117,10],[95,16,117,14,"Error"],[95,21,117,19],[95,22,117,20,"errors"],[95,28,117,26],[95,29,117,27,"map"],[95,32,117,30],[95,33,117,32,"error"],[95,38,117,37],[95,42,117,42,"error"],[95,47,117,47],[95,48,117,48,"message"],[95,55,117,55],[95,56,117,56],[95,57,117,57,"join"],[95,61,117,61],[95,62,117,62],[95,68,117,68],[95,69,117,69],[95,70,117,70],[96,4,118,2],[97,2,119,0],[98,2,120,0],[99,0,121,0],[100,0,122,0],[101,0,123,0],[102,0,124,0],[103,0,125,0],[105,2,127,7],[105,11,127,16,"assertValidSDLExtension"],[105,34,127,39,"assertValidSDLExtension"],[105,35,127,40,"documentAST"],[105,46,127,51],[105,48,127,53,"schema"],[105,54,127,59],[105,56,127,61],[106,4,128,2],[106,8,128,8,"errors"],[106,14,128,14],[106,17,128,17,"validateSDL"],[106,28,128,28],[106,29,128,29,"documentAST"],[106,40,128,40],[106,42,128,42,"schema"],[106,48,128,48],[106,49,128,49],[107,4,130,2],[107,8,130,6,"errors"],[107,14,130,12],[107,15,130,13,"length"],[107,21,130,19],[107,26,130,24],[107,27,130,25],[107,29,130,27],[108,6,131,4],[108,12,131,10],[108,16,131,14,"Error"],[108,21,131,19],[108,22,131,20,"errors"],[108,28,131,26],[108,29,131,27,"map"],[108,32,131,30],[108,33,131,32,"error"],[108,38,131,37],[108,42,131,42,"error"],[108,47,131,47],[108,48,131,48,"message"],[108,55,131,55],[108,56,131,56],[108,57,131,57,"join"],[108,61,131,61],[108,62,131,62],[108,68,131,68],[108,69,131,69],[108,70,131,70],[109,4,132,2],[110,2,133,0],[111,0,133,1],[111,3]],"functionMap":{"names":["<global>","validate","ValidationContext$argument_3","rules.map$argument_0","validateSDL","SDLValidationContext$argument_2","assertValidSDL","errors.map$argument_0","assertValidSDLExtension"],"mappings":"AAA;OC+B;ICyB;KDY;4CEI,uBF;CDW;OIK;ICS;KDE;6BDE,uBC;CJG;OMQ;+BCI,wBD;CNE;OQQ;+BDI,wBC;CRE"},"hasCjsExports":false},"type":"js/module"}]}