{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useConversationStarter = useConversationStarter;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  function useConversationStarter(matchId, userId) {\n    var enabled = Boolean(matchId) && Number.isFinite(Number(userId));\n    var query = (0, _tanstackReactQuery.useQuery)({\n      queryKey: [\"conversationStarter\", String(matchId || \"\"), Number(userId)],\n      enabled,\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          var response = yield fetch(`/api/matches/${encodeURIComponent(String(matchId))}/starter?userId=${encodeURIComponent(String(userId))}`);\n          if (!response.ok) {\n            var text = yield response.text().catch(() => \"\");\n            throw new Error(`When fetching /api/matches/${String(matchId)}/starter, the response was [${response.status}] ${response.statusText}. ${text}`);\n          }\n          return response.json();\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      staleTime: 300000\n    });\n    return {\n      starter: query.data?.starter || null,\n      starterQuery: query\n    };\n  }\n});","lineCount":41,"map":[[12,2,3,0,"exports"],[12,9,3,0],[12,10,3,0,"useConversationStarter"],[12,32,3,0],[12,35,3,0,"useConversationStarter"],[12,57,3,0],[13,2,28,1],[13,6,28,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,28,1],[13,45,28,1,"require"],[13,52,28,1],[13,53,28,1,"_dependencyMap"],[13,67,28,1],[14,2,28,1],[14,6,28,1,"_asyncToGenerator"],[14,23,28,1],[14,26,28,1,"_interopDefault"],[14,41,28,1],[14,42,28,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,28,1],[15,2,1,0],[15,6,1,0,"_tanstackReactQuery"],[15,25,1,0],[15,28,1,0,"require"],[15,35,1,0],[15,36,1,0,"_dependencyMap"],[15,50,1,0],[16,2,3,7],[16,11,3,16,"useConversationStarter"],[16,33,3,38,"useConversationStarter"],[16,34,3,39,"matchId"],[16,41,3,46],[16,43,3,48,"userId"],[16,49,3,54],[16,51,3,56],[17,4,4,2],[17,8,4,8,"enabled"],[17,15,4,15],[17,18,4,18,"Boolean"],[17,25,4,25],[17,26,4,26,"matchId"],[17,33,4,33],[17,34,4,34],[17,38,4,38,"Number"],[17,44,4,44],[17,45,4,45,"isFinite"],[17,53,4,53],[17,54,4,54,"Number"],[17,60,4,60],[17,61,4,61,"userId"],[17,67,4,67],[17,68,4,68],[17,69,4,69],[18,4,6,2],[18,8,6,8,"query"],[18,13,6,13],[18,16,6,16],[18,20,6,16,"useQuery"],[18,39,6,24],[18,40,6,24,"useQuery"],[18,48,6,24],[18,50,6,25],[19,6,7,4,"queryKey"],[19,14,7,12],[19,16,7,14],[19,17,7,15],[19,38,7,36],[19,40,7,38,"String"],[19,46,7,44],[19,47,7,45,"matchId"],[19,54,7,52],[19,58,7,56],[19,60,7,58],[19,61,7,59],[19,63,7,61,"Number"],[19,69,7,67],[19,70,7,68,"userId"],[19,76,7,74],[19,77,7,75],[19,78,7,76],[20,6,8,4,"enabled"],[20,13,8,11],[21,6,9,4,"queryFn"],[21,13,9,11],[22,8,9,11],[22,12,9,11,"_ref"],[22,16,9,11],[22,23,9,11,"_asyncToGenerator"],[22,40,9,11],[22,41,9,11,"default"],[22,48,9,11],[22,50,9,13],[22,63,9,25],[23,10,10,6],[23,14,10,12,"response"],[23,22,10,20],[23,31,10,29,"fetch"],[23,36,10,34],[23,37,11,8],[23,53,11,24,"encodeURIComponent"],[23,71,11,42],[23,72,11,43,"String"],[23,78,11,49],[23,79,11,50,"matchId"],[23,86,11,57],[23,87,11,58],[23,88,11,59],[23,107,11,78,"encodeURIComponent"],[23,125,11,96],[23,126,11,97,"String"],[23,132,11,103],[23,133,11,104,"userId"],[23,139,11,110],[23,140,11,111],[23,141,11,112],[23,143,12,6],[23,144,12,7],[24,10,13,6],[24,14,13,10],[24,15,13,11,"response"],[24,23,13,19],[24,24,13,20,"ok"],[24,26,13,22],[24,28,13,24],[25,12,14,8],[25,16,14,14,"text"],[25,20,14,18],[25,29,14,27,"response"],[25,37,14,35],[25,38,14,36,"text"],[25,42,14,40],[25,43,14,41],[25,44,14,42],[25,45,14,43,"catch"],[25,50,14,48],[25,51,14,49],[25,57,14,55],[25,59,14,57],[25,60,14,58],[26,12,15,8],[26,18,15,14],[26,22,15,18,"Error"],[26,27,15,23],[26,28,16,10],[26,58,16,40,"String"],[26,64,16,46],[26,65,16,47,"matchId"],[26,72,16,54],[26,73,16,55],[26,104,16,86,"response"],[26,112,16,94],[26,113,16,95,"status"],[26,119,16,101],[26,124,16,106,"response"],[26,132,16,114],[26,133,16,115,"statusText"],[26,143,16,125],[26,148,16,130,"text"],[26,152,16,134],[26,154,17,8],[26,155,17,9],[27,10,18,6],[28,10,19,6],[28,17,19,13,"response"],[28,25,19,21],[28,26,19,22,"json"],[28,30,19,26],[28,31,19,27],[28,32,19,28],[29,8,20,4],[29,9,20,5],[30,8,20,5],[30,24,9,4,"queryFn"],[30,31,9,11,"queryFn"],[30,32,9,11],[31,10,9,11],[31,17,9,11,"_ref"],[31,21,9,11],[31,22,9,11,"apply"],[31,27,9,11],[31,34,9,11,"arguments"],[31,43,9,11],[32,8,9,11],[33,6,9,11],[33,9,20,5],[34,6,21,4,"staleTime"],[34,15,21,13],[35,4,22,2],[35,5,22,3],[35,6,22,4],[36,4,24,2],[36,11,24,9],[37,6,25,4,"starter"],[37,13,25,11],[37,15,25,13,"query"],[37,20,25,18],[37,21,25,19,"data"],[37,25,25,23],[37,27,25,25,"starter"],[37,34,25,32],[37,38,25,36],[37,42,25,40],[38,6,26,4,"starterQuery"],[38,18,26,16],[38,20,26,18,"query"],[39,4,27,2],[39,5,27,3],[40,2,28,0],[41,0,28,1],[41,3]],"functionMap":{"names":["<global>","useConversationStarter","useQuery$argument_0.queryFn","response.text._catch$argument_0"],"mappings":"AAA;OCE;aCM;iDCK,QD;KDM;CDQ"},"hasCjsExports":false},"type":"js/module"}]}