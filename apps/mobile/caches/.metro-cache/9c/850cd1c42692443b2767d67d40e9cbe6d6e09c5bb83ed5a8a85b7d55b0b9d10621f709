{"dependencies":[{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"LZlrQCVO4H3zUFIdbw1eEy4GKGE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDebugImagesForResources\", {\n    enumerable: true,\n    get: function () {\n      return getDebugImagesForResources;\n    }\n  });\n  Object.defineProperty(exports, \"getFilenameToDebugIdMap\", {\n    enumerable: true,\n    get: function () {\n      return getFilenameToDebugIdMap;\n    }\n  });\n  var _worldwideJs = require(_dependencyMap[0], \"./worldwide.js\");\n  var parsedStackResults;\n  var lastSentryKeysCount;\n  var lastNativeKeysCount;\n  var cachedFilenameDebugIds;\n\n  /**\n   * Returns a map of filenames to debug identifiers.\n   * Supports both proprietary _sentryDebugIds and native _debugIds (e.g., from Vercel) formats.\n   */\n  function getFilenameToDebugIdMap(stackParser) {\n    var sentryDebugIdMap = _worldwideJs.GLOBAL_OBJ._sentryDebugIds;\n    var nativeDebugIdMap = _worldwideJs.GLOBAL_OBJ._debugIds;\n    if (!sentryDebugIdMap && !nativeDebugIdMap) {\n      return {};\n    }\n    var sentryDebugIdKeys = sentryDebugIdMap ? Object.keys(sentryDebugIdMap) : [];\n    var nativeDebugIdKeys = nativeDebugIdMap ? Object.keys(nativeDebugIdMap) : [];\n\n    // If the count of registered globals hasn't changed since the last call, we\n    // can just return the cached result.\n    if (cachedFilenameDebugIds && sentryDebugIdKeys.length === lastSentryKeysCount && nativeDebugIdKeys.length === lastNativeKeysCount) {\n      return cachedFilenameDebugIds;\n    }\n    lastSentryKeysCount = sentryDebugIdKeys.length;\n    lastNativeKeysCount = nativeDebugIdKeys.length;\n\n    // Build a map of filename -> debug_id from both sources\n    cachedFilenameDebugIds = {};\n    if (!parsedStackResults) {\n      parsedStackResults = {};\n    }\n    var processDebugIds = (debugIdKeys, debugIdMap) => {\n      for (var key of debugIdKeys) {\n        var debugId = debugIdMap[key];\n        var result = parsedStackResults?.[key];\n        if (result && cachedFilenameDebugIds && debugId) {\n          // Use cached filename but update with current debug ID\n          cachedFilenameDebugIds[result[0]] = debugId;\n          // Update cached result with new debug ID\n          if (parsedStackResults) {\n            parsedStackResults[key] = [result[0], debugId];\n          }\n        } else if (debugId) {\n          var parsedStack = stackParser(key);\n          for (var i = parsedStack.length - 1; i >= 0; i--) {\n            var stackFrame = parsedStack[i];\n            var filename = stackFrame?.filename;\n            if (filename && cachedFilenameDebugIds && parsedStackResults) {\n              cachedFilenameDebugIds[filename] = debugId;\n              parsedStackResults[key] = [filename, debugId];\n              break;\n            }\n          }\n        }\n      }\n    };\n    if (sentryDebugIdMap) {\n      processDebugIds(sentryDebugIdKeys, sentryDebugIdMap);\n    }\n\n    // Native _debugIds will override _sentryDebugIds if same file\n    if (nativeDebugIdMap) {\n      processDebugIds(nativeDebugIdKeys, nativeDebugIdMap);\n    }\n    return cachedFilenameDebugIds;\n  }\n\n  /**\n   * Returns a list of debug images for the given resources.\n   */\n  function getDebugImagesForResources(stackParser, resource_paths) {\n    var filenameDebugIdMap = getFilenameToDebugIdMap(stackParser);\n    if (!filenameDebugIdMap) {\n      return [];\n    }\n    var images = [];\n    for (var path of resource_paths) {\n      if (path && filenameDebugIdMap[path]) {\n        images.push({\n          type: 'sourcemap',\n          code_file: path,\n          debug_id: filenameDebugIdMap[path]\n        });\n      }\n    }\n    return images;\n  }\n});","lineCount":107,"map":[[7,2,111,0,"Object"],[7,8,111,0],[7,9,111,0,"defineProperty"],[7,23,111,0],[7,24,111,0,"exports"],[7,31,111,0],[8,4,111,0,"enumerable"],[8,14,111,0],[9,4,111,0,"get"],[9,7,111,0],[9,18,111,0,"get"],[9,19,111,0],[10,6,111,0],[10,13,111,9,"getDebugImagesForResources"],[10,39,111,35],[11,4,111,35],[12,2,111,35],[13,2,111,0,"Object"],[13,8,111,0],[13,9,111,0,"defineProperty"],[13,23,111,0],[13,24,111,0,"exports"],[13,31,111,0],[14,4,111,0,"enumerable"],[14,14,111,0],[15,4,111,0,"get"],[15,7,111,0],[15,18,111,0,"get"],[15,19,111,0],[16,6,111,0],[16,13,111,37,"getFilenameToDebugIdMap"],[16,36,111,60],[17,4,111,60],[18,2,111,60],[19,2,1,0],[19,6,1,0,"_worldwideJs"],[19,18,1,0],[19,21,1,0,"require"],[19,28,1,0],[19,29,1,0,"_dependencyMap"],[19,43,1,0],[20,2,3,0],[20,6,3,4,"parsedStackResults"],[20,24,3,22],[21,2,4,0],[21,6,4,4,"lastSentryKeysCount"],[21,25,4,23],[22,2,5,0],[22,6,5,4,"lastNativeKeysCount"],[22,25,5,23],[23,2,6,0],[23,6,6,4,"cachedFilenameDebugIds"],[23,28,6,26],[25,2,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,2,12,0],[29,11,12,9,"getFilenameToDebugIdMap"],[29,34,12,32,"getFilenameToDebugIdMap"],[29,35,12,33,"stackParser"],[29,46,12,44],[29,48,12,46],[30,4,13,2],[30,8,13,8,"sentryDebugIdMap"],[30,24,13,24],[30,27,13,27,"GLOBAL_OBJ"],[30,39,13,37],[30,40,13,37,"GLOBAL_OBJ"],[30,50,13,37],[30,51,13,38,"_sentryDebugIds"],[30,66,13,53],[31,4,14,2],[31,8,14,8,"nativeDebugIdMap"],[31,24,14,24],[31,27,14,27,"GLOBAL_OBJ"],[31,39,14,37],[31,40,14,37,"GLOBAL_OBJ"],[31,50,14,37],[31,51,14,38,"_debugIds"],[31,60,14,47],[32,4,16,2],[32,8,16,6],[32,9,16,7,"sentryDebugIdMap"],[32,25,16,23],[32,29,16,27],[32,30,16,28,"nativeDebugIdMap"],[32,46,16,44],[32,48,16,46],[33,6,17,4],[33,13,17,11],[33,14,17,12],[33,15,17,13],[34,4,18,2],[35,4,20,2],[35,8,20,8,"sentryDebugIdKeys"],[35,25,20,25],[35,28,20,28,"sentryDebugIdMap"],[35,44,20,44],[35,47,20,47,"Object"],[35,53,20,53],[35,54,20,54,"keys"],[35,58,20,58],[35,59,20,59,"sentryDebugIdMap"],[35,75,20,75],[35,76,20,76],[35,79,20,79],[35,81,20,81],[36,4,21,2],[36,8,21,8,"nativeDebugIdKeys"],[36,25,21,25],[36,28,21,28,"nativeDebugIdMap"],[36,44,21,44],[36,47,21,47,"Object"],[36,53,21,53],[36,54,21,54,"keys"],[36,58,21,58],[36,59,21,59,"nativeDebugIdMap"],[36,75,21,75],[36,76,21,76],[36,79,21,79],[36,81,21,81],[38,4,23,2],[39,4,24,2],[40,4,25,2],[40,8,26,4,"cachedFilenameDebugIds"],[40,30,26,26],[40,34,27,4,"sentryDebugIdKeys"],[40,51,27,21],[40,52,27,22,"length"],[40,58,27,28],[40,63,27,33,"lastSentryKeysCount"],[40,82,27,52],[40,86,28,4,"nativeDebugIdKeys"],[40,103,28,21],[40,104,28,22,"length"],[40,110,28,28],[40,115,28,33,"lastNativeKeysCount"],[40,134,28,52],[40,136,29,4],[41,6,30,4],[41,13,30,11,"cachedFilenameDebugIds"],[41,35,30,33],[42,4,31,2],[43,4,33,2,"lastSentryKeysCount"],[43,23,33,21],[43,26,33,24,"sentryDebugIdKeys"],[43,43,33,41],[43,44,33,42,"length"],[43,50,33,48],[44,4,34,2,"lastNativeKeysCount"],[44,23,34,21],[44,26,34,24,"nativeDebugIdKeys"],[44,43,34,41],[44,44,34,42,"length"],[44,50,34,48],[46,4,36,2],[47,4,37,2,"cachedFilenameDebugIds"],[47,26,37,24],[47,29,37,27],[47,30,37,28],[47,31,37,29],[48,4,39,2],[48,8,39,6],[48,9,39,7,"parsedStackResults"],[48,27,39,25],[48,29,39,27],[49,6,40,4,"parsedStackResults"],[49,24,40,22],[49,27,40,25],[49,28,40,26],[49,29,40,27],[50,4,41,2],[51,4,43,2],[51,8,43,8,"processDebugIds"],[51,23,43,23],[51,26,43,26,"processDebugIds"],[51,27,43,27,"debugIdKeys"],[51,38,43,38],[51,40,43,40,"debugIdMap"],[51,50,43,50],[51,55,43,55],[52,6,44,4],[52,11,44,9],[52,15,44,15,"key"],[52,18,44,18],[52,22,44,22,"debugIdKeys"],[52,33,44,33],[52,35,44,35],[53,8,45,6],[53,12,45,12,"debugId"],[53,19,45,19],[53,22,45,22,"debugIdMap"],[53,32,45,32],[53,33,45,33,"key"],[53,36,45,36],[53,37,45,37],[54,8,46,6],[54,12,46,12,"result"],[54,18,46,18],[54,21,46,21,"parsedStackResults"],[54,39,46,39],[54,42,46,42,"key"],[54,45,46,45],[54,46,46,46],[55,8,48,6],[55,12,48,10,"result"],[55,18,48,16],[55,22,48,20,"cachedFilenameDebugIds"],[55,44,48,42],[55,48,48,46,"debugId"],[55,55,48,53],[55,57,48,55],[56,10,49,8],[57,10,50,8,"cachedFilenameDebugIds"],[57,32,50,30],[57,33,50,31,"result"],[57,39,50,37],[57,40,50,38],[57,41,50,39],[57,42,50,40],[57,43,50,41],[57,46,50,44,"debugId"],[57,53,50,51],[58,10,51,8],[59,10,52,8],[59,14,52,12,"parsedStackResults"],[59,32,52,30],[59,34,52,32],[60,12,53,10,"parsedStackResults"],[60,30,53,28],[60,31,53,29,"key"],[60,34,53,32],[60,35,53,33],[60,38,53,36],[60,39,53,37,"result"],[60,45,53,43],[60,46,53,44],[60,47,53,45],[60,48,53,46],[60,50,53,48,"debugId"],[60,57,53,55],[60,58,53,56],[61,10,54,8],[62,8,55,6],[62,9,55,7],[62,15,55,13],[62,19,55,17,"debugId"],[62,26,55,24],[62,28,55,26],[63,10,56,8],[63,14,56,14,"parsedStack"],[63,25,56,25],[63,28,56,28,"stackParser"],[63,39,56,39],[63,40,56,40,"key"],[63,43,56,43],[63,44,56,44],[64,10,58,8],[64,15,58,13],[64,19,58,17,"i"],[64,20,58,18],[64,23,58,21,"parsedStack"],[64,34,58,32],[64,35,58,33,"length"],[64,41,58,39],[64,44,58,42],[64,45,58,43],[64,47,58,45,"i"],[64,48,58,46],[64,52,58,50],[64,53,58,51],[64,55,58,53,"i"],[64,56,58,54],[64,58,58,56],[64,60,58,58],[65,12,59,10],[65,16,59,16,"stackFrame"],[65,26,59,26],[65,29,59,29,"parsedStack"],[65,40,59,40],[65,41,59,41,"i"],[65,42,59,42],[65,43,59,43],[66,12,60,10],[66,16,60,16,"filename"],[66,24,60,24],[66,27,60,27,"stackFrame"],[66,37,60,37],[66,39,60,39,"filename"],[66,47,60,47],[67,12,62,10],[67,16,62,14,"filename"],[67,24,62,22],[67,28,62,26,"cachedFilenameDebugIds"],[67,50,62,48],[67,54,62,52,"parsedStackResults"],[67,72,62,70],[67,74,62,72],[68,14,63,12,"cachedFilenameDebugIds"],[68,36,63,34],[68,37,63,35,"filename"],[68,45,63,43],[68,46,63,44],[68,49,63,47,"debugId"],[68,56,63,54],[69,14,64,12,"parsedStackResults"],[69,32,64,30],[69,33,64,31,"key"],[69,36,64,34],[69,37,64,35],[69,40,64,38],[69,41,64,39,"filename"],[69,49,64,47],[69,51,64,49,"debugId"],[69,58,64,56],[69,59,64,57],[70,14,65,12],[71,12,66,10],[72,10,67,8],[73,8,68,6],[74,6,69,4],[75,4,70,2],[75,5,70,3],[76,4,72,2],[76,8,72,6,"sentryDebugIdMap"],[76,24,72,22],[76,26,72,24],[77,6,73,4,"processDebugIds"],[77,21,73,19],[77,22,73,20,"sentryDebugIdKeys"],[77,39,73,37],[77,41,73,39,"sentryDebugIdMap"],[77,57,73,55],[77,58,73,56],[78,4,74,2],[80,4,76,2],[81,4,77,2],[81,8,77,6,"nativeDebugIdMap"],[81,24,77,22],[81,26,77,24],[82,6,78,4,"processDebugIds"],[82,21,78,19],[82,22,78,20,"nativeDebugIdKeys"],[82,39,78,37],[82,41,78,39,"nativeDebugIdMap"],[82,57,78,55],[82,58,78,56],[83,4,79,2],[84,4,81,2],[84,11,81,9,"cachedFilenameDebugIds"],[84,33,81,31],[85,2,82,0],[87,2,84,0],[88,0,85,0],[89,0,86,0],[90,2,87,0],[90,11,87,9,"getDebugImagesForResources"],[90,37,87,35,"getDebugImagesForResources"],[90,38,88,2,"stackParser"],[90,49,88,13],[90,51,89,2,"resource_paths"],[90,65,89,16],[90,67,90,2],[91,4,91,2],[91,8,91,8,"filenameDebugIdMap"],[91,26,91,26],[91,29,91,29,"getFilenameToDebugIdMap"],[91,52,91,52],[91,53,91,53,"stackParser"],[91,64,91,64],[91,65,91,65],[92,4,93,2],[92,8,93,6],[92,9,93,7,"filenameDebugIdMap"],[92,27,93,25],[92,29,93,27],[93,6,94,4],[93,13,94,11],[93,15,94,13],[94,4,95,2],[95,4,97,2],[95,8,97,8,"images"],[95,14,97,14],[95,17,97,17],[95,19,97,19],[96,4,98,2],[96,9,98,7],[96,13,98,13,"path"],[96,17,98,17],[96,21,98,21,"resource_paths"],[96,35,98,35],[96,37,98,37],[97,6,99,4],[97,10,99,8,"path"],[97,14,99,12],[97,18,99,16,"filenameDebugIdMap"],[97,36,99,34],[97,37,99,35,"path"],[97,41,99,39],[97,42,99,40],[97,44,99,42],[98,8,100,6,"images"],[98,14,100,12],[98,15,100,13,"push"],[98,19,100,17],[98,20,100,18],[99,10,101,8,"type"],[99,14,101,12],[99,16,101,14],[99,27,101,25],[100,10,102,8,"code_file"],[100,19,102,17],[100,21,102,19,"path"],[100,25,102,23],[101,10,103,8,"debug_id"],[101,18,103,16],[101,20,103,18,"filenameDebugIdMap"],[101,38,103,36],[101,39,103,37,"path"],[101,43,103,41],[102,8,104,6],[102,9,104,7],[102,10,104,8],[103,6,105,4],[104,4,106,2],[105,4,108,2],[105,11,108,9,"images"],[105,17,108,15],[106,2,109,0],[107,0,109,1],[107,3]],"functionMap":{"names":["<global>","getFilenameToDebugIdMap","processDebugIds","getDebugImagesForResources"],"mappings":"AAA;ACW;0BC+B;GD2B;CDY;AGK;CHsB"},"hasCjsExports":false},"type":"js/module"}]}