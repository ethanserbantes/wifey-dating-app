{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":37,"index":74}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useOnboardingStepValidation = useOnboardingStepValidation;\n  var _react = require(_dependencyMap[0]);\n  var _reactNative = require(_dependencyMap[1]);\n  function useOnboardingStepValidation(_ref) {\n    var step = _ref.step,\n      setStep = _ref.setStep,\n      totalSteps = _ref.totalSteps,\n      heightInches = _ref.heightInches,\n      ageMin = _ref.ageMin,\n      ageMax = _ref.ageMax,\n      bornIn = _ref.bornIn,\n      setBornIn = _ref.setBornIn,\n      jobTitle = _ref.jobTitle,\n      setJobTitle = _ref.setJobTitle,\n      company = _ref.company,\n      setCompany = _ref.setCompany,\n      primaryPhotoUrl = _ref.primaryPhotoUrl,\n      about = _ref.about,\n      interests = _ref.interests,\n      saveMutation = _ref.saveMutation,\n      router = _ref.router,\n      busy = _ref.busy,\n      skippedSteps = _ref.skippedSteps,\n      setSkippedSteps = _ref.setSkippedSteps;\n    var goNext = (0, _react.useCallback)(() => {\n      setStep(s => Math.min(totalSteps - 1, s + 1));\n    }, [setStep, totalSteps]);\n    var skipCurrentStep = (0, _react.useCallback)(() => {\n      if (busy) return;\n      setSkippedSteps(prev => {\n        var safePrev = prev && typeof prev === \"object\" ? prev : {};\n        return {\n          ...safePrev,\n          [step]: true\n        };\n      });\n      if (step >= totalSteps - 1) {\n        // last screen skip = finish\n        saveMutation.mutate({\n          skippedSteps: {\n            ...(skippedSteps || {}),\n            [step]: true\n          }\n        }, {\n          onSuccess: () => {\n            // After finishing onboarding, ask for notifications + location.\n            // (Split into two screens: notifications first, then location.)\n            router.replace(\"/onboarding/notifications\");\n          },\n          onError: e => {\n            console.error(e);\n            _reactNative.Alert.alert(\"Could not save\", e?.message || \"Please try again.\");\n          }\n        });\n        return;\n      }\n      goNext();\n    }, [busy, goNext, router, saveMutation, setSkippedSteps, skippedSteps, step, totalSteps]);\n    var validateAndNext = (0, _react.useCallback)(() => {\n      if (busy) return;\n\n      // Only required: height + profile photo.\n      if (step === 0) {\n        if (!heightInches) {\n          _reactNative.Alert.alert(\"Missing info\", \"Please select your height\");\n          return;\n        }\n        goNext();\n        return;\n      }\n      if (step === 4) {\n        if (!primaryPhotoUrl) {\n          _reactNative.Alert.alert(\"Required\", \"Please add a profile photo to continue\");\n          return;\n        }\n        goNext();\n        return;\n      }\n\n      // Optional screens: we still lightly clean up input if present, but we do not block.\n      if (step === 2) {\n        var trimmed = String(bornIn || \"\").trim();\n        if (trimmed) {\n          setBornIn(trimmed);\n        }\n        goNext();\n        return;\n      }\n      if (step === 3) {\n        var jt = String(jobTitle || \"\").trim();\n        var co = String(company || \"\").trim();\n        if (jt) setJobTitle(jt);\n        if (co) setCompany(co);\n        goNext();\n        return;\n      }\n      if (step < totalSteps - 1) {\n        goNext();\n        return;\n      }\n\n      // Last step: save and finish (About + interests are optional now)\n      saveMutation.mutate({\n        skippedSteps\n      }, {\n        onSuccess: () => {\n          // After finishing onboarding, ask for notifications + location.\n          // (Split into two screens: notifications first, then location.)\n          router.replace(\"/onboarding/notifications\");\n        },\n        onError: e => {\n          console.error(e);\n          _reactNative.Alert.alert(\"Could not save\", e?.message || \"Please try again.\");\n        }\n      });\n    }, [about, ageMax, ageMin, bornIn, busy, company, goNext, heightInches, interests, jobTitle, primaryPhotoUrl, router, saveMutation, setBornIn, setCompany, setJobTitle, skippedSteps, step, totalSteps]);\n    return {\n      validateAndNext,\n      skipCurrentStep\n    };\n  }\n});","lineCount":128,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"useOnboardingStepValidation"],[7,37,4,0],[7,40,4,0,"useOnboardingStepValidation"],[7,67,4,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_reactNative"],[9,18,2,0],[9,21,2,0,"require"],[9,28,2,0],[9,29,2,0,"_dependencyMap"],[9,43,2,0],[10,2,4,7],[10,11,4,16,"useOnboardingStepValidation"],[10,38,4,43,"useOnboardingStepValidation"],[10,39,4,43,"_ref"],[10,43,4,43],[10,45,25,3],[11,4,25,3],[11,8,5,2,"step"],[11,12,5,6],[11,15,5,6,"_ref"],[11,19,5,6],[11,20,5,2,"step"],[11,24,5,6],[12,6,6,2,"setStep"],[12,13,6,9],[12,16,6,9,"_ref"],[12,20,6,9],[12,21,6,2,"setStep"],[12,28,6,9],[13,6,7,2,"totalSteps"],[13,16,7,12],[13,19,7,12,"_ref"],[13,23,7,12],[13,24,7,2,"totalSteps"],[13,34,7,12],[14,6,8,2,"heightInches"],[14,18,8,14],[14,21,8,14,"_ref"],[14,25,8,14],[14,26,8,2,"heightInches"],[14,38,8,14],[15,6,9,2,"ageMin"],[15,12,9,8],[15,15,9,8,"_ref"],[15,19,9,8],[15,20,9,2,"ageMin"],[15,26,9,8],[16,6,10,2,"ageMax"],[16,12,10,8],[16,15,10,8,"_ref"],[16,19,10,8],[16,20,10,2,"ageMax"],[16,26,10,8],[17,6,11,2,"bornIn"],[17,12,11,8],[17,15,11,8,"_ref"],[17,19,11,8],[17,20,11,2,"bornIn"],[17,26,11,8],[18,6,12,2,"setBornIn"],[18,15,12,11],[18,18,12,11,"_ref"],[18,22,12,11],[18,23,12,2,"setBornIn"],[18,32,12,11],[19,6,13,2,"jobTitle"],[19,14,13,10],[19,17,13,10,"_ref"],[19,21,13,10],[19,22,13,2,"jobTitle"],[19,30,13,10],[20,6,14,2,"setJobTitle"],[20,17,14,13],[20,20,14,13,"_ref"],[20,24,14,13],[20,25,14,2,"setJobTitle"],[20,36,14,13],[21,6,15,2,"company"],[21,13,15,9],[21,16,15,9,"_ref"],[21,20,15,9],[21,21,15,2,"company"],[21,28,15,9],[22,6,16,2,"setCompany"],[22,16,16,12],[22,19,16,12,"_ref"],[22,23,16,12],[22,24,16,2,"setCompany"],[22,34,16,12],[23,6,17,2,"primaryPhotoUrl"],[23,21,17,17],[23,24,17,17,"_ref"],[23,28,17,17],[23,29,17,2,"primaryPhotoUrl"],[23,44,17,17],[24,6,18,2,"about"],[24,11,18,7],[24,14,18,7,"_ref"],[24,18,18,7],[24,19,18,2,"about"],[24,24,18,7],[25,6,19,2,"interests"],[25,15,19,11],[25,18,19,11,"_ref"],[25,22,19,11],[25,23,19,2,"interests"],[25,32,19,11],[26,6,20,2,"saveMutation"],[26,18,20,14],[26,21,20,14,"_ref"],[26,25,20,14],[26,26,20,2,"saveMutation"],[26,38,20,14],[27,6,21,2,"router"],[27,12,21,8],[27,15,21,8,"_ref"],[27,19,21,8],[27,20,21,2,"router"],[27,26,21,8],[28,6,22,2,"busy"],[28,10,22,6],[28,13,22,6,"_ref"],[28,17,22,6],[28,18,22,2,"busy"],[28,22,22,6],[29,6,23,2,"skippedSteps"],[29,18,23,14],[29,21,23,14,"_ref"],[29,25,23,14],[29,26,23,2,"skippedSteps"],[29,38,23,14],[30,6,24,2,"setSkippedSteps"],[30,21,24,17],[30,24,24,17,"_ref"],[30,28,24,17],[30,29,24,2,"setSkippedSteps"],[30,44,24,17],[31,4,26,2],[31,8,26,8,"goNext"],[31,14,26,14],[31,17,26,17],[31,21,26,17,"useCallback"],[31,27,26,28],[31,28,26,28,"useCallback"],[31,39,26,28],[31,41,26,29],[31,47,26,35],[32,6,27,4,"setStep"],[32,13,27,11],[32,14,27,13,"s"],[32,15,27,14],[32,19,27,19,"Math"],[32,23,27,23],[32,24,27,24,"min"],[32,27,27,27],[32,28,27,28,"totalSteps"],[32,38,27,38],[32,41,27,41],[32,42,27,42],[32,44,27,44,"s"],[32,45,27,45],[32,48,27,48],[32,49,27,49],[32,50,27,50],[32,51,27,51],[33,4,28,2],[33,5,28,3],[33,7,28,5],[33,8,28,6,"setStep"],[33,15,28,13],[33,17,28,15,"totalSteps"],[33,27,28,25],[33,28,28,26],[33,29,28,27],[34,4,30,2],[34,8,30,8,"skipCurrentStep"],[34,23,30,23],[34,26,30,26],[34,30,30,26,"useCallback"],[34,36,30,37],[34,37,30,37,"useCallback"],[34,48,30,37],[34,50,30,38],[34,56,30,44],[35,6,31,4],[35,10,31,8,"busy"],[35,14,31,12],[35,16,31,14],[36,6,33,4,"setSkippedSteps"],[36,21,33,19],[36,22,33,21,"prev"],[36,26,33,25],[36,30,33,30],[37,8,34,6],[37,12,34,12,"safePrev"],[37,20,34,20],[37,23,34,23,"prev"],[37,27,34,27],[37,31,34,31],[37,38,34,38,"prev"],[37,42,34,42],[37,47,34,47],[37,55,34,55],[37,58,34,58,"prev"],[37,62,34,62],[37,65,34,65],[37,66,34,66],[37,67,34,67],[38,8,35,6],[38,15,35,13],[39,10,35,15],[39,13,35,18,"safePrev"],[39,21,35,26],[40,10,35,28],[40,11,35,29,"step"],[40,15,35,33],[40,18,35,36],[41,8,35,41],[41,9,35,42],[42,6,36,4],[42,7,36,5],[42,8,36,6],[43,6,38,4],[43,10,38,8,"step"],[43,14,38,12],[43,18,38,16,"totalSteps"],[43,28,38,26],[43,31,38,29],[43,32,38,30],[43,34,38,32],[44,8,39,6],[45,8,40,6,"saveMutation"],[45,20,40,18],[45,21,40,19,"mutate"],[45,27,40,25],[45,28,41,8],[46,10,41,10,"skippedSteps"],[46,22,41,22],[46,24,41,24],[47,12,41,26],[47,16,41,30,"skippedSteps"],[47,28,41,42],[47,32,41,46],[47,33,41,47],[47,34,41,48],[47,35,41,49],[48,12,41,51],[48,13,41,52,"step"],[48,17,41,56],[48,20,41,59],[49,10,41,64],[50,8,41,66],[50,9,41,67],[50,11,42,8],[51,10,43,10,"onSuccess"],[51,19,43,19],[51,21,43,21,"onSuccess"],[51,22,43,21],[51,27,43,27],[52,12,44,12],[53,12,45,12],[54,12,46,12,"router"],[54,18,46,18],[54,19,46,19,"replace"],[54,26,46,26],[54,27,46,27],[54,54,46,54],[54,55,46,55],[55,10,47,10],[55,11,47,11],[56,10,48,10,"onError"],[56,17,48,17],[56,19,48,20,"e"],[56,20,48,21],[56,24,48,26],[57,12,49,12,"console"],[57,19,49,19],[57,20,49,20,"error"],[57,25,49,25],[57,26,49,26,"e"],[57,27,49,27],[57,28,49,28],[58,12,50,12,"Alert"],[58,24,50,17],[58,25,50,17,"Alert"],[58,30,50,17],[58,31,50,18,"alert"],[58,36,50,23],[58,37,50,24],[58,53,50,40],[58,55,50,42,"e"],[58,56,50,43],[58,58,50,45,"message"],[58,65,50,52],[58,69,50,56],[58,88,50,75],[58,89,50,76],[59,10,51,10],[60,8,52,8],[60,9,53,6],[60,10,53,7],[61,8,54,6],[62,6,55,4],[63,6,57,4,"goNext"],[63,12,57,10],[63,13,57,11],[63,14,57,12],[64,4,58,2],[64,5,58,3],[64,7,58,5],[64,8,59,4,"busy"],[64,12,59,8],[64,14,60,4,"goNext"],[64,20,60,10],[64,22,61,4,"router"],[64,28,61,10],[64,30,62,4,"saveMutation"],[64,42,62,16],[64,44,63,4,"setSkippedSteps"],[64,59,63,19],[64,61,64,4,"skippedSteps"],[64,73,64,16],[64,75,65,4,"step"],[64,79,65,8],[64,81,66,4,"totalSteps"],[64,91,66,14],[64,92,67,3],[64,93,67,4],[65,4,69,2],[65,8,69,8,"validateAndNext"],[65,23,69,23],[65,26,69,26],[65,30,69,26,"useCallback"],[65,36,69,37],[65,37,69,37,"useCallback"],[65,48,69,37],[65,50,69,38],[65,56,69,44],[66,6,70,4],[66,10,70,8,"busy"],[66,14,70,12],[66,16,70,14],[68,6,72,4],[69,6,73,4],[69,10,73,8,"step"],[69,14,73,12],[69,19,73,17],[69,20,73,18],[69,22,73,20],[70,8,74,6],[70,12,74,10],[70,13,74,11,"heightInches"],[70,25,74,23],[70,27,74,25],[71,10,75,8,"Alert"],[71,22,75,13],[71,23,75,13,"Alert"],[71,28,75,13],[71,29,75,14,"alert"],[71,34,75,19],[71,35,75,20],[71,49,75,34],[71,51,75,36],[71,78,75,63],[71,79,75,64],[72,10,76,8],[73,8,77,6],[74,8,78,6,"goNext"],[74,14,78,12],[74,15,78,13],[74,16,78,14],[75,8,79,6],[76,6,80,4],[77,6,82,4],[77,10,82,8,"step"],[77,14,82,12],[77,19,82,17],[77,20,82,18],[77,22,82,20],[78,8,83,6],[78,12,83,10],[78,13,83,11,"primaryPhotoUrl"],[78,28,83,26],[78,30,83,28],[79,10,84,8,"Alert"],[79,22,84,13],[79,23,84,13,"Alert"],[79,28,84,13],[79,29,84,14,"alert"],[79,34,84,19],[79,35,84,20],[79,45,84,30],[79,47,84,32],[79,87,84,72],[79,88,84,73],[80,10,85,8],[81,8,86,6],[82,8,87,6,"goNext"],[82,14,87,12],[82,15,87,13],[82,16,87,14],[83,8,88,6],[84,6,89,4],[86,6,91,4],[87,6,92,4],[87,10,92,8,"step"],[87,14,92,12],[87,19,92,17],[87,20,92,18],[87,22,92,20],[88,8,93,6],[88,12,93,12,"trimmed"],[88,19,93,19],[88,22,93,22,"String"],[88,28,93,28],[88,29,93,29,"bornIn"],[88,35,93,35],[88,39,93,39],[88,41,93,41],[88,42,93,42],[88,43,93,43,"trim"],[88,47,93,47],[88,48,93,48],[88,49,93,49],[89,8,94,6],[89,12,94,10,"trimmed"],[89,19,94,17],[89,21,94,19],[90,10,95,8,"setBornIn"],[90,19,95,17],[90,20,95,18,"trimmed"],[90,27,95,25],[90,28,95,26],[91,8,96,6],[92,8,97,6,"goNext"],[92,14,97,12],[92,15,97,13],[92,16,97,14],[93,8,98,6],[94,6,99,4],[95,6,101,4],[95,10,101,8,"step"],[95,14,101,12],[95,19,101,17],[95,20,101,18],[95,22,101,20],[96,8,102,6],[96,12,102,12,"jt"],[96,14,102,14],[96,17,102,17,"String"],[96,23,102,23],[96,24,102,24,"jobTitle"],[96,32,102,32],[96,36,102,36],[96,38,102,38],[96,39,102,39],[96,40,102,40,"trim"],[96,44,102,44],[96,45,102,45],[96,46,102,46],[97,8,103,6],[97,12,103,12,"co"],[97,14,103,14],[97,17,103,17,"String"],[97,23,103,23],[97,24,103,24,"company"],[97,31,103,31],[97,35,103,35],[97,37,103,37],[97,38,103,38],[97,39,103,39,"trim"],[97,43,103,43],[97,44,103,44],[97,45,103,45],[98,8,104,6],[98,12,104,10,"jt"],[98,14,104,12],[98,16,104,14,"setJobTitle"],[98,27,104,25],[98,28,104,26,"jt"],[98,30,104,28],[98,31,104,29],[99,8,105,6],[99,12,105,10,"co"],[99,14,105,12],[99,16,105,14,"setCompany"],[99,26,105,24],[99,27,105,25,"co"],[99,29,105,27],[99,30,105,28],[100,8,106,6,"goNext"],[100,14,106,12],[100,15,106,13],[100,16,106,14],[101,8,107,6],[102,6,108,4],[103,6,110,4],[103,10,110,8,"step"],[103,14,110,12],[103,17,110,15,"totalSteps"],[103,27,110,25],[103,30,110,28],[103,31,110,29],[103,33,110,31],[104,8,111,6,"goNext"],[104,14,111,12],[104,15,111,13],[104,16,111,14],[105,8,112,6],[106,6,113,4],[108,6,115,4],[109,6,116,4,"saveMutation"],[109,18,116,16],[109,19,116,17,"mutate"],[109,25,116,23],[109,26,117,6],[110,8,117,8,"skippedSteps"],[111,6,117,21],[111,7,117,22],[111,9,118,6],[112,8,119,8,"onSuccess"],[112,17,119,17],[112,19,119,19,"onSuccess"],[112,20,119,19],[112,25,119,25],[113,10,120,10],[114,10,121,10],[115,10,122,10,"router"],[115,16,122,16],[115,17,122,17,"replace"],[115,24,122,24],[115,25,122,25],[115,52,122,52],[115,53,122,53],[116,8,123,8],[116,9,123,9],[117,8,124,8,"onError"],[117,15,124,15],[117,17,124,18,"e"],[117,18,124,19],[117,22,124,24],[118,10,125,10,"console"],[118,17,125,17],[118,18,125,18,"error"],[118,23,125,23],[118,24,125,24,"e"],[118,25,125,25],[118,26,125,26],[119,10,126,10,"Alert"],[119,22,126,15],[119,23,126,15,"Alert"],[119,28,126,15],[119,29,126,16,"alert"],[119,34,126,21],[119,35,126,22],[119,51,126,38],[119,53,126,40,"e"],[119,54,126,41],[119,56,126,43,"message"],[119,63,126,50],[119,67,126,54],[119,86,126,73],[119,87,126,74],[120,8,127,8],[121,6,128,6],[121,7,129,4],[121,8,129,5],[122,4,130,2],[122,5,130,3],[122,7,130,5],[122,8,131,4,"about"],[122,13,131,9],[122,15,132,4,"ageMax"],[122,21,132,10],[122,23,133,4,"ageMin"],[122,29,133,10],[122,31,134,4,"bornIn"],[122,37,134,10],[122,39,135,4,"busy"],[122,43,135,8],[122,45,136,4,"company"],[122,52,136,11],[122,54,137,4,"goNext"],[122,60,137,10],[122,62,138,4,"heightInches"],[122,74,138,16],[122,76,139,4,"interests"],[122,85,139,13],[122,87,140,4,"jobTitle"],[122,95,140,12],[122,97,141,4,"primaryPhotoUrl"],[122,112,141,19],[122,114,142,4,"router"],[122,120,142,10],[122,122,143,4,"saveMutation"],[122,134,143,16],[122,136,144,4,"setBornIn"],[122,145,144,13],[122,147,145,4,"setCompany"],[122,157,145,14],[122,159,146,4,"setJobTitle"],[122,170,146,15],[122,172,147,4,"skippedSteps"],[122,184,147,16],[122,186,148,4,"step"],[122,190,148,8],[122,192,149,4,"totalSteps"],[122,202,149,14],[122,203,150,3],[122,204,150,4],[123,4,152,2],[123,11,152,9],[124,6,152,11,"validateAndNext"],[124,21,152,26],[125,6,152,28,"skipCurrentStep"],[126,4,152,44],[126,5,152,45],[127,2,153,0],[128,0,153,1],[128,3]],"functionMap":{"names":["<global>","useOnboardingStepValidation","goNext","setStep$argument_0","skipCurrentStep","setSkippedSteps$argument_0","saveMutation.mutate$argument_1.onSuccess","saveMutation.mutate$argument_1.onError","validateAndNext"],"mappings":"AAA;OCG;6BCsB;YCC,sCD;GDC;sCGE;oBCG;KDG;qBEO;WFI;mBGC;WHG;GHO;sCOW;mBFkD;SEI;iBDC;SCG;GPG;CDuB"},"hasCjsExports":false},"type":"js/module"}]}