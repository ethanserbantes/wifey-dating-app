{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":32,"index":32}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":33},"end":{"line":2,"column":49,"index":82}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":69,"index":152}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useProfileData = useProfileData;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  function useProfileData() {\n    _s();\n    const {\n      data,\n      isLoading,\n      error\n    } = (0, _tanstackReactQuery.useQuery)({\n      queryKey: [\"profile\", \"me\"],\n      queryFn: async () => {\n        const userData = await AsyncStorage.default.getItem(\"user\");\n        if (!userData) {\n          throw new Error(\"You're not signed in.\");\n        }\n        const user = JSON.parse(userData);\n        const response = await fetch(`/api/profile/me?userId=${user.id}`);\n        if (!response.ok) {\n          throw new Error(`When fetching /api/profile/me, the response was [${response.status}] ${response.statusText}`);\n        }\n        const json = await response.json();\n        return {\n          user,\n          profile: json.profile\n        };\n      }\n    });\n    const serverProfile = data?.profile;\n    const preferences = (0, _react.useMemo)(() => {\n      const raw = serverProfile?.preferences;\n      if (!raw) return {};\n      if (typeof raw === \"object\") return raw;\n      try {\n        return JSON.parse(raw);\n      } catch {\n        return {};\n      }\n    }, [serverProfile?.preferences]);\n    return {\n      data,\n      isLoading,\n      error,\n      serverProfile,\n      preferences\n    };\n  }\n  _s(useProfileData, \"Cy32PmcoIIL2TKHo32uv0BcJxqs=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n});","lineCount":65,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useProfileData"],[13,24,5,0],[13,27,5,0,"useProfileData"],[13,41,5,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,3,0],[16,45,3,0,"require"],[16,52,3,0],[16,53,3,0,"_dependencyMap"],[16,67,3,0],[17,2,3,0],[17,6,3,0,"AsyncStorage"],[17,18,3,0],[17,21,3,0,"_interopDefault"],[17,36,3,0],[17,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,3,0],[18,2,5,7],[18,11,5,16,"useProfileData"],[18,25,5,30,"useProfileData"],[18,26,5,30],[18,28,5,33],[19,4,5,33,"_s"],[19,6,5,33],[20,4,6,2],[20,10,6,8],[21,6,6,10,"data"],[21,10,6,14],[22,6,6,16,"isLoading"],[22,15,6,25],[23,6,6,27,"error"],[24,4,6,33],[24,5,6,34],[24,8,6,37],[24,12,6,37,"useQuery"],[24,31,6,45],[24,32,6,45,"useQuery"],[24,40,6,45],[24,42,6,46],[25,6,7,4,"queryKey"],[25,14,7,12],[25,16,7,14],[25,17,7,15],[25,26,7,24],[25,28,7,26],[25,32,7,30],[25,33,7,31],[26,6,8,4,"queryFn"],[26,13,8,11],[26,15,8,13],[26,21,8,13,"queryFn"],[26,22,8,13],[26,27,8,25],[27,8,9,6],[27,14,9,12,"userData"],[27,22,9,20],[27,25,9,23],[27,31,9,29,"AsyncStorage"],[27,43,9,41],[27,44,9,41,"default"],[27,51,9,41],[27,52,9,42,"getItem"],[27,59,9,49],[27,60,9,50],[27,66,9,56],[27,67,9,57],[28,8,10,6],[28,12,10,10],[28,13,10,11,"userData"],[28,21,10,19],[28,23,10,21],[29,10,11,8],[29,16,11,14],[29,20,11,18,"Error"],[29,25,11,23],[29,26,11,24],[29,49,11,47],[29,50,11,48],[30,8,12,6],[31,8,13,6],[31,14,13,12,"user"],[31,18,13,16],[31,21,13,19,"JSON"],[31,25,13,23],[31,26,13,24,"parse"],[31,31,13,29],[31,32,13,30,"userData"],[31,40,13,38],[31,41,13,39],[32,8,15,6],[32,14,15,12,"response"],[32,22,15,20],[32,25,15,23],[32,31,15,29,"fetch"],[32,36,15,34],[32,37,15,35],[32,63,15,61,"user"],[32,67,15,65],[32,68,15,66,"id"],[32,70,15,68],[32,72,15,70],[32,73,15,71],[33,8,16,6],[33,12,16,10],[33,13,16,11,"response"],[33,21,16,19],[33,22,16,20,"ok"],[33,24,16,22],[33,26,16,24],[34,10,17,8],[34,16,17,14],[34,20,17,18,"Error"],[34,25,17,23],[34,26,18,10],[34,78,18,62,"response"],[34,86,18,70],[34,87,18,71,"status"],[34,93,18,77],[34,98,18,82,"response"],[34,106,18,90],[34,107,18,91,"statusText"],[34,117,18,101],[34,119,19,8],[34,120,19,9],[35,8,20,6],[36,8,21,6],[36,14,21,12,"json"],[36,18,21,16],[36,21,21,19],[36,27,21,25,"response"],[36,35,21,33],[36,36,21,34,"json"],[36,40,21,38],[36,41,21,39],[36,42,21,40],[37,8,22,6],[37,15,22,13],[38,10,22,15,"user"],[38,14,22,19],[39,10,22,21,"profile"],[39,17,22,28],[39,19,22,30,"json"],[39,23,22,34],[39,24,22,35,"profile"],[40,8,22,43],[40,9,22,44],[41,6,23,4],[42,4,24,2],[42,5,24,3],[42,6,24,4],[43,4,26,2],[43,10,26,8,"serverProfile"],[43,23,26,21],[43,26,26,24,"data"],[43,30,26,28],[43,32,26,30,"profile"],[43,39,26,37],[44,4,28,2],[44,10,28,8,"preferences"],[44,21,28,19],[44,24,28,22],[44,28,28,22,"useMemo"],[44,34,28,29],[44,35,28,29,"useMemo"],[44,42,28,29],[44,44,28,30],[44,50,28,36],[45,6,29,4],[45,12,29,10,"raw"],[45,15,29,13],[45,18,29,16,"serverProfile"],[45,31,29,29],[45,33,29,31,"preferences"],[45,44,29,42],[46,6,30,4],[46,10,30,8],[46,11,30,9,"raw"],[46,14,30,12],[46,16,30,14],[46,23,30,21],[46,24,30,22],[46,25,30,23],[47,6,31,4],[47,10,31,8],[47,17,31,15,"raw"],[47,20,31,18],[47,25,31,23],[47,33,31,31],[47,35,31,33],[47,42,31,40,"raw"],[47,45,31,43],[48,6,32,4],[48,10,32,8],[49,8,33,6],[49,15,33,13,"JSON"],[49,19,33,17],[49,20,33,18,"parse"],[49,25,33,23],[49,26,33,24,"raw"],[49,29,33,27],[49,30,33,28],[50,6,34,4],[50,7,34,5],[50,8,34,6],[50,14,34,12],[51,8,35,6],[51,15,35,13],[51,16,35,14],[51,17,35,15],[52,6,36,4],[53,4,37,2],[53,5,37,3],[53,7,37,5],[53,8,37,6,"serverProfile"],[53,21,37,19],[53,23,37,21,"preferences"],[53,34,37,32],[53,35,37,33],[53,36,37,34],[54,4,39,2],[54,11,39,9],[55,6,40,4,"data"],[55,10,40,8],[56,6,41,4,"isLoading"],[56,15,41,13],[57,6,42,4,"error"],[57,11,42,9],[58,6,43,4,"serverProfile"],[58,19,43,17],[59,6,44,4,"preferences"],[60,4,45,2],[60,5,45,3],[61,2,46,0],[62,2,46,1,"_s"],[62,4,46,1],[62,5,5,16,"useProfileData"],[62,19,5,30],[63,4,5,30],[63,12,6,37,"useQuery"],[63,31,6,45],[63,32,6,45,"useQuery"],[63,40,6,45],[64,2,6,45],[65,0,6,45],[65,3]],"functionMap":{"names":["<global>","useProfileData","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;OCI;aCG;KDe;8BEK;GFS;CDS"},"hasCjsExports":false},"type":"js/module"}]}