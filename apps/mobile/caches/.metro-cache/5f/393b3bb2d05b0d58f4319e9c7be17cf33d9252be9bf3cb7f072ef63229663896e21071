{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@/utils/auth/useAuth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":47,"index":87}}],"key":"OwmwtjBeuaoeWH+HHIznha/uOFE=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":55,"index":143}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":144},"end":{"line":4,"column":44,"index":188}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":189},"end":{"line":5,"column":69,"index":258}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _expoRouter = require(_dependencyMap[2]);\n  var _utilsAuthUseAuth = require(_dependencyMap[3]);\n  var _reactNative = require(_dependencyMap[4]);\n  var _react = require(_dependencyMap[5]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[6]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxRuntime = require(_dependencyMap[7]);\n  function Index() {\n    var _useAuth = (0, _utilsAuthUseAuth.useAuth)(),\n      isReady = _useAuth.isReady,\n      isAuthenticated = _useAuth.isAuthenticated;\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      checkedProfile = _useState2[0],\n      setCheckedProfile = _useState2[1];\n    var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      screeningPassed = _useState4[0],\n      setScreeningPassed = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      onboardingComplete = _useState6[0],\n      setOnboardingComplete = _useState6[1];\n    (0, _react.useEffect)(() => {\n      var checkProfile = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var profile = yield AsyncStorage.default.getItem(\"profile\");\n            var onboardingSeen = yield AsyncStorage.default.getItem(\"onboarding_seen\");\n            if (profile) {\n              var parsed = JSON.parse(profile);\n              // Check if they passed screening\n              if (parsed?.screening_result === \"pass\") {\n                setScreeningPassed(true);\n                // Check if they completed the full onboarding\n                if (onboardingSeen === \"true\") {\n                  setOnboardingComplete(true);\n                }\n              }\n            }\n          } catch (e) {\n            console.error(e);\n          } finally {\n            setCheckedProfile(true);\n          }\n        });\n        return function checkProfile() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      if (isReady && isAuthenticated) {\n        checkProfile();\n      } else {\n        setCheckedProfile(true);\n      }\n    }, [isReady, isAuthenticated]);\n    if (!isReady || !checkedProfile) {\n      return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNative.View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNative.ActivityIndicator, {\n          size: \"large\"\n        })\n      });\n    }\n    if (isAuthenticated) {\n      // Full flow: Gate → Quiz → Onboarding (12 steps) → Notifications → Home\n      if (!screeningPassed) {\n        // Not passed quiz yet\n        return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_expoRouter.Redirect, {\n          href: \"/screening/gate\"\n        });\n      }\n      if (!onboardingComplete) {\n        // Passed quiz but not done with onboarding\n        return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_expoRouter.Redirect, {\n          href: \"/onboarding/profile\"\n        });\n      }\n      // Fully complete, go to home\n      return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_expoRouter.Redirect, {\n        href: \"/(tabs)/home\"\n      });\n    }\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_expoRouter.Redirect, {\n      href: \"/onboarding\"\n    });\n  }\n});","lineCount":113,"map":[[12,2,7,15,"Object"],[12,8,7,15],[12,9,7,15,"defineProperty"],[12,23,7,15],[12,24,7,15,"exports"],[12,31,7,15],[13,4,7,15,"enumerable"],[13,14,7,15],[14,4,7,15,"get"],[14,7,7,15],[14,18,7,15,"get"],[14,19,7,15],[15,6,7,15],[15,13,7,15,"Index"],[15,18,7,15],[16,4,7,15],[17,2,7,15],[18,2,67,1],[18,6,67,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,67,1],[18,45,67,1,"require"],[18,52,67,1],[18,53,67,1,"_dependencyMap"],[18,67,67,1],[19,2,67,1],[19,6,67,1,"_asyncToGenerator"],[19,23,67,1],[19,26,67,1,"_interopDefault"],[19,41,67,1],[19,42,67,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,67,1],[20,2,67,1],[20,6,67,1,"_babelRuntimeHelpersSlicedToArray"],[20,39,67,1],[20,42,67,1,"require"],[20,49,67,1],[20,50,67,1,"_dependencyMap"],[20,64,67,1],[21,2,67,1],[21,6,67,1,"_slicedToArray"],[21,20,67,1],[21,23,67,1,"_interopDefault"],[21,38,67,1],[21,39,67,1,"_babelRuntimeHelpersSlicedToArray"],[21,72,67,1],[22,2,1,0],[22,6,1,0,"_expoRouter"],[22,17,1,0],[22,20,1,0,"require"],[22,27,1,0],[22,28,1,0,"_dependencyMap"],[22,42,1,0],[23,2,2,0],[23,6,2,0,"_utilsAuthUseAuth"],[23,23,2,0],[23,26,2,0,"require"],[23,33,2,0],[23,34,2,0,"_dependencyMap"],[23,48,2,0],[24,2,3,0],[24,6,3,0,"_reactNative"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,4,0],[25,6,4,0,"_react"],[25,12,4,0],[25,15,4,0,"require"],[25,22,4,0],[25,23,4,0,"_dependencyMap"],[25,37,4,0],[26,2,5,0],[26,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,5,0],[26,45,5,0,"require"],[26,52,5,0],[26,53,5,0,"_dependencyMap"],[26,67,5,0],[27,2,5,0],[27,6,5,0,"AsyncStorage"],[27,18,5,0],[27,21,5,0,"_interopDefault"],[27,36,5,0],[27,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,5,0],[28,2,5,69],[28,6,5,69,"_reactJsxRuntime"],[28,22,5,69],[28,25,5,69,"require"],[28,32,5,69],[28,33,5,69,"_dependencyMap"],[28,47,5,69],[29,2,7,15],[29,11,7,24,"Index"],[29,16,7,29,"Index"],[29,17,7,29],[29,19,7,32],[30,4,8,2],[30,8,8,2,"_useAuth"],[30,16,8,2],[30,19,8,39],[30,23,8,39,"useAuth"],[30,40,8,46],[30,41,8,46,"useAuth"],[30,48,8,46],[30,50,8,47],[30,51,8,48],[31,6,8,10,"isReady"],[31,13,8,17],[31,16,8,17,"_useAuth"],[31,24,8,17],[31,25,8,10,"isReady"],[31,32,8,17],[32,6,8,19,"isAuthenticated"],[32,21,8,34],[32,24,8,34,"_useAuth"],[32,32,8,34],[32,33,8,19,"isAuthenticated"],[32,48,8,34],[33,4,9,2],[33,8,9,2,"_useState"],[33,17,9,2],[33,20,9,46],[33,24,9,46,"useState"],[33,30,9,54],[33,31,9,54,"useState"],[33,39,9,54],[33,41,9,55],[33,46,9,60],[33,47,9,61],[34,6,9,61,"_useState2"],[34,16,9,61],[34,23,9,61,"_slicedToArray"],[34,37,9,61],[34,38,9,61,"default"],[34,45,9,61],[34,47,9,61,"_useState"],[34,56,9,61],[35,6,9,9,"checkedProfile"],[35,20,9,23],[35,23,9,23,"_useState2"],[35,33,9,23],[36,6,9,25,"setCheckedProfile"],[36,23,9,42],[36,26,9,42,"_useState2"],[36,36,9,42],[37,4,10,2],[37,8,10,2,"_useState3"],[37,18,10,2],[37,21,10,48],[37,25,10,48,"useState"],[37,31,10,56],[37,32,10,56,"useState"],[37,40,10,56],[37,42,10,57],[37,47,10,62],[37,48,10,63],[38,6,10,63,"_useState4"],[38,16,10,63],[38,23,10,63,"_slicedToArray"],[38,37,10,63],[38,38,10,63,"default"],[38,45,10,63],[38,47,10,63,"_useState3"],[38,57,10,63],[39,6,10,9,"screeningPassed"],[39,21,10,24],[39,24,10,24,"_useState4"],[39,34,10,24],[40,6,10,26,"setScreeningPassed"],[40,24,10,44],[40,27,10,44,"_useState4"],[40,37,10,44],[41,4,11,2],[41,8,11,2,"_useState5"],[41,18,11,2],[41,21,11,54],[41,25,11,54,"useState"],[41,31,11,62],[41,32,11,62,"useState"],[41,40,11,62],[41,42,11,63],[41,47,11,68],[41,48,11,69],[42,6,11,69,"_useState6"],[42,16,11,69],[42,23,11,69,"_slicedToArray"],[42,37,11,69],[42,38,11,69,"default"],[42,45,11,69],[42,47,11,69,"_useState5"],[42,57,11,69],[43,6,11,9,"onboardingComplete"],[43,24,11,27],[43,27,11,27,"_useState6"],[43,37,11,27],[44,6,11,29,"setOnboardingComplete"],[44,27,11,50],[44,30,11,50,"_useState6"],[44,40,11,50],[45,4,13,2],[45,8,13,2,"useEffect"],[45,14,13,11],[45,15,13,11,"useEffect"],[45,24,13,11],[45,26,13,12],[45,32,13,18],[46,6,14,4],[46,10,14,10,"checkProfile"],[46,22,14,22],[47,8,14,22],[47,12,14,22,"_ref"],[47,16,14,22],[47,23,14,22,"_asyncToGenerator"],[47,40,14,22],[47,41,14,22,"default"],[47,48,14,22],[47,50,14,25],[47,63,14,37],[48,10,15,6],[48,14,15,10],[49,12,16,8],[49,16,16,14,"profile"],[49,23,16,21],[49,32,16,30,"AsyncStorage"],[49,44,16,42],[49,45,16,42,"default"],[49,52,16,42],[49,53,16,43,"getItem"],[49,60,16,50],[49,61,16,51],[49,70,16,60],[49,71,16,61],[50,12,17,8],[50,16,17,14,"onboardingSeen"],[50,30,17,28],[50,39,17,37,"AsyncStorage"],[50,51,17,49],[50,52,17,49,"default"],[50,59,17,49],[50,60,17,50,"getItem"],[50,67,17,57],[50,68,17,58],[50,85,17,75],[50,86,17,76],[51,12,19,8],[51,16,19,12,"profile"],[51,23,19,19],[51,25,19,21],[52,14,20,10],[52,18,20,16,"parsed"],[52,24,20,22],[52,27,20,25,"JSON"],[52,31,20,29],[52,32,20,30,"parse"],[52,37,20,35],[52,38,20,36,"profile"],[52,45,20,43],[52,46,20,44],[53,14,21,10],[54,14,22,10],[54,18,22,14,"parsed"],[54,24,22,20],[54,26,22,22,"screening_result"],[54,42,22,38],[54,47,22,43],[54,53,22,49],[54,55,22,51],[55,16,23,12,"setScreeningPassed"],[55,34,23,30],[55,35,23,31],[55,39,23,35],[55,40,23,36],[56,16,24,12],[57,16,25,12],[57,20,25,16,"onboardingSeen"],[57,34,25,30],[57,39,25,35],[57,45,25,41],[57,47,25,43],[58,18,26,14,"setOnboardingComplete"],[58,39,26,35],[58,40,26,36],[58,44,26,40],[58,45,26,41],[59,16,27,12],[60,14,28,10],[61,12,29,8],[62,10,30,6],[62,11,30,7],[62,12,30,8],[62,19,30,15,"e"],[62,20,30,16],[62,22,30,18],[63,12,31,8,"console"],[63,19,31,15],[63,20,31,16,"error"],[63,25,31,21],[63,26,31,22,"e"],[63,27,31,23],[63,28,31,24],[64,10,32,6],[64,11,32,7],[64,20,32,16],[65,12,33,8,"setCheckedProfile"],[65,29,33,25],[65,30,33,26],[65,34,33,30],[65,35,33,31],[66,10,34,6],[67,8,35,4],[67,9,35,5],[68,8,35,5],[68,24,14,10,"checkProfile"],[68,36,14,22,"checkProfile"],[68,37,14,22],[69,10,14,22],[69,17,14,22,"_ref"],[69,21,14,22],[69,22,14,22,"apply"],[69,27,14,22],[69,34,14,22,"arguments"],[69,43,14,22],[70,8,14,22],[71,6,14,22],[71,9,35,5],[72,6,37,4],[72,10,37,8,"isReady"],[72,17,37,15],[72,21,37,19,"isAuthenticated"],[72,36,37,34],[72,38,37,36],[73,8,38,6,"checkProfile"],[73,20,38,18],[73,21,38,19],[73,22,38,20],[74,6,39,4],[74,7,39,5],[74,13,39,11],[75,8,40,6,"setCheckedProfile"],[75,25,40,23],[75,26,40,24],[75,30,40,28],[75,31,40,29],[76,6,41,4],[77,4,42,2],[77,5,42,3],[77,7,42,5],[77,8,42,6,"isReady"],[77,15,42,13],[77,17,42,15,"isAuthenticated"],[77,32,42,30],[77,33,42,31],[77,34,42,32],[78,4,44,2],[78,8,44,6],[78,9,44,7,"isReady"],[78,16,44,14],[78,20,44,18],[78,21,44,19,"checkedProfile"],[78,35,44,33],[78,37,44,35],[79,6,45,4],[79,26,46,6],[79,30,46,6,"_reactJsxRuntime"],[79,46,46,6],[79,47,46,6,"jsx"],[79,50,46,6],[79,52,46,7,"_reactNative"],[79,64,46,11],[79,65,46,11,"View"],[79,69,46,11],[80,8,46,12,"style"],[80,13,46,17],[80,15,46,19],[81,10,46,21,"flex"],[81,14,46,25],[81,16,46,27],[81,17,46,28],[82,10,46,30,"justifyContent"],[82,24,46,44],[82,26,46,46],[82,34,46,54],[83,10,46,56,"alignItems"],[83,20,46,66],[83,22,46,68],[84,8,46,77],[84,9,46,79],[85,8,46,79,"children"],[85,16,46,79],[85,31,47,8],[85,35,47,8,"_reactJsxRuntime"],[85,51,47,8],[85,52,47,8,"jsx"],[85,55,47,8],[85,57,47,9,"_reactNative"],[85,69,47,26],[85,70,47,26,"ActivityIndicator"],[85,87,47,26],[86,10,47,27,"size"],[86,14,47,31],[86,16,47,32],[87,8,47,39],[87,9,47,41],[88,6,47,42],[88,7,48,12],[88,8,48,13],[89,4,50,2],[90,4,52,2],[90,8,52,6,"isAuthenticated"],[90,23,52,21],[90,25,52,23],[91,6,53,4],[92,6,54,4],[92,10,54,8],[92,11,54,9,"screeningPassed"],[92,26,54,24],[92,28,54,26],[93,8,55,6],[94,8,56,6],[94,28,56,13],[94,32,56,13,"_reactJsxRuntime"],[94,48,56,13],[94,49,56,13,"jsx"],[94,52,56,13],[94,54,56,14,"_expoRouter"],[94,65,56,22],[94,66,56,22,"Redirect"],[94,74,56,22],[95,10,56,23,"href"],[95,14,56,27],[95,16,56,28],[96,8,56,45],[96,9,56,47],[96,10,56,48],[97,6,57,4],[98,6,58,4],[98,10,58,8],[98,11,58,9,"onboardingComplete"],[98,29,58,27],[98,31,58,29],[99,8,59,6],[100,8,60,6],[100,28,60,13],[100,32,60,13,"_reactJsxRuntime"],[100,48,60,13],[100,49,60,13,"jsx"],[100,52,60,13],[100,54,60,14,"_expoRouter"],[100,65,60,22],[100,66,60,22,"Redirect"],[100,74,60,22],[101,10,60,23,"href"],[101,14,60,27],[101,16,60,28],[102,8,60,49],[102,9,60,51],[102,10,60,52],[103,6,61,4],[104,6,62,4],[105,6,63,4],[105,26,63,11],[105,30,63,11,"_reactJsxRuntime"],[105,46,63,11],[105,47,63,11,"jsx"],[105,50,63,11],[105,52,63,12,"_expoRouter"],[105,63,63,20],[105,64,63,20,"Redirect"],[105,72,63,20],[106,8,63,21,"href"],[106,12,63,25],[106,14,63,26],[107,6,63,40],[107,7,63,42],[107,8,63,43],[108,4,64,2],[109,4,66,2],[109,24,66,9],[109,28,66,9,"_reactJsxRuntime"],[109,44,66,9],[109,45,66,9,"jsx"],[109,48,66,9],[109,50,66,10,"_expoRouter"],[109,61,66,18],[109,62,66,18,"Redirect"],[109,70,66,18],[110,6,66,19,"href"],[110,10,66,23],[110,12,66,24],[111,4,66,37],[111,5,66,39],[111,6,66,40],[112,2,67,0],[113,0,67,1],[113,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkProfile"],"mappings":"AAA;eCM;YCM;yBCC;KDqB;GDO;CDyB"},"hasCjsExports":false},"type":"js/module"}]}