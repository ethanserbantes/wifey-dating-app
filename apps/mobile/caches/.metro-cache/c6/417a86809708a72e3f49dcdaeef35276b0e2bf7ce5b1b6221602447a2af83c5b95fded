{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.NoUndefinedVariablesRule = NoUndefinedVariablesRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0], \"../../error/GraphQLError.mjs\");\n  /**\n   * No undefined variables\n   *\n   * A GraphQL operation is only valid if all variables encountered, both directly\n   * and via fragment spreads, are defined by that operation.\n   *\n   * See https://spec.graphql.org/draft/#sec-All-Variable-Uses-Defined\n   */\n  function NoUndefinedVariablesRule(context) {\n    var variableNameDefined = Object.create(null);\n    return {\n      OperationDefinition: {\n        enter() {\n          variableNameDefined = Object.create(null);\n        },\n        leave(operation) {\n          var usages = context.getRecursiveVariableUsages(operation);\n          for (var _ref of usages) {\n            var node = _ref.node;\n            var varName = node.name.value;\n            if (variableNameDefined[varName] !== true) {\n              context.reportError(new _errorGraphQLErrorMjs.GraphQLError(operation.name ? `Variable \"$${varName}\" is not defined by operation \"${operation.name.value}\".` : `Variable \"$${varName}\" is not defined.`, {\n                nodes: [node, operation]\n              }));\n            }\n          }\n        }\n      },\n      VariableDefinition(node) {\n        variableNameDefined[node.variable.name.value] = true;\n      }\n    };\n  }\n});","lineCount":42,"map":[[7,2,11,0,"exports"],[7,9,11,0],[7,10,11,0,"NoUndefinedVariablesRule"],[7,34,11,0],[7,37,11,0,"NoUndefinedVariablesRule"],[7,61,11,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,2,11,7],[17,11,11,16,"NoUndefinedVariablesRule"],[17,35,11,40,"NoUndefinedVariablesRule"],[17,36,11,41,"context"],[17,43,11,48],[17,45,11,50],[18,4,12,2],[18,8,12,6,"variableNameDefined"],[18,27,12,25],[18,30,12,28,"Object"],[18,36,12,34],[18,37,12,35,"create"],[18,43,12,41],[18,44,12,42],[18,48,12,46],[18,49,12,47],[19,4,13,2],[19,11,13,9],[20,6,14,4,"OperationDefinition"],[20,25,14,23],[20,27,14,25],[21,8,15,6,"enter"],[21,13,15,11,"enter"],[21,14,15,11],[21,16,15,14],[22,10,16,8,"variableNameDefined"],[22,29,16,27],[22,32,16,30,"Object"],[22,38,16,36],[22,39,16,37,"create"],[22,45,16,43],[22,46,16,44],[22,50,16,48],[22,51,16,49],[23,8,17,6],[23,9,17,7],[24,8,19,6,"leave"],[24,13,19,11,"leave"],[24,14,19,12,"operation"],[24,23,19,21],[24,25,19,23],[25,10,20,8],[25,14,20,14,"usages"],[25,20,20,20],[25,23,20,23,"context"],[25,30,20,30],[25,31,20,31,"getRecursiveVariableUsages"],[25,57,20,57],[25,58,20,58,"operation"],[25,67,20,67],[25,68,20,68],[26,10,22,8],[26,19,22,8,"_ref"],[26,23,22,8],[26,27,22,31,"usages"],[26,33,22,37],[26,35,22,39],[27,12,22,39],[27,16,22,21,"node"],[27,20,22,25],[27,23,22,25,"_ref"],[27,27,22,25],[27,28,22,21,"node"],[27,32,22,25],[28,12,23,10],[28,16,23,16,"varName"],[28,23,23,23],[28,26,23,26,"node"],[28,30,23,30],[28,31,23,31,"name"],[28,35,23,35],[28,36,23,36,"value"],[28,41,23,41],[29,12,25,10],[29,16,25,14,"variableNameDefined"],[29,35,25,33],[29,36,25,34,"varName"],[29,43,25,41],[29,44,25,42],[29,49,25,47],[29,53,25,51],[29,55,25,53],[30,14,26,12,"context"],[30,21,26,19],[30,22,26,20,"reportError"],[30,33,26,31],[30,34,27,14],[30,38,27,18,"GraphQLError"],[30,59,27,30],[30,60,27,30,"GraphQLError"],[30,72,27,30],[30,73,28,16,"operation"],[30,82,28,25],[30,83,28,26,"name"],[30,87,28,30],[30,90,29,20],[30,104,29,34,"varName"],[30,111,29,41],[30,145,29,75,"operation"],[30,154,29,84],[30,155,29,85,"name"],[30,159,29,89],[30,160,29,90,"value"],[30,165,29,95],[30,169,29,99],[30,172,30,20],[30,186,30,34,"varName"],[30,193,30,41],[30,212,30,60],[30,214,31,16],[31,16,32,18,"nodes"],[31,21,32,23],[31,23,32,25],[31,24,32,26,"node"],[31,28,32,30],[31,30,32,32,"operation"],[31,39,32,41],[32,14,33,16],[32,15,34,14],[32,16,35,12],[32,17,35,13],[33,12,36,10],[34,10,37,8],[35,8,38,6],[36,6,39,4],[36,7,39,5],[37,6,41,4,"VariableDefinition"],[37,24,41,22,"VariableDefinition"],[37,25,41,23,"node"],[37,29,41,27],[37,31,41,29],[38,8,42,6,"variableNameDefined"],[38,27,42,25],[38,28,42,26,"node"],[38,32,42,30],[38,33,42,31,"variable"],[38,41,42,39],[38,42,42,40,"name"],[38,46,42,44],[38,47,42,45,"value"],[38,52,42,50],[38,53,42,51],[38,56,42,54],[38,60,42,58],[39,6,43,4],[40,4,44,2],[40,5,44,3],[41,2,45,0],[42,0,45,1],[42,3]],"functionMap":{"names":["<global>","NoUndefinedVariablesRule","OperationDefinition.enter","OperationDefinition.leave","VariableDefinition"],"mappings":"AAA;OCU;MCI;ODE;MEE;OFmB;IGG;KHE;CDE"},"hasCjsExports":false},"type":"js/module"}]}