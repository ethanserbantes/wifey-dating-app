{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@/utils/useUpload","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":42,"index":89}}],"key":"fmgUBhSYAJBo9LhumboFTPrCXjE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useSendMessage = useSendMessage;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _utilsUseUpload = require(_dependencyMap[3]);\n  var useUpload = _interopDefault(_utilsUseUpload);\n  function useSendMessage(matchId, user, setMessages, options) {\n    var onPaymentRequired = options?.onPaymentRequired;\n    var _useState = (0, _react.useState)(\"\"),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      inputText = _useState2[0],\n      setInputText = _useState2[1];\n    var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      sending = _useState4[0],\n      setSending = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      voiceSending = _useState6[0],\n      setVoiceSending = _useState6[1];\n\n    // NEW: reply-to state\n    var _useState7 = (0, _react.useState)(null),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      replyTo = _useState8[0],\n      setReplyTo = _useState8[1];\n    var _useUpload = (0, useUpload.default)(),\n      _useUpload2 = (0, _slicedToArray.default)(_useUpload, 2),\n      upload = _useUpload2[0],\n      uploadLoading = _useUpload2[1].loading;\n    var clearReplyTo = (0, _react.useCallback)(() => {\n      setReplyTo(null);\n    }, []);\n    var sendMessage = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        if (!inputText.trim() || !user || sending) return;\n        var messageText = inputText.trim();\n        var repliedToMessageId = replyTo?.id ?? null;\n        setInputText(\"\");\n        setSending(true);\n        try {\n          var response = yield fetch(\"/api/messages/send\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              matchId,\n              senderId: user.id,\n              messageText,\n              repliedToMessageId\n            })\n          });\n          if (!response.ok) {\n            // payment required -> open the date credit sheet and keep the draft.\n            if (response.status === 402) {\n              setInputText(messageText);\n              try {\n                onPaymentRequired?.();\n              } catch (e) {\n                console.error(e);\n              }\n              return;\n            }\n            var text = yield response.text().catch(() => \"\");\n            throw new Error(`Failed to send message: [${response.status}] ${response.statusText} ${text}`);\n          }\n          var data = yield response.json();\n          setMessages(prev => [...prev, data.message]);\n          clearReplyTo();\n        } catch (error) {\n          console.error(\"Error sending message:\", error);\n          setInputText(messageText);\n        } finally {\n          setSending(false);\n        }\n      });\n      return function sendMessage() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var sendVoiceMemo = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (_ref2) {\n        var uri = _ref2.uri,\n          durationMs = _ref2.durationMs;\n        if (!user || voiceSending || uploadLoading) return;\n        if (!uri || typeof uri !== \"string\") return;\n        var repliedToMessageId = replyTo?.id ?? null;\n        setVoiceSending(true);\n        try {\n          var fileName = `voice-memo-${Date.now()}.m4a`;\n          var _yield$upload = yield upload({\n              reactNativeAsset: {\n                uri,\n                fileName,\n                name: fileName,\n                mimeType: \"audio/m4a\"\n              }\n            }),\n            url = _yield$upload.url,\n            error = _yield$upload.error;\n          if (error) {\n            throw new Error(error);\n          }\n          var response = yield fetch(\"/api/messages/send\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              matchId,\n              senderId: user.id,\n              audioUrl: url,\n              audioDurationMs: durationMs,\n              repliedToMessageId\n              // messageText intentionally omitted\n            })\n          });\n          if (!response.ok) {\n            // payment required -> open the date credit sheet.\n            if (response.status === 402) {\n              try {\n                onPaymentRequired?.();\n              } catch (e) {\n                console.error(e);\n              }\n              return;\n            }\n            var text = yield response.text().catch(() => \"\");\n            throw new Error(`Failed to send voice memo: [${response.status}] ${response.statusText} ${text}`);\n          }\n          var data = yield response.json();\n          setMessages(prev => [...prev, data.message]);\n          clearReplyTo();\n        } catch (error) {\n          console.error(\"Error sending voice memo:\", error);\n        } finally {\n          setVoiceSending(false);\n        }\n      });\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }(), [matchId, onPaymentRequired, replyTo?.id, upload, uploadLoading, user, voiceSending, setMessages, clearReplyTo]);\n    return {\n      inputText,\n      setInputText,\n      sending,\n      sendMessage,\n      voiceSending,\n      sendVoiceMemo,\n      replyTo,\n      setReplyTo,\n      clearReplyTo\n    };\n  }\n});","lineCount":170,"map":[[12,2,4,0,"exports"],[12,9,4,0],[12,10,4,0,"useSendMessage"],[12,24,4,0],[12,27,4,0,"useSendMessage"],[12,41,4,0],[13,2,156,1],[13,6,156,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,156,1],[13,45,156,1,"require"],[13,52,156,1],[13,53,156,1,"_dependencyMap"],[13,67,156,1],[14,2,156,1],[14,6,156,1,"_asyncToGenerator"],[14,23,156,1],[14,26,156,1,"_interopDefault"],[14,41,156,1],[14,42,156,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,156,1],[15,2,156,1],[15,6,156,1,"_babelRuntimeHelpersSlicedToArray"],[15,39,156,1],[15,42,156,1,"require"],[15,49,156,1],[15,50,156,1,"_dependencyMap"],[15,64,156,1],[16,2,156,1],[16,6,156,1,"_slicedToArray"],[16,20,156,1],[16,23,156,1,"_interopDefault"],[16,38,156,1],[16,39,156,1,"_babelRuntimeHelpersSlicedToArray"],[16,72,156,1],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_utilsUseUpload"],[18,21,2,0],[18,24,2,0,"require"],[18,31,2,0],[18,32,2,0,"_dependencyMap"],[18,46,2,0],[19,2,2,0],[19,6,2,0,"useUpload"],[19,15,2,0],[19,18,2,0,"_interopDefault"],[19,33,2,0],[19,34,2,0,"_utilsUseUpload"],[19,49,2,0],[20,2,4,7],[20,11,4,16,"useSendMessage"],[20,25,4,30,"useSendMessage"],[20,26,4,31,"matchId"],[20,33,4,38],[20,35,4,40,"user"],[20,39,4,44],[20,41,4,46,"setMessages"],[20,52,4,57],[20,54,4,59,"options"],[20,61,4,66],[20,63,4,68],[21,4,5,2],[21,8,5,8,"onPaymentRequired"],[21,25,5,25],[21,28,5,28,"options"],[21,35,5,35],[21,37,5,37,"onPaymentRequired"],[21,54,5,54],[22,4,7,2],[22,8,7,2,"_useState"],[22,17,7,2],[22,20,7,36],[22,24,7,36,"useState"],[22,30,7,44],[22,31,7,44,"useState"],[22,39,7,44],[22,41,7,45],[22,43,7,47],[22,44,7,48],[23,6,7,48,"_useState2"],[23,16,7,48],[23,23,7,48,"_slicedToArray"],[23,37,7,48],[23,38,7,48,"default"],[23,45,7,48],[23,47,7,48,"_useState"],[23,56,7,48],[24,6,7,9,"inputText"],[24,15,7,18],[24,18,7,18,"_useState2"],[24,28,7,18],[25,6,7,20,"setInputText"],[25,18,7,32],[25,21,7,32,"_useState2"],[25,31,7,32],[26,4,8,2],[26,8,8,2,"_useState3"],[26,18,8,2],[26,21,8,32],[26,25,8,32,"useState"],[26,31,8,40],[26,32,8,40,"useState"],[26,40,8,40],[26,42,8,41],[26,47,8,46],[26,48,8,47],[27,6,8,47,"_useState4"],[27,16,8,47],[27,23,8,47,"_slicedToArray"],[27,37,8,47],[27,38,8,47,"default"],[27,45,8,47],[27,47,8,47,"_useState3"],[27,57,8,47],[28,6,8,9,"sending"],[28,13,8,16],[28,16,8,16,"_useState4"],[28,26,8,16],[29,6,8,18,"setSending"],[29,16,8,28],[29,19,8,28,"_useState4"],[29,29,8,28],[30,4,9,2],[30,8,9,2,"_useState5"],[30,18,9,2],[30,21,9,42],[30,25,9,42,"useState"],[30,31,9,50],[30,32,9,50,"useState"],[30,40,9,50],[30,42,9,51],[30,47,9,56],[30,48,9,57],[31,6,9,57,"_useState6"],[31,16,9,57],[31,23,9,57,"_slicedToArray"],[31,37,9,57],[31,38,9,57,"default"],[31,45,9,57],[31,47,9,57,"_useState5"],[31,57,9,57],[32,6,9,9,"voiceSending"],[32,18,9,21],[32,21,9,21,"_useState6"],[32,31,9,21],[33,6,9,23,"setVoiceSending"],[33,21,9,38],[33,24,9,38,"_useState6"],[33,34,9,38],[35,4,11,2],[36,4,12,2],[36,8,12,2,"_useState7"],[36,18,12,2],[36,21,12,32],[36,25,12,32,"useState"],[36,31,12,40],[36,32,12,40,"useState"],[36,40,12,40],[36,42,12,41],[36,46,12,45],[36,47,12,46],[37,6,12,46,"_useState8"],[37,16,12,46],[37,23,12,46,"_slicedToArray"],[37,37,12,46],[37,38,12,46,"default"],[37,45,12,46],[37,47,12,46,"_useState7"],[37,57,12,46],[38,6,12,9,"replyTo"],[38,13,12,16],[38,16,12,16,"_useState8"],[38,26,12,16],[39,6,12,18,"setReplyTo"],[39,16,12,28],[39,19,12,28,"_useState8"],[39,29,12,28],[40,4,14,2],[40,8,14,2,"_useUpload"],[40,18,14,2],[40,21,14,47],[40,25,14,47,"useUpload"],[40,34,14,56],[40,35,14,56,"default"],[40,42,14,56],[40,44,14,57],[40,45,14,58],[41,6,14,58,"_useUpload2"],[41,17,14,58],[41,24,14,58,"_slicedToArray"],[41,38,14,58],[41,39,14,58,"default"],[41,46,14,58],[41,48,14,58,"_useUpload"],[41,58,14,58],[42,6,14,9,"upload"],[42,12,14,15],[42,15,14,15,"_useUpload2"],[42,26,14,15],[43,6,14,28,"uploadLoading"],[43,19,14,41],[43,22,14,41,"_useUpload2"],[43,33,14,41],[43,37,14,19,"loading"],[43,44,14,26],[44,4,16,2],[44,8,16,8,"clearReplyTo"],[44,20,16,20],[44,23,16,23],[44,27,16,23,"useCallback"],[44,33,16,34],[44,34,16,34,"useCallback"],[44,45,16,34],[44,47,16,35],[44,53,16,41],[45,6,17,4,"setReplyTo"],[45,16,17,14],[45,17,17,15],[45,21,17,19],[45,22,17,20],[46,4,18,2],[46,5,18,3],[46,7,18,5],[46,9,18,7],[46,10,18,8],[47,4,20,2],[47,8,20,8,"sendMessage"],[47,19,20,19],[48,6,20,19],[48,10,20,19,"_ref"],[48,14,20,19],[48,21,20,19,"_asyncToGenerator"],[48,38,20,19],[48,39,20,19,"default"],[48,46,20,19],[48,48,20,22],[48,61,20,34],[49,8,21,4],[49,12,21,8],[49,13,21,9,"inputText"],[49,22,21,18],[49,23,21,19,"trim"],[49,27,21,23],[49,28,21,24],[49,29,21,25],[49,33,21,29],[49,34,21,30,"user"],[49,38,21,34],[49,42,21,38,"sending"],[49,49,21,45],[49,51,21,47],[50,8,23,4],[50,12,23,10,"messageText"],[50,23,23,21],[50,26,23,24,"inputText"],[50,35,23,33],[50,36,23,34,"trim"],[50,40,23,38],[50,41,23,39],[50,42,23,40],[51,8,24,4],[51,12,24,10,"repliedToMessageId"],[51,30,24,28],[51,33,24,31,"replyTo"],[51,40,24,38],[51,42,24,40,"id"],[51,44,24,42],[51,48,24,46],[51,52,24,50],[52,8,26,4,"setInputText"],[52,20,26,16],[52,21,26,17],[52,23,26,19],[52,24,26,20],[53,8,27,4,"setSending"],[53,18,27,14],[53,19,27,15],[53,23,27,19],[53,24,27,20],[54,8,29,4],[54,12,29,8],[55,10,30,6],[55,14,30,12,"response"],[55,22,30,20],[55,31,30,29,"fetch"],[55,36,30,34],[55,37,30,35],[55,57,30,55],[55,59,30,57],[56,12,31,8,"method"],[56,18,31,14],[56,20,31,16],[56,26,31,22],[57,12,32,8,"headers"],[57,19,32,15],[57,21,32,17],[58,14,32,19],[58,28,32,33],[58,30,32,35],[59,12,32,54],[59,13,32,55],[60,12,33,8,"body"],[60,16,33,12],[60,18,33,14,"JSON"],[60,22,33,18],[60,23,33,19,"stringify"],[60,32,33,28],[60,33,33,29],[61,14,34,10,"matchId"],[61,21,34,17],[62,14,35,10,"senderId"],[62,22,35,18],[62,24,35,20,"user"],[62,28,35,24],[62,29,35,25,"id"],[62,31,35,27],[63,14,36,10,"messageText"],[63,25,36,21],[64,14,37,10,"repliedToMessageId"],[65,12,38,8],[65,13,38,9],[66,10,39,6],[66,11,39,7],[66,12,39,8],[67,10,41,6],[67,14,41,10],[67,15,41,11,"response"],[67,23,41,19],[67,24,41,20,"ok"],[67,26,41,22],[67,28,41,24],[68,12,42,8],[69,12,43,8],[69,16,43,12,"response"],[69,24,43,20],[69,25,43,21,"status"],[69,31,43,27],[69,36,43,32],[69,39,43,35],[69,41,43,37],[70,14,44,10,"setInputText"],[70,26,44,22],[70,27,44,23,"messageText"],[70,38,44,34],[70,39,44,35],[71,14,45,10],[71,18,45,14],[72,16,46,12,"onPaymentRequired"],[72,33,46,29],[72,36,46,32],[72,37,46,33],[73,14,47,10],[73,15,47,11],[73,16,47,12],[73,23,47,19,"e"],[73,24,47,20],[73,26,47,22],[74,16,48,12,"console"],[74,23,48,19],[74,24,48,20,"error"],[74,29,48,25],[74,30,48,26,"e"],[74,31,48,27],[74,32,48,28],[75,14,49,10],[76,14,50,10],[77,12,51,8],[78,12,53,8],[78,16,53,14,"text"],[78,20,53,18],[78,29,53,27,"response"],[78,37,53,35],[78,38,53,36,"text"],[78,42,53,40],[78,43,53,41],[78,44,53,42],[78,45,53,43,"catch"],[78,50,53,48],[78,51,53,49],[78,57,53,55],[78,59,53,57],[78,60,53,58],[79,12,54,8],[79,18,54,14],[79,22,54,18,"Error"],[79,27,54,23],[79,28,55,10],[79,56,55,38,"response"],[79,64,55,46],[79,65,55,47,"status"],[79,71,55,53],[79,76,55,58,"response"],[79,84,55,66],[79,85,55,67,"statusText"],[79,95,55,77],[79,99,55,81,"text"],[79,103,55,85],[79,105,56,8],[79,106,56,9],[80,10,57,6],[81,10,59,6],[81,14,59,12,"data"],[81,18,59,16],[81,27,59,25,"response"],[81,35,59,33],[81,36,59,34,"json"],[81,40,59,38],[81,41,59,39],[81,42,59,40],[82,10,60,6,"setMessages"],[82,21,60,17],[82,22,60,19,"prev"],[82,26,60,23],[82,30,60,28],[82,31,60,29],[82,34,60,32,"prev"],[82,38,60,36],[82,40,60,38,"data"],[82,44,60,42],[82,45,60,43,"message"],[82,52,60,50],[82,53,60,51],[82,54,60,52],[83,10,61,6,"clearReplyTo"],[83,22,61,18],[83,23,61,19],[83,24,61,20],[84,8,62,4],[84,9,62,5],[84,10,62,6],[84,17,62,13,"error"],[84,22,62,18],[84,24,62,20],[85,10,63,6,"console"],[85,17,63,13],[85,18,63,14,"error"],[85,23,63,19],[85,24,63,20],[85,48,63,44],[85,50,63,46,"error"],[85,55,63,51],[85,56,63,52],[86,10,64,6,"setInputText"],[86,22,64,18],[86,23,64,19,"messageText"],[86,34,64,30],[86,35,64,31],[87,8,65,4],[87,9,65,5],[87,18,65,14],[88,10,66,6,"setSending"],[88,20,66,16],[88,21,66,17],[88,26,66,22],[88,27,66,23],[89,8,67,4],[90,6,68,2],[90,7,68,3],[91,6,68,3],[91,22,20,8,"sendMessage"],[91,33,20,19,"sendMessage"],[91,34,20,19],[92,8,20,19],[92,15,20,19,"_ref"],[92,19,20,19],[92,20,20,19,"apply"],[92,25,20,19],[92,32,20,19,"arguments"],[92,41,20,19],[93,6,20,19],[94,4,20,19],[94,7,68,3],[95,4,70,2],[95,8,70,8,"sendVoiceMemo"],[95,21,70,21],[95,24,70,24],[95,28,70,24,"useCallback"],[95,34,70,35],[95,35,70,35,"useCallback"],[95,46,70,35],[96,6,70,35],[96,10,70,35,"_ref3"],[96,15,70,35],[96,22,70,35,"_asyncToGenerator"],[96,39,70,35],[96,40,70,35,"default"],[96,47,70,35],[96,49,71,4],[96,60,71,4,"_ref2"],[96,65,71,4],[96,67,71,35],[97,8,71,35],[97,12,71,13,"uri"],[97,15,71,16],[97,18,71,16,"_ref2"],[97,23,71,16],[97,24,71,13,"uri"],[97,27,71,16],[98,10,71,18,"durationMs"],[98,20,71,28],[98,23,71,28,"_ref2"],[98,28,71,28],[98,29,71,18,"durationMs"],[98,39,71,28],[99,8,72,6],[99,12,72,10],[99,13,72,11,"user"],[99,17,72,15],[99,21,72,19,"voiceSending"],[99,33,72,31],[99,37,72,35,"uploadLoading"],[99,50,72,48],[99,52,72,50],[100,8,73,6],[100,12,73,10],[100,13,73,11,"uri"],[100,16,73,14],[100,20,73,18],[100,27,73,25,"uri"],[100,30,73,28],[100,35,73,33],[100,43,73,41],[100,45,73,43],[101,8,75,6],[101,12,75,12,"repliedToMessageId"],[101,30,75,30],[101,33,75,33,"replyTo"],[101,40,75,40],[101,42,75,42,"id"],[101,44,75,44],[101,48,75,48],[101,52,75,52],[102,8,77,6,"setVoiceSending"],[102,23,77,21],[102,24,77,22],[102,28,77,26],[102,29,77,27],[103,8,78,6],[103,12,78,10],[104,10,79,8],[104,14,79,14,"fileName"],[104,22,79,22],[104,25,79,25],[104,39,79,39,"Date"],[104,43,79,43],[104,44,79,44,"now"],[104,47,79,47],[104,48,79,48],[104,49,79,49],[104,55,79,55],[105,10,80,8],[105,14,80,8,"_yield$upload"],[105,27,80,8],[105,36,80,37,"upload"],[105,42,80,43],[105,43,80,44],[106,14,81,10,"reactNativeAsset"],[106,30,81,26],[106,32,81,28],[107,16,82,12,"uri"],[107,19,82,15],[108,16,83,12,"fileName"],[108,24,83,20],[109,16,84,12,"name"],[109,20,84,16],[109,22,84,18,"fileName"],[109,30,84,26],[110,16,85,12,"mimeType"],[110,24,85,20],[110,26,85,22],[111,14,86,10],[112,12,87,8],[112,13,87,9],[112,14,87,10],[113,12,80,16,"url"],[113,15,80,19],[113,18,80,19,"_yield$upload"],[113,31,80,19],[113,32,80,16,"url"],[113,35,80,19],[114,12,80,21,"error"],[114,17,80,26],[114,20,80,26,"_yield$upload"],[114,33,80,26],[114,34,80,21,"error"],[114,39,80,26],[115,10,89,8],[115,14,89,12,"error"],[115,19,89,17],[115,21,89,19],[116,12,90,10],[116,18,90,16],[116,22,90,20,"Error"],[116,27,90,25],[116,28,90,26,"error"],[116,33,90,31],[116,34,90,32],[117,10,91,8],[118,10,93,8],[118,14,93,14,"response"],[118,22,93,22],[118,31,93,31,"fetch"],[118,36,93,36],[118,37,93,37],[118,57,93,57],[118,59,93,59],[119,12,94,10,"method"],[119,18,94,16],[119,20,94,18],[119,26,94,24],[120,12,95,10,"headers"],[120,19,95,17],[120,21,95,19],[121,14,95,21],[121,28,95,35],[121,30,95,37],[122,12,95,56],[122,13,95,57],[123,12,96,10,"body"],[123,16,96,14],[123,18,96,16,"JSON"],[123,22,96,20],[123,23,96,21,"stringify"],[123,32,96,30],[123,33,96,31],[124,14,97,12,"matchId"],[124,21,97,19],[125,14,98,12,"senderId"],[125,22,98,20],[125,24,98,22,"user"],[125,28,98,26],[125,29,98,27,"id"],[125,31,98,29],[126,14,99,12,"audioUrl"],[126,22,99,20],[126,24,99,22,"url"],[126,27,99,25],[127,14,100,12,"audioDurationMs"],[127,29,100,27],[127,31,100,29,"durationMs"],[127,41,100,39],[128,14,101,12,"repliedToMessageId"],[129,14,102,12],[130,12,103,10],[130,13,103,11],[131,10,104,8],[131,11,104,9],[131,12,104,10],[132,10,106,8],[132,14,106,12],[132,15,106,13,"response"],[132,23,106,21],[132,24,106,22,"ok"],[132,26,106,24],[132,28,106,26],[133,12,107,10],[134,12,108,10],[134,16,108,14,"response"],[134,24,108,22],[134,25,108,23,"status"],[134,31,108,29],[134,36,108,34],[134,39,108,37],[134,41,108,39],[135,14,109,12],[135,18,109,16],[136,16,110,14,"onPaymentRequired"],[136,33,110,31],[136,36,110,34],[136,37,110,35],[137,14,111,12],[137,15,111,13],[137,16,111,14],[137,23,111,21,"e"],[137,24,111,22],[137,26,111,24],[138,16,112,14,"console"],[138,23,112,21],[138,24,112,22,"error"],[138,29,112,27],[138,30,112,28,"e"],[138,31,112,29],[138,32,112,30],[139,14,113,12],[140,14,114,12],[141,12,115,10],[142,12,117,10],[142,16,117,16,"text"],[142,20,117,20],[142,29,117,29,"response"],[142,37,117,37],[142,38,117,38,"text"],[142,42,117,42],[142,43,117,43],[142,44,117,44],[142,45,117,45,"catch"],[142,50,117,50],[142,51,117,51],[142,57,117,57],[142,59,117,59],[142,60,117,60],[143,12,118,10],[143,18,118,16],[143,22,118,20,"Error"],[143,27,118,25],[143,28,119,12],[143,59,119,43,"response"],[143,67,119,51],[143,68,119,52,"status"],[143,74,119,58],[143,79,119,63,"response"],[143,87,119,71],[143,88,119,72,"statusText"],[143,98,119,82],[143,102,119,86,"text"],[143,106,119,90],[143,108,120,10],[143,109,120,11],[144,10,121,8],[145,10,123,8],[145,14,123,14,"data"],[145,18,123,18],[145,27,123,27,"response"],[145,35,123,35],[145,36,123,36,"json"],[145,40,123,40],[145,41,123,41],[145,42,123,42],[146,10,124,8,"setMessages"],[146,21,124,19],[146,22,124,21,"prev"],[146,26,124,25],[146,30,124,30],[146,31,124,31],[146,34,124,34,"prev"],[146,38,124,38],[146,40,124,40,"data"],[146,44,124,44],[146,45,124,45,"message"],[146,52,124,52],[146,53,124,53],[146,54,124,54],[147,10,125,8,"clearReplyTo"],[147,22,125,20],[147,23,125,21],[147,24,125,22],[148,8,126,6],[148,9,126,7],[148,10,126,8],[148,17,126,15,"error"],[148,22,126,20],[148,24,126,22],[149,10,127,8,"console"],[149,17,127,15],[149,18,127,16,"error"],[149,23,127,21],[149,24,127,22],[149,51,127,49],[149,53,127,51,"error"],[149,58,127,56],[149,59,127,57],[150,8,128,6],[150,9,128,7],[150,18,128,16],[151,10,129,8,"setVoiceSending"],[151,25,129,23],[151,26,129,24],[151,31,129,29],[151,32,129,30],[152,8,130,6],[153,6,131,4],[153,7,131,5],[154,6,131,5],[154,23,131,5,"_x"],[154,25,131,5],[155,8,131,5],[155,15,131,5,"_ref3"],[155,20,131,5],[155,21,131,5,"apply"],[155,26,131,5],[155,33,131,5,"arguments"],[155,42,131,5],[156,6,131,5],[157,4,131,5],[157,9,132,4],[157,10,133,6,"matchId"],[157,17,133,13],[157,19,134,6,"onPaymentRequired"],[157,36,134,23],[157,38,135,6,"replyTo"],[157,45,135,13],[157,47,135,15,"id"],[157,49,135,17],[157,51,136,6,"upload"],[157,57,136,12],[157,59,137,6,"uploadLoading"],[157,72,137,19],[157,74,138,6,"user"],[157,78,138,10],[157,80,139,6,"voiceSending"],[157,92,139,18],[157,94,140,6,"setMessages"],[157,105,140,17],[157,107,141,6,"clearReplyTo"],[157,119,141,18],[157,120,143,2],[157,121,143,3],[158,4,145,2],[158,11,145,9],[159,6,146,4,"inputText"],[159,15,146,13],[160,6,147,4,"setInputText"],[160,18,147,16],[161,6,148,4,"sending"],[161,13,148,11],[162,6,149,4,"sendMessage"],[162,17,149,15],[163,6,150,4,"voiceSending"],[163,18,150,16],[164,6,151,4,"sendVoiceMemo"],[164,19,151,17],[165,6,152,4,"replyTo"],[165,13,152,11],[166,6,153,4,"setReplyTo"],[166,16,153,14],[167,6,154,4,"clearReplyTo"],[168,4,155,2],[168,5,155,3],[169,2,156,0],[170,0,156,1],[170,3]],"functionMap":{"names":["<global>","useSendMessage","clearReplyTo","sendMessage","response.text._catch$argument_0","setMessages$argument_0","sendVoiceMemo"],"mappings":"AAA;OCG;mCCY;GDE;sBEE;iDCiC,QD;kBEO,iCF;GFQ;IKG;mDF8C,QE;oBDO,iCC;KLO;CDyB"},"hasCjsExports":false},"type":"js/module"}]}