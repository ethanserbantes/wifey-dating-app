{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":36,"index":86}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"DEFAULT_BUFFER_SIZE\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_BUFFER_SIZE;\n    }\n  });\n  Object.defineProperty(exports, \"NativeTransport\", {\n    enumerable: true,\n    get: function () {\n      return NativeTransport;\n    }\n  });\n  exports.makeNativeTransport = makeNativeTransport;\n  exports.makeNativeTransportFactory = makeNativeTransportFactory;\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _sentryCore = require(_dependencyMap[2], \"@sentry/core\");\n  var _wrapper = require(_dependencyMap[3], \"../wrapper\");\n  var DEFAULT_BUFFER_SIZE = 30;\n  /** Native Transport class implementation */\n  var NativeTransport = /*#__PURE__*/function () {\n    function NativeTransport() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      (0, _classCallCheck.default)(this, NativeTransport);\n      this._buffer = (0, _sentryCore.makePromiseBuffer)(options.bufferSize || DEFAULT_BUFFER_SIZE);\n    }\n    /**\n     * Sends the envelope to the Store endpoint in Sentry.\n     *\n     * @param envelope Envelope that should be sent to Sentry.\n     */\n    return (0, _createClass.default)(NativeTransport, [{\n      key: \"send\",\n      value: function send(envelope) {\n        // TODO: We currently can't retrieve the response information from native\n        return this._buffer.add(() => _wrapper.NATIVE.sendEnvelope(envelope)).then(() => ({}));\n      }\n      /**\n       * Wait for all envelopes to be sent or the timeout to expire, whichever comes first.\n       *\n       * @param timeout Maximum time in ms the transport should wait for envelopes to be flushed. Omitting this parameter will\n       *   cause the transport to wait until all events are sent before resolving the promise.\n       * @returns A promise that will resolve with `true` if all events are sent before the timeout, or `false` if there are\n       * still events in the queue when the timeout is reached.\n       */\n    }, {\n      key: \"flush\",\n      value: function flush(timeout) {\n        return this._buffer.drain(timeout);\n      }\n    }]);\n  }();\n  /**\n   * Creates a Native Transport.\n   */\n  function makeNativeTransport() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return new NativeTransport(options);\n  }\n  /**\n   * Creates a Native Transport factory if the native transport is available.\n   */\n  function makeNativeTransportFactory(_ref) {\n    var enableNative = _ref.enableNative;\n    if (enableNative && _wrapper.NATIVE.isNativeAvailable()) {\n      return makeNativeTransport;\n    }\n    return null;\n  }\n});","lineCount":83,"map":[[12,2,3,0,"Object"],[12,8,3,0],[12,9,3,0,"defineProperty"],[12,23,3,0],[12,24,3,0,"exports"],[12,31,3,0],[13,4,3,0,"enumerable"],[13,14,3,0],[14,4,3,0,"get"],[14,7,3,0],[14,18,3,0,"get"],[14,19,3,0],[15,6,3,0],[15,13,3,0,"DEFAULT_BUFFER_SIZE"],[15,32,3,0],[16,4,3,0],[17,2,3,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"NativeTransport"],[21,28,5,0],[22,4,5,0],[23,2,5,0],[24,2,33,0,"exports"],[24,9,33,0],[24,10,33,0,"makeNativeTransport"],[24,29,33,0],[24,32,33,0,"makeNativeTransport"],[24,51,33,0],[25,2,39,0,"exports"],[25,9,39,0],[25,10,39,0,"makeNativeTransportFactory"],[25,36,39,0],[25,39,39,0,"makeNativeTransportFactory"],[25,65,39,0],[26,2,44,1],[26,6,44,1,"_babelRuntimeHelpersClassCallCheck"],[26,40,44,1],[26,43,44,1,"require"],[26,50,44,1],[26,51,44,1,"_dependencyMap"],[26,65,44,1],[27,2,44,1],[27,6,44,1,"_classCallCheck"],[27,21,44,1],[27,24,44,1,"_interopDefault"],[27,39,44,1],[27,40,44,1,"_babelRuntimeHelpersClassCallCheck"],[27,74,44,1],[28,2,44,1],[28,6,44,1,"_babelRuntimeHelpersCreateClass"],[28,37,44,1],[28,40,44,1,"require"],[28,47,44,1],[28,48,44,1,"_dependencyMap"],[28,62,44,1],[29,2,44,1],[29,6,44,1,"_createClass"],[29,18,44,1],[29,21,44,1,"_interopDefault"],[29,36,44,1],[29,37,44,1,"_babelRuntimeHelpersCreateClass"],[29,68,44,1],[30,2,1,0],[30,6,1,0,"_sentryCore"],[30,17,1,0],[30,20,1,0,"require"],[30,27,1,0],[30,28,1,0,"_dependencyMap"],[30,42,1,0],[31,2,2,0],[31,6,2,0,"_wrapper"],[31,14,2,0],[31,17,2,0,"require"],[31,24,2,0],[31,25,2,0,"_dependencyMap"],[31,39,2,0],[32,2,3,7],[32,6,3,13,"DEFAULT_BUFFER_SIZE"],[32,25,3,32],[32,28,3,35],[32,30,3,37],[33,2,4,0],[34,2,4,0],[34,6,5,13,"NativeTransport"],[34,21,5,28],[35,4,6,4],[35,13,6,4,"NativeTransport"],[35,29,6,4],[35,31,6,30],[36,6,6,30],[36,10,6,16,"options"],[36,17,6,23],[36,20,6,23,"arguments"],[36,29,6,23],[36,30,6,23,"length"],[36,36,6,23],[36,44,6,23,"arguments"],[36,53,6,23],[36,61,6,23,"undefined"],[36,70,6,23],[36,73,6,23,"arguments"],[36,82,6,23],[36,88,6,26],[36,89,6,27],[36,90,6,28],[37,6,6,28],[37,10,6,28,"_classCallCheck"],[37,25,6,28],[37,26,6,28,"default"],[37,33,6,28],[37,41,6,28,"NativeTransport"],[37,56,6,28],[38,6,7,8],[38,10,7,12],[38,11,7,13,"_buffer"],[38,18,7,20],[38,21,7,23],[38,25,7,23,"makePromiseBuffer"],[38,36,7,40],[38,37,7,40,"makePromiseBuffer"],[38,54,7,40],[38,56,7,41,"options"],[38,63,7,48],[38,64,7,49,"bufferSize"],[38,74,7,59],[38,78,7,63,"DEFAULT_BUFFER_SIZE"],[38,97,7,82],[38,98,7,83],[39,4,8,4],[40,4,9,4],[41,0,10,0],[42,0,11,0],[43,0,12,0],[44,0,13,0],[45,4,9,4],[45,15,9,4,"_createClass"],[45,27,9,4],[45,28,9,4,"default"],[45,35,9,4],[45,37,9,4,"NativeTransport"],[45,52,9,4],[46,6,9,4,"key"],[46,9,9,4],[47,6,9,4,"value"],[47,11,9,4],[47,13,14,4],[47,22,14,4,"send"],[47,26,14,8,"send"],[47,27,14,9,"envelope"],[47,35,14,17],[47,37,14,19],[48,8,15,8],[49,8,16,8],[49,15,16,15],[49,19,16,19],[49,20,16,20,"_buffer"],[49,27,16,27],[49,28,16,28,"add"],[49,31,16,31],[49,32,16,32],[49,38,16,38,"NATIVE"],[49,46,16,44],[49,47,16,44,"NATIVE"],[49,53,16,44],[49,54,16,45,"sendEnvelope"],[49,66,16,57],[49,67,16,58,"envelope"],[49,75,16,66],[49,76,16,67],[49,77,16,68],[49,78,16,69,"then"],[49,82,16,73],[49,83,16,74],[49,90,16,81],[49,91,16,82],[49,92,16,83],[49,93,16,84],[49,94,16,85],[50,6,17,4],[51,6,18,4],[52,0,19,0],[53,0,20,0],[54,0,21,0],[55,0,22,0],[56,0,23,0],[57,0,24,0],[58,0,25,0],[59,4,18,4],[60,6,18,4,"key"],[60,9,18,4],[61,6,18,4,"value"],[61,11,18,4],[61,13,26,4],[61,22,26,4,"flush"],[61,27,26,9,"flush"],[61,28,26,10,"timeout"],[61,35,26,17],[61,37,26,19],[62,8,27,8],[62,15,27,15],[62,19,27,19],[62,20,27,20,"_buffer"],[62,27,27,27],[62,28,27,28,"drain"],[62,33,27,33],[62,34,27,34,"timeout"],[62,41,27,41],[62,42,27,42],[63,6,28,4],[64,4,28,5],[65,2,28,5],[66,2,30,0],[67,0,31,0],[68,0,32,0],[69,2,33,7],[69,11,33,16,"makeNativeTransport"],[69,30,33,35,"makeNativeTransport"],[69,31,33,35],[69,33,33,50],[70,4,33,50],[70,8,33,36,"options"],[70,15,33,43],[70,18,33,43,"arguments"],[70,27,33,43],[70,28,33,43,"length"],[70,34,33,43],[70,42,33,43,"arguments"],[70,51,33,43],[70,59,33,43,"undefined"],[70,68,33,43],[70,71,33,43,"arguments"],[70,80,33,43],[70,86,33,46],[70,87,33,47],[70,88,33,48],[71,4,34,4],[71,11,34,11],[71,15,34,15,"NativeTransport"],[71,30,34,30],[71,31,34,31,"options"],[71,38,34,38],[71,39,34,39],[72,2,35,0],[73,2,36,0],[74,0,37,0],[75,0,38,0],[76,2,39,7],[76,11,39,16,"makeNativeTransportFactory"],[76,37,39,42,"makeNativeTransportFactory"],[76,38,39,42,"_ref"],[76,42,39,42],[76,44,39,62],[77,4,39,62],[77,8,39,45,"enableNative"],[77,20,39,57],[77,23,39,57,"_ref"],[77,27,39,57],[77,28,39,45,"enableNative"],[77,40,39,57],[78,4,40,4],[78,8,40,8,"enableNative"],[78,20,40,20],[78,24,40,24,"NATIVE"],[78,32,40,30],[78,33,40,30,"NATIVE"],[78,39,40,30],[78,40,40,31,"isNativeAvailable"],[78,57,40,48],[78,58,40,49],[78,59,40,50],[78,61,40,52],[79,6,41,8],[79,13,41,15,"makeNativeTransport"],[79,32,41,34],[80,4,42,4],[81,4,43,4],[81,11,43,11],[81,15,43,15],[82,2,44,0],[83,0,44,1],[83,3]],"functionMap":{"names":["<global>","NativeTransport","NativeTransport#constructor","NativeTransport#send","_buffer.add$argument_0","_buffer.add.then$argument_0","NativeTransport#flush","makeNativeTransport","makeNativeTransportFactory"],"mappings":"AAA;OCI;ICC;KDE;IEM;gCCE,mCD,OE,UF;KFC;IKS;KLE;CDC;OOI;CPE;OQI;CRK"},"hasCjsExports":false},"type":"js/module"}]}