{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":75,"index":117}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":118},"end":{"line":3,"column":48,"index":166}}],"key":"rfhktnzi6PvZxT1xtyHWbBktN/w=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":167},"end":{"line":4,"column":69,"index":236}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"checkRouteForAsyncHandler\", {\n    enumerable: true,\n    get: function () {\n      return checkRouteForAsyncHandler;\n    }\n  });\n  Object.defineProperty(exports, \"createAsyncHandlerProxy\", {\n    enumerable: true,\n    get: function () {\n      return createAsyncHandlerProxy;\n    }\n  });\n  Object.defineProperty(exports, \"handleAsyncHandlerResult\", {\n    enumerable: true,\n    get: function () {\n      return handleAsyncHandlerResult;\n    }\n  });\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryCore = require(_dependencyMap[1], \"@sentry/core\");\n  var _debugBuildJs = require(_dependencyMap[2], \"../debug-build.js\");\n  var _utilsJs = require(_dependencyMap[3], \"./utils.js\");\n  /**\n   * Captures location at invocation time. Prefers navigation context over window.location\n   * since window.location hasn't updated yet when async handlers are invoked.\n   */\n  function captureCurrentLocation() {\n    var navContext = (0, _utilsJs.getNavigationContext)();\n    // Only use navigation context if targetPath is defined (it can be undefined\n    // if patchRoutesOnNavigation was invoked without a path argument)\n    if (navContext?.targetPath) {\n      return {\n        pathname: navContext.targetPath,\n        search: '',\n        hash: '',\n        state: null,\n        key: 'default'\n      };\n    }\n    if (typeof _sentryBrowser.WINDOW !== 'undefined') {\n      try {\n        var windowLocation = _sentryBrowser.WINDOW.location;\n        if (windowLocation) {\n          return {\n            pathname: windowLocation.pathname,\n            search: windowLocation.search || '',\n            hash: windowLocation.hash || '',\n            state: null,\n            key: 'default'\n          };\n        }\n      } catch {\n        _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.warn('[React Router] Could not access window.location');\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Captures the active span at invocation time. Prefers navigation context span\n   * to ensure we update the correct span even if another navigation starts.\n   */\n  function captureActiveSpan() {\n    var navContext = (0, _utilsJs.getNavigationContext)();\n    if (navContext) {\n      return navContext.span;\n    }\n    return (0, _utilsJs.getActiveRootSpan)();\n  }\n\n  /**\n   * Creates a proxy wrapper for an async handler function.\n   * Captures both the location and the active span at invocation time to ensure\n   * the correct span is updated when the handler resolves.\n   */\n  function createAsyncHandlerProxy(originalFunction, route, handlerKey, processResolvedRoutes) {\n    var proxy = new Proxy(originalFunction, {\n      apply(target, thisArg, argArray) {\n        var locationAtInvocation = captureCurrentLocation();\n        var spanAtInvocation = captureActiveSpan();\n        var result = target.apply(thisArg, argArray);\n        handleAsyncHandlerResult(result, route, handlerKey, processResolvedRoutes, locationAtInvocation, spanAtInvocation);\n        return result;\n      }\n    });\n    (0, _sentryCore.addNonEnumerableProperty)(proxy, '__sentry_proxied__', true);\n    return proxy;\n  }\n\n  /**\n   * Handles the result of an async handler function call.\n   * Passes the captured span through to ensure the correct span is updated.\n   */\n  function handleAsyncHandlerResult(result, route, handlerKey, processResolvedRoutes, currentLocation, capturedSpan) {\n    if ((0, _sentryCore.isThenable)(result)) {\n      result.then(resolvedRoutes => {\n        if (Array.isArray(resolvedRoutes)) {\n          processResolvedRoutes(resolvedRoutes, route, currentLocation ?? undefined, capturedSpan);\n        }\n      }).catch(e => {\n        _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.warn(`Error resolving async handler '${handlerKey}' for route`, route, e);\n      });\n    } else if (Array.isArray(result)) {\n      processResolvedRoutes(result, route, currentLocation ?? undefined, capturedSpan);\n    }\n  }\n\n  /**\n   * Recursively checks a route for async handlers and sets up Proxies to add discovered child routes to allRoutes when called.\n   */\n  function checkRouteForAsyncHandler(route, processResolvedRoutes) {\n    // Set up proxies for any functions in the route's handle\n    if (route.handle && typeof route.handle === 'object') {\n      for (var key of Object.keys(route.handle)) {\n        var maybeFn = route.handle[key];\n        if (typeof maybeFn === 'function' && !maybeFn.__sentry_proxied__) {\n          route.handle[key] = createAsyncHandlerProxy(maybeFn, route, key, processResolvedRoutes);\n        }\n      }\n    }\n\n    // Recursively check child routes\n    if (Array.isArray(route.children)) {\n      for (var child of route.children) {\n        checkRouteForAsyncHandler(child, processResolvedRoutes);\n      }\n    }\n  }\n});","lineCount":135,"map":[[7,2,146,0,"Object"],[7,8,146,0],[7,9,146,0,"defineProperty"],[7,23,146,0],[7,24,146,0,"exports"],[7,31,146,0],[8,4,146,0,"enumerable"],[8,14,146,0],[9,4,146,0,"get"],[9,7,146,0],[9,18,146,0,"get"],[9,19,146,0],[10,6,146,0],[10,13,146,9,"checkRouteForAsyncHandler"],[10,38,146,34],[11,4,146,34],[12,2,146,34],[13,2,146,0,"Object"],[13,8,146,0],[13,9,146,0,"defineProperty"],[13,23,146,0],[13,24,146,0,"exports"],[13,31,146,0],[14,4,146,0,"enumerable"],[14,14,146,0],[15,4,146,0,"get"],[15,7,146,0],[15,18,146,0,"get"],[15,19,146,0],[16,6,146,0],[16,13,146,36,"createAsyncHandlerProxy"],[16,36,146,59],[17,4,146,59],[18,2,146,59],[19,2,146,0,"Object"],[19,8,146,0],[19,9,146,0,"defineProperty"],[19,23,146,0],[19,24,146,0,"exports"],[19,31,146,0],[20,4,146,0,"enumerable"],[20,14,146,0],[21,4,146,0,"get"],[21,7,146,0],[21,18,146,0,"get"],[21,19,146,0],[22,6,146,0],[22,13,146,61,"handleAsyncHandlerResult"],[22,37,146,85],[23,4,146,85],[24,2,146,85],[25,2,1,0],[25,6,1,0,"_sentryBrowser"],[25,20,1,0],[25,23,1,0,"require"],[25,30,1,0],[25,31,1,0,"_dependencyMap"],[25,45,1,0],[26,2,2,0],[26,6,2,0,"_sentryCore"],[26,17,2,0],[26,20,2,0,"require"],[26,27,2,0],[26,28,2,0,"_dependencyMap"],[26,42,2,0],[27,2,3,0],[27,6,3,0,"_debugBuildJs"],[27,19,3,0],[27,22,3,0,"require"],[27,29,3,0],[27,30,3,0,"_dependencyMap"],[27,44,3,0],[28,2,4,0],[28,6,4,0,"_utilsJs"],[28,14,4,0],[28,17,4,0,"require"],[28,24,4,0],[28,25,4,0,"_dependencyMap"],[28,39,4,0],[29,2,6,0],[30,0,7,0],[31,0,8,0],[32,0,9,0],[33,2,10,0],[33,11,10,9,"captureCurrentLocation"],[33,33,10,31,"captureCurrentLocation"],[33,34,10,31],[33,36,10,34],[34,4,11,2],[34,8,11,8,"navContext"],[34,18,11,18],[34,21,11,21],[34,25,11,21,"getNavigationContext"],[34,33,11,41],[34,34,11,41,"getNavigationContext"],[34,54,11,41],[34,56,11,42],[34,57,11,43],[35,4,12,2],[36,4,13,2],[37,4,14,2],[37,8,14,6,"navContext"],[37,18,14,16],[37,20,14,18,"targetPath"],[37,30,14,28],[37,32,14,30],[38,6,15,4],[38,13,15,11],[39,8,16,6,"pathname"],[39,16,16,14],[39,18,16,16,"navContext"],[39,28,16,26],[39,29,16,27,"targetPath"],[39,39,16,37],[40,8,17,6,"search"],[40,14,17,12],[40,16,17,14],[40,18,17,16],[41,8,18,6,"hash"],[41,12,18,10],[41,14,18,12],[41,16,18,14],[42,8,19,6,"state"],[42,13,19,11],[42,15,19,13],[42,19,19,17],[43,8,20,6,"key"],[43,11,20,9],[43,13,20,11],[44,6,21,4],[44,7,21,5],[45,4,22,2],[46,4,24,2],[46,8,24,6],[46,15,24,13,"WINDOW"],[46,29,24,19],[46,30,24,19,"WINDOW"],[46,36,24,19],[46,41,24,24],[46,52,24,35],[46,54,24,37],[47,6,25,4],[47,10,25,8],[48,8,26,6],[48,12,26,12,"windowLocation"],[48,26,26,26],[48,29,26,29,"WINDOW"],[48,43,26,35],[48,44,26,35,"WINDOW"],[48,50,26,35],[48,51,26,36,"location"],[48,59,26,44],[49,8,27,6],[49,12,27,10,"windowLocation"],[49,26,27,24],[49,28,27,26],[50,10,28,8],[50,17,28,15],[51,12,29,10,"pathname"],[51,20,29,18],[51,22,29,20,"windowLocation"],[51,36,29,34],[51,37,29,35,"pathname"],[51,45,29,43],[52,12,30,10,"search"],[52,18,30,16],[52,20,30,18,"windowLocation"],[52,34,30,32],[52,35,30,33,"search"],[52,41,30,39],[52,45,30,43],[52,47,30,45],[53,12,31,10,"hash"],[53,16,31,14],[53,18,31,16,"windowLocation"],[53,32,31,30],[53,33,31,31,"hash"],[53,37,31,35],[53,41,31,39],[53,43,31,41],[54,12,32,10,"state"],[54,17,32,15],[54,19,32,17],[54,23,32,21],[55,12,33,10,"key"],[55,15,33,13],[55,17,33,15],[56,10,34,8],[56,11,34,9],[57,8,35,6],[58,6,36,4],[58,7,36,5],[58,8,36,6],[58,14,36,12],[59,8,37,6,"DEBUG_BUILD"],[59,21,37,17],[59,22,37,17,"DEBUG_BUILD"],[59,33,37,17],[59,37,37,21,"debug"],[59,48,37,26],[59,49,37,26,"debug"],[59,54,37,26],[59,55,37,27,"warn"],[59,59,37,31],[59,60,37,32],[59,109,37,81],[59,110,37,82],[60,6,38,4],[61,4,39,2],[62,4,40,2],[62,11,40,9],[62,15,40,13],[63,2,41,0],[65,2,43,0],[66,0,44,0],[67,0,45,0],[68,0,46,0],[69,2,47,0],[69,11,47,9,"captureActiveSpan"],[69,28,47,26,"captureActiveSpan"],[69,29,47,26],[69,31,47,29],[70,4,48,2],[70,8,48,8,"navContext"],[70,18,48,18],[70,21,48,21],[70,25,48,21,"getNavigationContext"],[70,33,48,41],[70,34,48,41,"getNavigationContext"],[70,54,48,41],[70,56,48,42],[70,57,48,43],[71,4,49,2],[71,8,49,6,"navContext"],[71,18,49,16],[71,20,49,18],[72,6,50,4],[72,13,50,11,"navContext"],[72,23,50,21],[72,24,50,22,"span"],[72,28,50,26],[73,4,51,2],[74,4,52,2],[74,11,52,9],[74,15,52,9,"getActiveRootSpan"],[74,23,52,26],[74,24,52,26,"getActiveRootSpan"],[74,41,52,26],[74,43,52,27],[74,44,52,28],[75,2,53,0],[77,2,55,0],[78,0,56,0],[79,0,57,0],[80,0,58,0],[81,0,59,0],[82,2,60,0],[82,11,60,9,"createAsyncHandlerProxy"],[82,34,60,32,"createAsyncHandlerProxy"],[82,35,61,2,"originalFunction"],[82,51,61,18],[82,53,62,2,"route"],[82,58,62,7],[82,60,63,2,"handlerKey"],[82,70,63,12],[82,72,64,2,"processResolvedRoutes"],[82,93,64,23],[82,95,67,2],[83,4,68,2],[83,8,68,8,"proxy"],[83,13,68,13],[83,16,68,16],[83,20,68,20,"Proxy"],[83,25,68,25],[83,26,68,26,"originalFunction"],[83,42,68,42],[83,44,68,44],[84,6,69,4,"apply"],[84,11,69,9,"apply"],[84,12,69,10,"target"],[84,18,69,16],[84,20,69,18,"thisArg"],[84,27,69,25],[84,29,69,27,"argArray"],[84,37,69,35],[84,39,69,37],[85,8,70,6],[85,12,70,12,"locationAtInvocation"],[85,32,70,32],[85,35,70,35,"captureCurrentLocation"],[85,57,70,57],[85,58,70,58],[85,59,70,59],[86,8,71,6],[86,12,71,12,"spanAtInvocation"],[86,28,71,28],[86,31,71,31,"captureActiveSpan"],[86,48,71,48],[86,49,71,49],[86,50,71,50],[87,8,72,6],[87,12,72,12,"result"],[87,18,72,18],[87,21,72,21,"target"],[87,27,72,27],[87,28,72,28,"apply"],[87,33,72,33],[87,34,72,34,"thisArg"],[87,41,72,41],[87,43,72,43,"argArray"],[87,51,72,51],[87,52,72,52],[88,8,73,6,"handleAsyncHandlerResult"],[88,32,73,30],[88,33,74,8,"result"],[88,39,74,14],[88,41,75,8,"route"],[88,46,75,13],[88,48,76,8,"handlerKey"],[88,58,76,18],[88,60,77,8,"processResolvedRoutes"],[88,81,77,29],[88,83,78,8,"locationAtInvocation"],[88,103,78,28],[88,105,79,8,"spanAtInvocation"],[88,121,80,6],[88,122,80,7],[89,8,81,6],[89,15,81,13,"result"],[89,21,81,19],[90,6,82,4],[91,4,83,2],[91,5,83,3],[91,6,83,4],[92,4,85,2],[92,8,85,2,"addNonEnumerableProperty"],[92,19,85,26],[92,20,85,26,"addNonEnumerableProperty"],[92,44,85,26],[92,46,85,27,"proxy"],[92,51,85,32],[92,53,85,34],[92,73,85,54],[92,75,85,56],[92,79,85,60],[92,80,85,61],[93,4,87,2],[93,11,87,9,"proxy"],[93,16,87,14],[94,2,88,0],[96,2,90,0],[97,0,91,0],[98,0,92,0],[99,0,93,0],[100,2,94,0],[100,11,94,9,"handleAsyncHandlerResult"],[100,35,94,33,"handleAsyncHandlerResult"],[100,36,95,2,"result"],[100,42,95,8],[100,44,96,2,"route"],[100,49,96,7],[100,51,97,2,"handlerKey"],[100,61,97,12],[100,63,98,2,"processResolvedRoutes"],[100,84,98,23],[100,86,101,2,"currentLocation"],[100,101,101,17],[100,103,102,2,"capturedSpan"],[100,115,102,14],[100,117,103,2],[101,4,104,2],[101,8,104,6],[101,12,104,6,"isThenable"],[101,23,104,16],[101,24,104,16,"isThenable"],[101,34,104,16],[101,36,104,17,"result"],[101,42,104,23],[101,43,104,24],[101,45,104,26],[102,6,105,5,"result"],[102,12,105,11],[102,13,106,7,"then"],[102,17,106,11],[102,18,106,13,"resolvedRoutes"],[102,32,106,27],[102,36,106,32],[103,8,107,8],[103,12,107,12,"Array"],[103,17,107,17],[103,18,107,18,"isArray"],[103,25,107,25],[103,26,107,26,"resolvedRoutes"],[103,40,107,40],[103,41,107,41],[103,43,107,43],[104,10,108,10,"processResolvedRoutes"],[104,31,108,31],[104,32,108,32,"resolvedRoutes"],[104,46,108,46],[104,48,108,48,"route"],[104,53,108,53],[104,55,108,55,"currentLocation"],[104,70,108,70],[104,74,108,74,"undefined"],[104,83,108,83],[104,85,108,85,"capturedSpan"],[104,97,108,97],[104,98,108,98],[105,8,109,8],[106,6,110,6],[106,7,110,7],[106,8,110,8],[106,9,111,7,"catch"],[106,14,111,12],[106,15,111,14,"e"],[106,16,111,15],[106,20,111,20],[107,8,112,8,"DEBUG_BUILD"],[107,21,112,19],[107,22,112,19,"DEBUG_BUILD"],[107,33,112,19],[107,37,112,23,"debug"],[107,48,112,28],[107,49,112,28,"debug"],[107,54,112,28],[107,55,112,29,"warn"],[107,59,112,33],[107,60,112,34],[107,94,112,68,"handlerKey"],[107,104,112,78],[107,117,112,91],[107,119,112,93,"route"],[107,124,112,98],[107,126,112,100,"e"],[107,127,112,101],[107,128,112,102],[108,6,113,6],[108,7,113,7],[108,8,113,8],[109,4,114,2],[109,5,114,3],[109,11,114,9],[109,15,114,13,"Array"],[109,20,114,18],[109,21,114,19,"isArray"],[109,28,114,26],[109,29,114,27,"result"],[109,35,114,33],[109,36,114,34],[109,38,114,36],[110,6,115,4,"processResolvedRoutes"],[110,27,115,25],[110,28,115,26,"result"],[110,34,115,32],[110,36,115,34,"route"],[110,41,115,39],[110,43,115,41,"currentLocation"],[110,58,115,56],[110,62,115,60,"undefined"],[110,71,115,69],[110,73,115,71,"capturedSpan"],[110,85,115,83],[110,86,115,84],[111,4,116,2],[112,2,117,0],[114,2,119,0],[115,0,120,0],[116,0,121,0],[117,2,122,0],[117,11,122,9,"checkRouteForAsyncHandler"],[117,36,122,34,"checkRouteForAsyncHandler"],[117,37,123,2,"route"],[117,42,123,7],[117,44,124,2,"processResolvedRoutes"],[117,65,124,23],[117,67,127,2],[118,4,128,2],[119,4,129,2],[119,8,129,6,"route"],[119,13,129,11],[119,14,129,12,"handle"],[119,20,129,18],[119,24,129,22],[119,31,129,29,"route"],[119,36,129,34],[119,37,129,35,"handle"],[119,43,129,41],[119,48,129,46],[119,56,129,54],[119,58,129,56],[120,6,130,4],[120,11,130,9],[120,15,130,15,"key"],[120,18,130,18],[120,22,130,22,"Object"],[120,28,130,28],[120,29,130,29,"keys"],[120,33,130,33],[120,34,130,34,"route"],[120,39,130,39],[120,40,130,40,"handle"],[120,46,130,46],[120,47,130,47],[120,49,130,49],[121,8,131,6],[121,12,131,12,"maybeFn"],[121,19,131,19],[121,22,131,22,"route"],[121,27,131,27],[121,28,131,28,"handle"],[121,34,131,34],[121,35,131,35,"key"],[121,38,131,38],[121,39,131,39],[122,8,132,6],[122,12,132,10],[122,19,132,17,"maybeFn"],[122,26,132,24],[122,31,132,29],[122,41,132,39],[122,45,132,43],[122,46,132,45,"maybeFn"],[122,53,132,52],[122,54,132,55,"__sentry_proxied__"],[122,72,132,73],[122,74,132,75],[123,10,133,8,"route"],[123,15,133,13],[123,16,133,14,"handle"],[123,22,133,20],[123,23,133,21,"key"],[123,26,133,24],[123,27,133,25],[123,30,133,28,"createAsyncHandlerProxy"],[123,53,133,51],[123,54,133,52,"maybeFn"],[123,61,133,59],[123,63,133,61,"route"],[123,68,133,66],[123,70,133,68,"key"],[123,73,133,71],[123,75,133,73,"processResolvedRoutes"],[123,96,133,94],[123,97,133,95],[124,8,134,6],[125,6,135,4],[126,4,136,2],[128,4,138,2],[129,4,139,2],[129,8,139,6,"Array"],[129,13,139,11],[129,14,139,12,"isArray"],[129,21,139,19],[129,22,139,20,"route"],[129,27,139,25],[129,28,139,26,"children"],[129,36,139,34],[129,37,139,35],[129,39,139,37],[130,6,140,4],[130,11,140,9],[130,15,140,15,"child"],[130,20,140,20],[130,24,140,24,"route"],[130,29,140,29],[130,30,140,30,"children"],[130,38,140,38],[130,40,140,40],[131,8,141,6,"checkRouteForAsyncHandler"],[131,33,141,31],[131,34,141,32,"child"],[131,39,141,37],[131,41,141,39,"processResolvedRoutes"],[131,62,141,60],[131,63,141,61],[132,6,142,4],[133,4,143,2],[134,2,144,0],[135,0,144,1],[135,3]],"functionMap":{"names":["<global>","captureCurrentLocation","captureActiveSpan","createAsyncHandlerProxy","Proxy$argument_1.apply","handleAsyncHandlerResult","result.then$argument_0","result.then._catch$argument_0","checkRouteForAsyncHandler"],"mappings":"AAA;ACS;CD+B;AEM;CFM;AGO;ICS;KDa;CHM;AKM;YCY;ODI;aEC;OFE;CLI;AQK;CRsB"},"hasCjsExports":false},"type":"js/module"}]}