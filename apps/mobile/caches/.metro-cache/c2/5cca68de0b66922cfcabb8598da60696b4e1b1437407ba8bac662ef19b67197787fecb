{"dependencies":[{"name":"../../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"EZPmsHt7bn9JJ4Y0grXw/CrOow0=","exportNames":["*"],"imports":1}},{"name":"../../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":109,"index":162}}],"key":"Nj05aHw7DkcWLBmtaT73GikC0NY=","exportNames":["*"],"imports":1}},{"name":"../spanstatus.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":163},"end":{"line":3,"column":53,"index":216}}],"key":"oo3PNTzeCFGehsy4DLcuUh8qvTg=","exportNames":["*"],"imports":1}},{"name":"../trace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":217},"end":{"line":4,"column":46,"index":263}}],"key":"s7B8neP9S1JcGnLMVRoTknJTEMM=","exportNames":["*"],"imports":1}},{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":264},"end":{"line":5,"column":109,"index":373}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"./constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":374},"end":{"line":6,"column":50,"index":424}}],"key":"46QfplZMuoT7/1B4GqMDknw8q/g=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":425},"end":{"line":7,"column":143,"index":568}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createLangChainCallbackHandler\", {\n    enumerable: true,\n    get: function () {\n      return createLangChainCallbackHandler;\n    }\n  });\n  var _exportsJs = require(_dependencyMap[0], \"../../exports.js\");\n  var _semanticAttributesJs = require(_dependencyMap[1], \"../../semanticAttributes.js\");\n  var _spanstatusJs = require(_dependencyMap[2], \"../spanstatus.js\");\n  var _traceJs = require(_dependencyMap[3], \"../trace.js\");\n  var _aiGenAiAttributesJs = require(_dependencyMap[4], \"../ai/gen-ai-attributes.js\");\n  var _constantsJs = require(_dependencyMap[5], \"./constants.js\");\n  var _utilsJs = require(_dependencyMap[6], \"./utils.js\");\n  /**\n   * Creates a Sentry callback handler for LangChain\n   * Returns a plain object that LangChain will call via duck-typing\n   *\n   * This is a stateful handler that tracks spans across multiple LangChain executions.\n   */\n  function createLangChainCallbackHandler() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var recordInputs = options.recordInputs ?? false;\n    var recordOutputs = options.recordOutputs ?? false;\n\n    // Internal state - single instance tracks all spans\n    var spanMap = new Map();\n\n    /**\n     * Exit a span and clean up\n     */\n    var exitSpan = runId => {\n      var span = spanMap.get(runId);\n      if (span?.isRecording()) {\n        span.end();\n        spanMap.delete(runId);\n      }\n    };\n\n    /**\n     * Handler for LLM Start\n     * This handler will be called by LangChain's callback handler when an LLM event is detected.\n     */\n    var handler = {\n      // Required LangChain BaseCallbackHandler properties\n      lc_serializable: false,\n      lc_namespace: ['langchain_core', 'callbacks', 'sentry'],\n      lc_secrets: undefined,\n      lc_attributes: undefined,\n      lc_aliases: undefined,\n      lc_serializable_keys: undefined,\n      lc_id: ['langchain_core', 'callbacks', 'sentry'],\n      lc_kwargs: {},\n      name: 'SentryCallbackHandler',\n      // BaseCallbackHandlerInput boolean flags\n      ignoreLLM: false,\n      ignoreChain: false,\n      ignoreAgent: false,\n      ignoreRetriever: false,\n      ignoreCustomEvent: false,\n      raiseError: false,\n      awaitHandlers: true,\n      handleLLMStart(llm, prompts, runId, _parentRunId, _extraParams, tags, metadata, _runName) {\n        var invocationParams = (0, _utilsJs.getInvocationParams)(tags);\n        var attributes = (0, _utilsJs.extractLLMRequestAttributes)(llm, prompts, recordInputs, invocationParams, metadata);\n        var modelName = attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE];\n        var operationName = attributes[_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE];\n        (0, _traceJs.startSpanManual)({\n          name: `${operationName} ${modelName}`,\n          op: 'gen_ai.pipeline',\n          attributes: {\n            ...attributes,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'gen_ai.pipeline'\n          }\n        }, span => {\n          spanMap.set(runId, span);\n          return span;\n        });\n      },\n      // Chat Model Start Handler\n      handleChatModelStart(llm, messages, runId, _parentRunId, _extraParams, tags, metadata, _runName) {\n        var invocationParams = (0, _utilsJs.getInvocationParams)(tags);\n        var attributes = (0, _utilsJs.extractChatModelRequestAttributes)(llm, messages, recordInputs, invocationParams, metadata);\n        var modelName = attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE];\n        var operationName = attributes[_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE];\n        (0, _traceJs.startSpanManual)({\n          name: `${operationName} ${modelName}`,\n          op: 'gen_ai.chat',\n          attributes: {\n            ...attributes,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'gen_ai.chat'\n          }\n        }, span => {\n          spanMap.set(runId, span);\n          return span;\n        });\n      },\n      // LLM End Handler - note: handleLLMEnd with capital LLM (used by both LLMs and chat models!)\n      handleLLMEnd(output, runId, _parentRunId, _tags, _extraParams) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          var attributes = (0, _utilsJs.extractLlmResponseAttributes)(output, recordOutputs);\n          if (attributes) {\n            span.setAttributes(attributes);\n          }\n          exitSpan(runId);\n        }\n      },\n      // LLM Error Handler - note: handleLLMError with capital LLM\n      handleLLMError(error, runId) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          span.setStatus({\n            code: _spanstatusJs.SPAN_STATUS_ERROR,\n            message: 'llm_error'\n          });\n          exitSpan(runId);\n        }\n        (0, _exportsJs.captureException)(error, {\n          mechanism: {\n            handled: false,\n            type: `${_constantsJs.LANGCHAIN_ORIGIN}.llm_error_handler`\n          }\n        });\n      },\n      // Chain Start Handler\n      handleChainStart(chain, inputs, runId, _parentRunId) {\n        var chainName = chain.name || 'unknown_chain';\n        var attributes = {\n          [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.ai.langchain',\n          'langchain.chain.name': chainName\n        };\n\n        // Add inputs if recordInputs is enabled\n        if (recordInputs) {\n          attributes['langchain.chain.inputs'] = JSON.stringify(inputs);\n        }\n        (0, _traceJs.startSpanManual)({\n          name: `chain ${chainName}`,\n          op: 'gen_ai.invoke_agent',\n          attributes: {\n            ...attributes,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'gen_ai.invoke_agent'\n          }\n        }, span => {\n          spanMap.set(runId, span);\n          return span;\n        });\n      },\n      // Chain End Handler\n      handleChainEnd(outputs, runId) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          // Add outputs if recordOutputs is enabled\n          if (recordOutputs) {\n            span.setAttributes({\n              'langchain.chain.outputs': JSON.stringify(outputs)\n            });\n          }\n          exitSpan(runId);\n        }\n      },\n      // Chain Error Handler\n      handleChainError(error, runId) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          span.setStatus({\n            code: _spanstatusJs.SPAN_STATUS_ERROR,\n            message: 'chain_error'\n          });\n          exitSpan(runId);\n        }\n        (0, _exportsJs.captureException)(error, {\n          mechanism: {\n            handled: false,\n            type: `${_constantsJs.LANGCHAIN_ORIGIN}.chain_error_handler`\n          }\n        });\n      },\n      // Tool Start Handler\n      handleToolStart(tool, input, runId, _parentRunId) {\n        var toolName = tool.name || 'unknown_tool';\n        var attributes = {\n          [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: _constantsJs.LANGCHAIN_ORIGIN,\n          'gen_ai.tool.name': toolName\n        };\n\n        // Add input if recordInputs is enabled\n        if (recordInputs) {\n          attributes['gen_ai.tool.input'] = input;\n        }\n        (0, _traceJs.startSpanManual)({\n          name: `execute_tool ${toolName}`,\n          op: 'gen_ai.execute_tool',\n          attributes: {\n            ...attributes,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'gen_ai.execute_tool'\n          }\n        }, span => {\n          spanMap.set(runId, span);\n          return span;\n        });\n      },\n      // Tool End Handler\n      handleToolEnd(output, runId) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          // Add output if recordOutputs is enabled\n          if (recordOutputs) {\n            span.setAttributes({\n              'gen_ai.tool.output': JSON.stringify(output)\n            });\n          }\n          exitSpan(runId);\n        }\n      },\n      // Tool Error Handler\n      handleToolError(error, runId) {\n        var span = spanMap.get(runId);\n        if (span?.isRecording()) {\n          span.setStatus({\n            code: _spanstatusJs.SPAN_STATUS_ERROR,\n            message: 'tool_error'\n          });\n          exitSpan(runId);\n        }\n        (0, _exportsJs.captureException)(error, {\n          mechanism: {\n            handled: false,\n            type: `${_constantsJs.LANGCHAIN_ORIGIN}.tool_error_handler`\n          }\n        });\n      },\n      // LangChain BaseCallbackHandler required methods\n      copy() {\n        return handler;\n      },\n      toJSON() {\n        return {\n          lc: 1,\n          type: 'not_implemented',\n          id: handler.lc_id\n        };\n      },\n      toJSONNotImplemented() {\n        return {\n          lc: 1,\n          type: 'not_implemented',\n          id: handler.lc_id\n        };\n      }\n    };\n    return handler;\n  }\n});","lineCount":260,"map":[[7,2,310,0,"Object"],[7,8,310,0],[7,9,310,0,"defineProperty"],[7,23,310,0],[7,24,310,0,"exports"],[7,31,310,0],[8,4,310,0,"enumerable"],[8,14,310,0],[9,4,310,0,"get"],[9,7,310,0],[9,18,310,0,"get"],[9,19,310,0],[10,6,310,0],[10,13,310,9,"createLangChainCallbackHandler"],[10,43,310,39],[11,4,310,39],[12,2,310,39],[13,2,1,0],[13,6,1,0,"_exportsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_semanticAttributesJs"],[14,27,2,0],[14,30,2,0,"require"],[14,37,2,0],[14,38,2,0,"_dependencyMap"],[14,52,2,0],[15,2,3,0],[15,6,3,0,"_spanstatusJs"],[15,19,3,0],[15,22,3,0,"require"],[15,29,3,0],[15,30,3,0,"_dependencyMap"],[15,44,3,0],[16,2,4,0],[16,6,4,0,"_traceJs"],[16,14,4,0],[16,17,4,0,"require"],[16,24,4,0],[16,25,4,0,"_dependencyMap"],[16,39,4,0],[17,2,5,0],[17,6,5,0,"_aiGenAiAttributesJs"],[17,26,5,0],[17,29,5,0,"require"],[17,36,5,0],[17,37,5,0,"_dependencyMap"],[17,51,5,0],[18,2,6,0],[18,6,6,0,"_constantsJs"],[18,18,6,0],[18,21,6,0,"require"],[18,28,6,0],[18,29,6,0,"_dependencyMap"],[18,43,6,0],[19,2,7,0],[19,6,7,0,"_utilsJs"],[19,14,7,0],[19,17,7,0,"require"],[19,24,7,0],[19,25,7,0,"_dependencyMap"],[19,39,7,0],[20,2,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,2,15,0],[26,11,15,9,"createLangChainCallbackHandler"],[26,41,15,39,"createLangChainCallbackHandler"],[26,42,15,39],[26,44,15,54],[27,4,15,54],[27,8,15,40,"options"],[27,15,15,47],[27,18,15,47,"arguments"],[27,27,15,47],[27,28,15,47,"length"],[27,34,15,47],[27,42,15,47,"arguments"],[27,51,15,47],[27,59,15,47,"undefined"],[27,68,15,47],[27,71,15,47,"arguments"],[27,80,15,47],[27,86,15,50],[27,87,15,51],[27,88,15,52],[28,4,16,2],[28,8,16,8,"recordInputs"],[28,20,16,20],[28,23,16,23,"options"],[28,30,16,30],[28,31,16,31,"recordInputs"],[28,43,16,43],[28,47,16,47],[28,52,16,52],[29,4,17,2],[29,8,17,8,"recordOutputs"],[29,21,17,21],[29,24,17,24,"options"],[29,31,17,31],[29,32,17,32,"recordOutputs"],[29,45,17,45],[29,49,17,49],[29,54,17,54],[31,4,19,2],[32,4,20,2],[32,8,20,8,"spanMap"],[32,15,20,15],[32,18,20,18],[32,22,20,22,"Map"],[32,25,20,25],[32,26,20,26],[32,27,20,27],[34,4,22,2],[35,0,23,0],[36,0,24,0],[37,4,25,2],[37,8,25,8,"exitSpan"],[37,16,25,16],[37,19,25,20,"runId"],[37,24,25,25],[37,28,25,30],[38,6,26,4],[38,10,26,10,"span"],[38,14,26,14],[38,17,26,17,"spanMap"],[38,24,26,24],[38,25,26,25,"get"],[38,28,26,28],[38,29,26,29,"runId"],[38,34,26,34],[38,35,26,35],[39,6,27,4],[39,10,27,8,"span"],[39,14,27,12],[39,16,27,14,"isRecording"],[39,27,27,25],[39,28,27,26],[39,29,27,27],[39,31,27,29],[40,8,28,6,"span"],[40,12,28,10],[40,13,28,11,"end"],[40,16,28,14],[40,17,28,15],[40,18,28,16],[41,8,29,6,"spanMap"],[41,15,29,13],[41,16,29,14,"delete"],[41,22,29,20],[41,23,29,21,"runId"],[41,28,29,26],[41,29,29,27],[42,6,30,4],[43,4,31,2],[43,5,31,3],[45,4,33,2],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,4,37,2],[49,8,37,8,"handler"],[49,15,37,15],[49,18,37,18],[50,6,38,4],[51,6,39,4,"lc_serializable"],[51,21,39,19],[51,23,39,21],[51,28,39,26],[52,6,40,4,"lc_namespace"],[52,18,40,16],[52,20,40,18],[52,21,40,19],[52,37,40,35],[52,39,40,37],[52,50,40,48],[52,52,40,50],[52,60,40,58],[52,61,40,59],[53,6,41,4,"lc_secrets"],[53,16,41,14],[53,18,41,16,"undefined"],[53,27,41,25],[54,6,42,4,"lc_attributes"],[54,19,42,17],[54,21,42,19,"undefined"],[54,30,42,28],[55,6,43,4,"lc_aliases"],[55,16,43,14],[55,18,43,16,"undefined"],[55,27,43,25],[56,6,44,4,"lc_serializable_keys"],[56,26,44,24],[56,28,44,26,"undefined"],[56,37,44,35],[57,6,45,4,"lc_id"],[57,11,45,9],[57,13,45,11],[57,14,45,12],[57,30,45,28],[57,32,45,30],[57,43,45,41],[57,45,45,43],[57,53,45,51],[57,54,45,52],[58,6,46,4,"lc_kwargs"],[58,15,46,13],[58,17,46,15],[58,18,46,16],[58,19,46,17],[59,6,47,4,"name"],[59,10,47,8],[59,12,47,10],[59,35,47,33],[60,6,49,4],[61,6,50,4,"ignoreLLM"],[61,15,50,13],[61,17,50,15],[61,22,50,20],[62,6,51,4,"ignoreChain"],[62,17,51,15],[62,19,51,17],[62,24,51,22],[63,6,52,4,"ignoreAgent"],[63,17,52,15],[63,19,52,17],[63,24,52,22],[64,6,53,4,"ignoreRetriever"],[64,21,53,19],[64,23,53,21],[64,28,53,26],[65,6,54,4,"ignoreCustomEvent"],[65,23,54,21],[65,25,54,23],[65,30,54,28],[66,6,55,4,"raiseError"],[66,16,55,14],[66,18,55,16],[66,23,55,21],[67,6,56,4,"awaitHandlers"],[67,19,56,17],[67,21,56,19],[67,25,56,23],[68,6,58,4,"handleLLMStart"],[68,20,58,18,"handleLLMStart"],[68,21,59,6,"llm"],[68,24,59,9],[68,26,60,6,"prompts"],[68,33,60,13],[68,35,61,6,"runId"],[68,40,61,11],[68,42,62,6,"_parentRunId"],[68,54,62,18],[68,56,63,6,"_extraParams"],[68,68,63,18],[68,70,64,6,"tags"],[68,74,64,10],[68,76,65,6,"metadata"],[68,84,65,14],[68,86,66,6,"_runName"],[68,94,66,14],[68,96,67,6],[69,8,68,6],[69,12,68,12,"invocationParams"],[69,28,68,28],[69,31,68,31],[69,35,68,31,"getInvocationParams"],[69,43,68,50],[69,44,68,50,"getInvocationParams"],[69,63,68,50],[69,65,68,51,"tags"],[69,69,68,55],[69,70,68,56],[70,8,69,6],[70,12,69,12,"attributes"],[70,22,69,22],[70,25,69,25],[70,29,69,25,"extractLLMRequestAttributes"],[70,37,69,52],[70,38,69,52,"extractLLMRequestAttributes"],[70,65,69,52],[70,67,70,8,"llm"],[70,70,70,11],[70,72,71,8,"prompts"],[70,79,71,15],[70,81,72,8,"recordInputs"],[70,93,72,20],[70,95,73,8,"invocationParams"],[70,111,73,24],[70,113,74,8,"metadata"],[70,121,75,6],[70,122,75,7],[71,8,76,6],[71,12,76,12,"modelName"],[71,21,76,21],[71,24,76,24,"attributes"],[71,34,76,34],[71,35,76,35,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[71,55,76,65],[71,56,76,65,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[71,86,76,65],[71,87,76,66],[72,8,77,6],[72,12,77,12,"operationName"],[72,25,77,25],[72,28,77,28,"attributes"],[72,38,77,38],[72,39,77,39,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[72,59,77,70],[72,60,77,70,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[72,91,77,70],[72,92,77,71],[73,8,79,6],[73,12,79,6,"startSpanManual"],[73,20,79,21],[73,21,79,21,"startSpanManual"],[73,36,79,21],[73,38,80,8],[74,10,81,10,"name"],[74,14,81,14],[74,16,81,16],[74,19,81,19,"operationName"],[74,32,81,32],[74,36,81,36,"modelName"],[74,45,81,45],[74,47,81,47],[75,10,82,10,"op"],[75,12,82,12],[75,14,82,14],[75,31,82,31],[76,10,83,10,"attributes"],[76,20,83,20],[76,22,83,22],[77,12,84,12],[77,15,84,15,"attributes"],[77,25,84,25],[78,12,85,12],[78,13,85,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[78,34,85,41],[78,35,85,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[78,63,85,41],[78,66,85,44],[79,10,86,10],[80,8,87,8],[80,9,87,9],[80,11,88,8,"span"],[80,15,88,12],[80,19,88,16],[81,10,89,10,"spanMap"],[81,17,89,17],[81,18,89,18,"set"],[81,21,89,21],[81,22,89,22,"runId"],[81,27,89,27],[81,29,89,29,"span"],[81,33,89,33],[81,34,89,34],[82,10,90,10],[82,17,90,17,"span"],[82,21,90,21],[83,8,91,8],[83,9,92,6],[83,10,92,7],[84,6,93,4],[84,7,93,5],[85,6,95,4],[86,6,96,4,"handleChatModelStart"],[86,26,96,24,"handleChatModelStart"],[86,27,97,6,"llm"],[86,30,97,9],[86,32,98,6,"messages"],[86,40,98,14],[86,42,99,6,"runId"],[86,47,99,11],[86,49,100,6,"_parentRunId"],[86,61,100,18],[86,63,101,6,"_extraParams"],[86,75,101,18],[86,77,102,6,"tags"],[86,81,102,10],[86,83,103,6,"metadata"],[86,91,103,14],[86,93,104,6,"_runName"],[86,101,104,14],[86,103,105,6],[87,8,106,6],[87,12,106,12,"invocationParams"],[87,28,106,28],[87,31,106,31],[87,35,106,31,"getInvocationParams"],[87,43,106,50],[87,44,106,50,"getInvocationParams"],[87,63,106,50],[87,65,106,51,"tags"],[87,69,106,55],[87,70,106,56],[88,8,107,6],[88,12,107,12,"attributes"],[88,22,107,22],[88,25,107,25],[88,29,107,25,"extractChatModelRequestAttributes"],[88,37,107,58],[88,38,107,58,"extractChatModelRequestAttributes"],[88,71,107,58],[88,73,108,8,"llm"],[88,76,108,11],[88,78,109,8,"messages"],[88,86,109,16],[88,88,110,8,"recordInputs"],[88,100,110,20],[88,102,111,8,"invocationParams"],[88,118,111,24],[88,120,112,8,"metadata"],[88,128,113,6],[88,129,113,7],[89,8,114,6],[89,12,114,12,"modelName"],[89,21,114,21],[89,24,114,24,"attributes"],[89,34,114,34],[89,35,114,35,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[89,55,114,65],[89,56,114,65,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[89,86,114,65],[89,87,114,66],[90,8,115,6],[90,12,115,12,"operationName"],[90,25,115,25],[90,28,115,28,"attributes"],[90,38,115,38],[90,39,115,39,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[90,59,115,70],[90,60,115,70,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[90,91,115,70],[90,92,115,71],[91,8,117,6],[91,12,117,6,"startSpanManual"],[91,20,117,21],[91,21,117,21,"startSpanManual"],[91,36,117,21],[91,38,118,8],[92,10,119,10,"name"],[92,14,119,14],[92,16,119,16],[92,19,119,19,"operationName"],[92,32,119,32],[92,36,119,36,"modelName"],[92,45,119,45],[92,47,119,47],[93,10,120,10,"op"],[93,12,120,12],[93,14,120,14],[93,27,120,27],[94,10,121,10,"attributes"],[94,20,121,20],[94,22,121,22],[95,12,122,12],[95,15,122,15,"attributes"],[95,25,122,25],[96,12,123,12],[96,13,123,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[96,34,123,41],[96,35,123,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[96,63,123,41],[96,66,123,44],[97,10,124,10],[98,8,125,8],[98,9,125,9],[98,11,126,8,"span"],[98,15,126,12],[98,19,126,16],[99,10,127,10,"spanMap"],[99,17,127,17],[99,18,127,18,"set"],[99,21,127,21],[99,22,127,22,"runId"],[99,27,127,27],[99,29,127,29,"span"],[99,33,127,33],[99,34,127,34],[100,10,128,10],[100,17,128,17,"span"],[100,21,128,21],[101,8,129,8],[101,9,130,6],[101,10,130,7],[102,6,131,4],[102,7,131,5],[103,6,133,4],[104,6,134,4,"handleLLMEnd"],[104,18,134,16,"handleLLMEnd"],[104,19,135,6,"output"],[104,25,135,12],[104,27,136,6,"runId"],[104,32,136,11],[104,34,137,6,"_parentRunId"],[104,46,137,18],[104,48,138,6,"_tags"],[104,53,138,11],[104,55,139,6,"_extraParams"],[104,67,139,18],[104,69,140,6],[105,8,141,6],[105,12,141,12,"span"],[105,16,141,16],[105,19,141,19,"spanMap"],[105,26,141,26],[105,27,141,27,"get"],[105,30,141,30],[105,31,141,31,"runId"],[105,36,141,36],[105,37,141,37],[106,8,142,6],[106,12,142,10,"span"],[106,16,142,14],[106,18,142,16,"isRecording"],[106,29,142,27],[106,30,142,28],[106,31,142,29],[106,33,142,31],[107,10,143,8],[107,14,143,14,"attributes"],[107,24,143,24],[107,27,143,27],[107,31,143,27,"extractLlmResponseAttributes"],[107,39,143,55],[107,40,143,55,"extractLlmResponseAttributes"],[107,68,143,55],[107,70,143,56,"output"],[107,76,143,62],[107,78,143,65,"recordOutputs"],[107,91,143,78],[107,92,143,79],[108,10,144,8],[108,14,144,12,"attributes"],[108,24,144,22],[108,26,144,24],[109,12,145,10,"span"],[109,16,145,14],[109,17,145,15,"setAttributes"],[109,30,145,28],[109,31,145,29,"attributes"],[109,41,145,39],[109,42,145,40],[110,10,146,8],[111,10,147,8,"exitSpan"],[111,18,147,16],[111,19,147,17,"runId"],[111,24,147,22],[111,25,147,23],[112,8,148,6],[113,6,149,4],[113,7,149,5],[114,6,151,4],[115,6,152,4,"handleLLMError"],[115,20,152,18,"handleLLMError"],[115,21,152,19,"error"],[115,26,152,24],[115,28,152,26,"runId"],[115,33,152,31],[115,35,152,33],[116,8,153,6],[116,12,153,12,"span"],[116,16,153,16],[116,19,153,19,"spanMap"],[116,26,153,26],[116,27,153,27,"get"],[116,30,153,30],[116,31,153,31,"runId"],[116,36,153,36],[116,37,153,37],[117,8,154,6],[117,12,154,10,"span"],[117,16,154,14],[117,18,154,16,"isRecording"],[117,29,154,27],[117,30,154,28],[117,31,154,29],[117,33,154,31],[118,10,155,8,"span"],[118,14,155,12],[118,15,155,13,"setStatus"],[118,24,155,22],[118,25,155,23],[119,12,155,25,"code"],[119,16,155,29],[119,18,155,31,"SPAN_STATUS_ERROR"],[119,31,155,48],[119,32,155,48,"SPAN_STATUS_ERROR"],[119,49,155,48],[120,12,155,50,"message"],[120,19,155,57],[120,21,155,59],[121,10,155,71],[121,11,155,72],[121,12,155,73],[122,10,156,8,"exitSpan"],[122,18,156,16],[122,19,156,17,"runId"],[122,24,156,22],[122,25,156,23],[123,8,157,6],[124,8,159,6],[124,12,159,6,"captureException"],[124,22,159,22],[124,23,159,22,"captureException"],[124,39,159,22],[124,41,159,23,"error"],[124,46,159,28],[124,48,159,30],[125,10,160,8,"mechanism"],[125,19,160,17],[125,21,160,19],[126,12,161,10,"handled"],[126,19,161,17],[126,21,161,19],[126,26,161,24],[127,12,162,10,"type"],[127,16,162,14],[127,18,162,16],[127,21,162,19,"LANGCHAIN_ORIGIN"],[127,33,162,35],[127,34,162,35,"LANGCHAIN_ORIGIN"],[127,50,162,35],[128,10,163,8],[129,8,164,6],[129,9,164,7],[129,10,164,8],[130,6,165,4],[130,7,165,5],[131,6,167,4],[132,6,168,4,"handleChainStart"],[132,22,168,20,"handleChainStart"],[132,23,168,21,"chain"],[132,28,168,26],[132,30,168,28,"inputs"],[132,36,168,34],[132,38,168,36,"runId"],[132,43,168,41],[132,45,168,43,"_parentRunId"],[132,57,168,55],[132,59,168,57],[133,8,169,6],[133,12,169,12,"chainName"],[133,21,169,21],[133,24,169,24,"chain"],[133,29,169,29],[133,30,169,30,"name"],[133,34,169,34],[133,38,169,38],[133,53,169,53],[134,8,170,6],[134,12,170,12,"attributes"],[134,22,170,22],[134,25,170,25],[135,10,171,8],[135,11,171,9,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[135,32,171,41],[135,33,171,41,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[135,65,171,41],[135,68,171,44],[135,87,171,63],[136,10,172,8],[136,32,172,30],[136,34,172,32,"chainName"],[137,8,173,6],[137,9,173,7],[139,8,175,6],[140,8,176,6],[140,12,176,10,"recordInputs"],[140,24,176,22],[140,26,176,24],[141,10,177,8,"attributes"],[141,20,177,18],[141,21,177,19],[141,45,177,43],[141,46,177,44],[141,49,177,47,"JSON"],[141,53,177,51],[141,54,177,52,"stringify"],[141,63,177,61],[141,64,177,62,"inputs"],[141,70,177,68],[141,71,177,69],[142,8,178,6],[143,8,180,6],[143,12,180,6,"startSpanManual"],[143,20,180,21],[143,21,180,21,"startSpanManual"],[143,36,180,21],[143,38,181,8],[144,10,182,10,"name"],[144,14,182,14],[144,16,182,16],[144,25,182,25,"chainName"],[144,34,182,34],[144,36,182,36],[145,10,183,10,"op"],[145,12,183,12],[145,14,183,14],[145,35,183,35],[146,10,184,10,"attributes"],[146,20,184,20],[146,22,184,22],[147,12,185,12],[147,15,185,15,"attributes"],[147,25,185,25],[148,12,186,12],[148,13,186,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[148,34,186,41],[148,35,186,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[148,63,186,41],[148,66,186,44],[149,10,187,10],[150,8,188,8],[150,9,188,9],[150,11,189,8,"span"],[150,15,189,12],[150,19,189,16],[151,10,190,10,"spanMap"],[151,17,190,17],[151,18,190,18,"set"],[151,21,190,21],[151,22,190,22,"runId"],[151,27,190,27],[151,29,190,29,"span"],[151,33,190,33],[151,34,190,34],[152,10,191,10],[152,17,191,17,"span"],[152,21,191,21],[153,8,192,8],[153,9,193,6],[153,10,193,7],[154,6,194,4],[154,7,194,5],[155,6,196,4],[156,6,197,4,"handleChainEnd"],[156,20,197,18,"handleChainEnd"],[156,21,197,19,"outputs"],[156,28,197,26],[156,30,197,28,"runId"],[156,35,197,33],[156,37,197,35],[157,8,198,6],[157,12,198,12,"span"],[157,16,198,16],[157,19,198,19,"spanMap"],[157,26,198,26],[157,27,198,27,"get"],[157,30,198,30],[157,31,198,31,"runId"],[157,36,198,36],[157,37,198,37],[158,8,199,6],[158,12,199,10,"span"],[158,16,199,14],[158,18,199,16,"isRecording"],[158,29,199,27],[158,30,199,28],[158,31,199,29],[158,33,199,31],[159,10,200,8],[160,10,201,8],[160,14,201,12,"recordOutputs"],[160,27,201,25],[160,29,201,27],[161,12,202,10,"span"],[161,16,202,14],[161,17,202,15,"setAttributes"],[161,30,202,28],[161,31,202,29],[162,14,203,12],[162,39,203,37],[162,41,203,39,"JSON"],[162,45,203,43],[162,46,203,44,"stringify"],[162,55,203,53],[162,56,203,54,"outputs"],[162,63,203,61],[163,12,204,10],[163,13,204,11],[163,14,204,12],[164,10,205,8],[165,10,206,8,"exitSpan"],[165,18,206,16],[165,19,206,17,"runId"],[165,24,206,22],[165,25,206,23],[166,8,207,6],[167,6,208,4],[167,7,208,5],[168,6,210,4],[169,6,211,4,"handleChainError"],[169,22,211,20,"handleChainError"],[169,23,211,21,"error"],[169,28,211,26],[169,30,211,28,"runId"],[169,35,211,33],[169,37,211,35],[170,8,212,6],[170,12,212,12,"span"],[170,16,212,16],[170,19,212,19,"spanMap"],[170,26,212,26],[170,27,212,27,"get"],[170,30,212,30],[170,31,212,31,"runId"],[170,36,212,36],[170,37,212,37],[171,8,213,6],[171,12,213,10,"span"],[171,16,213,14],[171,18,213,16,"isRecording"],[171,29,213,27],[171,30,213,28],[171,31,213,29],[171,33,213,31],[172,10,214,8,"span"],[172,14,214,12],[172,15,214,13,"setStatus"],[172,24,214,22],[172,25,214,23],[173,12,214,25,"code"],[173,16,214,29],[173,18,214,31,"SPAN_STATUS_ERROR"],[173,31,214,48],[173,32,214,48,"SPAN_STATUS_ERROR"],[173,49,214,48],[174,12,214,50,"message"],[174,19,214,57],[174,21,214,59],[175,10,214,73],[175,11,214,74],[175,12,214,75],[176,10,215,8,"exitSpan"],[176,18,215,16],[176,19,215,17,"runId"],[176,24,215,22],[176,25,215,23],[177,8,216,6],[178,8,218,6],[178,12,218,6,"captureException"],[178,22,218,22],[178,23,218,22,"captureException"],[178,39,218,22],[178,41,218,23,"error"],[178,46,218,28],[178,48,218,30],[179,10,219,8,"mechanism"],[179,19,219,17],[179,21,219,19],[180,12,220,10,"handled"],[180,19,220,17],[180,21,220,19],[180,26,220,24],[181,12,221,10,"type"],[181,16,221,14],[181,18,221,16],[181,21,221,19,"LANGCHAIN_ORIGIN"],[181,33,221,35],[181,34,221,35,"LANGCHAIN_ORIGIN"],[181,50,221,35],[182,10,222,8],[183,8,223,6],[183,9,223,7],[183,10,223,8],[184,6,224,4],[184,7,224,5],[185,6,226,4],[186,6,227,4,"handleToolStart"],[186,21,227,19,"handleToolStart"],[186,22,227,20,"tool"],[186,26,227,24],[186,28,227,26,"input"],[186,33,227,31],[186,35,227,33,"runId"],[186,40,227,38],[186,42,227,40,"_parentRunId"],[186,54,227,52],[186,56,227,54],[187,8,228,6],[187,12,228,12,"toolName"],[187,20,228,20],[187,23,228,23,"tool"],[187,27,228,27],[187,28,228,28,"name"],[187,32,228,32],[187,36,228,36],[187,50,228,50],[188,8,229,6],[188,12,229,12,"attributes"],[188,22,229,22],[188,25,229,25],[189,10,230,8],[189,11,230,9,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[189,32,230,41],[189,33,230,41,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[189,65,230,41],[189,68,230,44,"LANGCHAIN_ORIGIN"],[189,80,230,60],[189,81,230,60,"LANGCHAIN_ORIGIN"],[189,97,230,60],[190,10,231,8],[190,28,231,26],[190,30,231,28,"toolName"],[191,8,232,6],[191,9,232,7],[193,8,234,6],[194,8,235,6],[194,12,235,10,"recordInputs"],[194,24,235,22],[194,26,235,24],[195,10,236,8,"attributes"],[195,20,236,18],[195,21,236,19],[195,40,236,38],[195,41,236,39],[195,44,236,42,"input"],[195,49,236,47],[196,8,237,6],[197,8,239,6],[197,12,239,6,"startSpanManual"],[197,20,239,21],[197,21,239,21,"startSpanManual"],[197,36,239,21],[197,38,240,8],[198,10,241,10,"name"],[198,14,241,14],[198,16,241,16],[198,32,241,32,"toolName"],[198,40,241,40],[198,42,241,42],[199,10,242,10,"op"],[199,12,242,12],[199,14,242,14],[199,35,242,35],[200,10,243,10,"attributes"],[200,20,243,20],[200,22,243,22],[201,12,244,12],[201,15,244,15,"attributes"],[201,25,244,25],[202,12,245,12],[202,13,245,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[202,34,245,41],[202,35,245,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[202,63,245,41],[202,66,245,44],[203,10,246,10],[204,8,247,8],[204,9,247,9],[204,11,248,8,"span"],[204,15,248,12],[204,19,248,16],[205,10,249,10,"spanMap"],[205,17,249,17],[205,18,249,18,"set"],[205,21,249,21],[205,22,249,22,"runId"],[205,27,249,27],[205,29,249,29,"span"],[205,33,249,33],[205,34,249,34],[206,10,250,10],[206,17,250,17,"span"],[206,21,250,21],[207,8,251,8],[207,9,252,6],[207,10,252,7],[208,6,253,4],[208,7,253,5],[209,6,255,4],[210,6,256,4,"handleToolEnd"],[210,19,256,17,"handleToolEnd"],[210,20,256,18,"output"],[210,26,256,24],[210,28,256,26,"runId"],[210,33,256,31],[210,35,256,33],[211,8,257,6],[211,12,257,12,"span"],[211,16,257,16],[211,19,257,19,"spanMap"],[211,26,257,26],[211,27,257,27,"get"],[211,30,257,30],[211,31,257,31,"runId"],[211,36,257,36],[211,37,257,37],[212,8,258,6],[212,12,258,10,"span"],[212,16,258,14],[212,18,258,16,"isRecording"],[212,29,258,27],[212,30,258,28],[212,31,258,29],[212,33,258,31],[213,10,259,8],[214,10,260,8],[214,14,260,12,"recordOutputs"],[214,27,260,25],[214,29,260,27],[215,12,261,10,"span"],[215,16,261,14],[215,17,261,15,"setAttributes"],[215,30,261,28],[215,31,261,29],[216,14,262,12],[216,34,262,32],[216,36,262,34,"JSON"],[216,40,262,38],[216,41,262,39,"stringify"],[216,50,262,48],[216,51,262,49,"output"],[216,57,262,55],[217,12,263,10],[217,13,263,11],[217,14,263,12],[218,10,264,8],[219,10,265,8,"exitSpan"],[219,18,265,16],[219,19,265,17,"runId"],[219,24,265,22],[219,25,265,23],[220,8,266,6],[221,6,267,4],[221,7,267,5],[222,6,269,4],[223,6,270,4,"handleToolError"],[223,21,270,19,"handleToolError"],[223,22,270,20,"error"],[223,27,270,25],[223,29,270,27,"runId"],[223,34,270,32],[223,36,270,34],[224,8,271,6],[224,12,271,12,"span"],[224,16,271,16],[224,19,271,19,"spanMap"],[224,26,271,26],[224,27,271,27,"get"],[224,30,271,30],[224,31,271,31,"runId"],[224,36,271,36],[224,37,271,37],[225,8,272,6],[225,12,272,10,"span"],[225,16,272,14],[225,18,272,16,"isRecording"],[225,29,272,27],[225,30,272,28],[225,31,272,29],[225,33,272,31],[226,10,273,8,"span"],[226,14,273,12],[226,15,273,13,"setStatus"],[226,24,273,22],[226,25,273,23],[227,12,273,25,"code"],[227,16,273,29],[227,18,273,31,"SPAN_STATUS_ERROR"],[227,31,273,48],[227,32,273,48,"SPAN_STATUS_ERROR"],[227,49,273,48],[228,12,273,50,"message"],[228,19,273,57],[228,21,273,59],[229,10,273,72],[229,11,273,73],[229,12,273,74],[230,10,274,8,"exitSpan"],[230,18,274,16],[230,19,274,17,"runId"],[230,24,274,22],[230,25,274,23],[231,8,275,6],[232,8,277,6],[232,12,277,6,"captureException"],[232,22,277,22],[232,23,277,22,"captureException"],[232,39,277,22],[232,41,277,23,"error"],[232,46,277,28],[232,48,277,30],[233,10,278,8,"mechanism"],[233,19,278,17],[233,21,278,19],[234,12,279,10,"handled"],[234,19,279,17],[234,21,279,19],[234,26,279,24],[235,12,280,10,"type"],[235,16,280,14],[235,18,280,16],[235,21,280,19,"LANGCHAIN_ORIGIN"],[235,33,280,35],[235,34,280,35,"LANGCHAIN_ORIGIN"],[235,50,280,35],[236,10,281,8],[237,8,282,6],[237,9,282,7],[237,10,282,8],[238,6,283,4],[238,7,283,5],[239,6,285,4],[240,6,286,4,"copy"],[240,10,286,8,"copy"],[240,11,286,8],[240,13,286,11],[241,8,287,6],[241,15,287,13,"handler"],[241,22,287,20],[242,6,288,4],[242,7,288,5],[243,6,290,4,"toJSON"],[243,12,290,10,"toJSON"],[243,13,290,10],[243,15,290,13],[244,8,291,6],[244,15,291,13],[245,10,292,8,"lc"],[245,12,292,10],[245,14,292,12],[245,15,292,13],[246,10,293,8,"type"],[246,14,293,12],[246,16,293,14],[246,33,293,31],[247,10,294,8,"id"],[247,12,294,10],[247,14,294,12,"handler"],[247,21,294,19],[247,22,294,20,"lc_id"],[248,8,295,6],[248,9,295,7],[249,6,296,4],[249,7,296,5],[250,6,298,4,"toJSONNotImplemented"],[250,26,298,24,"toJSONNotImplemented"],[250,27,298,24],[250,29,298,27],[251,8,299,6],[251,15,299,13],[252,10,300,8,"lc"],[252,12,300,10],[252,14,300,12],[252,15,300,13],[253,10,301,8,"type"],[253,14,301,12],[253,16,301,14],[253,33,301,31],[254,10,302,8,"id"],[254,12,302,10],[254,14,302,12,"handler"],[254,21,302,19],[254,22,302,20,"lc_id"],[255,8,303,6],[255,9,303,7],[256,6,304,4],[257,4,305,2],[257,5,305,3],[258,4,307,2],[258,11,307,9,"handler"],[258,18,307,16],[259,2,308,0],[260,0,308,1],[260,3]],"functionMap":{"names":["<global>","createLangChainCallbackHandler","exitSpan","handler.handleLLMStart","startSpanManual$argument_1","handler.handleChatModelStart","handler.handleLLMEnd","handler.handleLLMError","handler.handleChainStart","handler.handleChainEnd","handler.handleChainError","handler.handleToolStart","handler.handleToolEnd","handler.handleToolError","handler.copy","handler.toJSON","handler.toJSONNotImplemented"],"mappings":"AAA;ACc;mBCU;GDM;IE2B;QC8B;SDG;KFE;IIG;QD8B;SCG;KJE;IKG;KLe;IMG;KNa;IOG;QJqB;SIG;KPE;IQG;KRW;ISG;KTa;IUG;QPqB;SOG;KVE;IWG;KXW;IYG;KZa;IaG;KbE;IcE;KdM;IeE;KfM;CDI"},"hasCjsExports":false},"type":"js/module"}]}