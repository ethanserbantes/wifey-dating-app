{"dependencies":[{"name":"../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"4IMzW1L9FGOQbFYVibN4P3pVG0E=","exportNames":["*"],"imports":1}},{"name":"../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":54,"index":103}}],"key":"B8aKvpmafw58aWtupuC7GWTMiwo=","exportNames":["*"],"imports":1}},{"name":"../utils/object.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":57,"index":161}}],"key":"C8yMer+b+EwEB0LLb8KqXgEktYc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"functionToStringIntegration\", {\n    enumerable: true,\n    get: function () {\n      return functionToStringIntegration;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0]);\n  var _integrationJs = require(_dependencyMap[1]);\n  var _utilsObjectJs = require(_dependencyMap[2]);\n  var originalFunctionToString;\n  var INTEGRATION_NAME = 'FunctionToString';\n  var SETUP_CLIENTS = new WeakMap();\n  var _functionToStringIntegration = () => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce() {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        originalFunctionToString = Function.prototype.toString;\n\n        // intrinsics (like Function.prototype) might be immutable in some environments\n        // e.g. Node with --frozen-intrinsics, XS (an embedded JavaScript engine) or SES (a JavaScript proposal)\n        try {\n          Function.prototype.toString = function () {\n            var originalFunction = (0, _utilsObjectJs.getOriginalFunction)(this);\n            var context = SETUP_CLIENTS.has((0, _currentScopesJs.getClient)()) && originalFunction !== undefined ? originalFunction : this;\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return originalFunctionToString.apply(context, args);\n          };\n        } catch {\n          // ignore errors here, just don't patch this\n        }\n      },\n      setup(client) {\n        SETUP_CLIENTS.set(client, true);\n      }\n    };\n  };\n\n  /**\n   * Patch toString calls to return proper name for wrapped functions.\n   *\n   * ```js\n   * Sentry.init({\n   *   integrations: [\n   *     functionToStringIntegration(),\n   *   ],\n   * });\n   * ```\n   */\n  var functionToStringIntegration = (0, _integrationJs.defineIntegration)(_functionToStringIntegration);\n});","lineCount":59,"map":[[7,2,50,0,"Object"],[7,8,50,0],[7,9,50,0,"defineProperty"],[7,23,50,0],[7,24,50,0,"exports"],[7,31,50,0],[8,4,50,0,"enumerable"],[8,14,50,0],[9,4,50,0,"get"],[9,7,50,0],[9,18,50,0,"get"],[9,19,50,0],[10,6,50,0],[10,13,50,9,"functionToStringIntegration"],[10,40,50,36],[11,4,50,36],[12,2,50,36],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_integrationJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_utilsObjectJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,5,0],[16,6,5,4,"originalFunctionToString"],[16,30,5,28],[17,2,7,0],[17,6,7,6,"INTEGRATION_NAME"],[17,22,7,22],[17,25,7,25],[17,43,7,43],[18,2,9,0],[18,6,9,6,"SETUP_CLIENTS"],[18,19,9,19],[18,22,9,22],[18,26,9,26,"WeakMap"],[18,33,9,33],[18,34,9,34],[18,35,9,35],[19,2,11,0],[19,6,11,6,"_functionToStringIntegration"],[19,34,11,34],[19,37,11,38,"_functionToStringIntegration"],[19,38,11,38],[19,43,11,44],[20,4,12,2],[20,11,12,9],[21,6,13,4,"name"],[21,10,13,8],[21,12,13,10,"INTEGRATION_NAME"],[21,28,13,26],[22,6,14,4,"setupOnce"],[22,15,14,13,"setupOnce"],[22,16,14,13],[22,18,14,16],[23,8,15,6],[24,8,16,6,"originalFunctionToString"],[24,32,16,30],[24,35,16,33,"Function"],[24,43,16,41],[24,44,16,42,"prototype"],[24,53,16,51],[24,54,16,52,"toString"],[24,62,16,60],[26,8,18,6],[27,8,19,6],[28,8,20,6],[28,12,20,10],[29,10,21,8,"Function"],[29,18,21,16],[29,19,21,17,"prototype"],[29,28,21,26],[29,29,21,27,"toString"],[29,37,21,35],[29,40,21,38],[29,52,21,58],[30,12,22,10],[30,16,22,16,"originalFunction"],[30,32,22,32],[30,35,22,35],[30,39,22,35,"getOriginalFunction"],[30,53,22,54],[30,54,22,54,"getOriginalFunction"],[30,73,22,54],[30,75,22,55],[30,79,22,59],[30,80,22,60],[31,12,23,10],[31,16,23,16,"context"],[31,23,23,23],[31,26,24,12,"SETUP_CLIENTS"],[31,39,24,25],[31,40,24,26,"has"],[31,43,24,29],[31,44,24,30],[31,48,24,30,"getClient"],[31,64,24,39],[31,65,24,39,"getClient"],[31,74,24,39],[31,76,24,40],[31,77,24,42],[31,78,24,43],[31,82,24,47,"originalFunction"],[31,98,24,63],[31,103,24,68,"undefined"],[31,112,24,77],[31,115,24,80,"originalFunction"],[31,131,24,96],[31,134,24,99],[31,138,24,103],[32,12,24,104],[32,21,24,104,"_len"],[32,25,24,104],[32,28,24,104,"arguments"],[32,37,24,104],[32,38,24,104,"length"],[32,44,24,104],[32,46,21,52,"args"],[32,50,21,56],[32,57,21,56,"Array"],[32,62,21,56],[32,63,21,56,"_len"],[32,67,21,56],[32,70,21,56,"_key"],[32,74,21,56],[32,80,21,56,"_key"],[32,84,21,56],[32,87,21,56,"_len"],[32,91,21,56],[32,93,21,56,"_key"],[32,97,21,56],[33,14,21,52,"args"],[33,18,21,56],[33,19,21,56,"_key"],[33,23,21,56],[33,27,21,56,"arguments"],[33,36,21,56],[33,37,21,56,"_key"],[33,41,21,56],[34,12,21,56],[35,12,25,10],[35,19,25,17,"originalFunctionToString"],[35,43,25,41],[35,44,25,42,"apply"],[35,49,25,47],[35,50,25,48,"context"],[35,57,25,55],[35,59,25,57,"args"],[35,63,25,61],[35,64,25,62],[36,10,26,8],[36,11,26,9],[37,8,27,6],[37,9,27,7],[37,10,27,8],[37,16,27,14],[38,10,28,8],[39,8,28,8],[40,6,30,4],[40,7,30,5],[41,6,31,4,"setup"],[41,11,31,9,"setup"],[41,12,31,10,"client"],[41,18,31,16],[41,20,31,18],[42,8,32,6,"SETUP_CLIENTS"],[42,21,32,19],[42,22,32,20,"set"],[42,25,32,23],[42,26,32,24,"client"],[42,32,32,30],[42,34,32,32],[42,38,32,36],[42,39,32,37],[43,6,33,4],[44,4,34,2],[44,5,34,3],[45,2,35,0],[45,3,35,2],[47,2,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,2,48,0],[58,6,48,6,"functionToStringIntegration"],[58,33,48,33],[58,36,48,36],[58,40,48,36,"defineIntegration"],[58,54,48,53],[58,55,48,53,"defineIntegration"],[58,72,48,53],[58,74,48,54,"_functionToStringIntegration"],[58,102,48,82],[58,103,48,83],[59,0,48,84],[59,3]],"functionMap":{"names":["<global>","_functionToStringIntegration","setupOnce","Function.prototype.toString","setup"],"mappings":"AAA;sCCU;ICG;sCCO;SDK;KDI;IGC;KHE;CDE"},"hasCjsExports":false},"type":"js/module"}]}