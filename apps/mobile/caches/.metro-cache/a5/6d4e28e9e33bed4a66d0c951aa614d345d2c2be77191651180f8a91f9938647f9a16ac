{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"wyofRZtYR2H2+OElRwz4anlbKJw=","exportNames":["*"],"imports":1}},{"name":"../../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":52,"index":104}}],"key":"EZPmsHt7bn9JJ4Y0grXw/CrOow0=","exportNames":["*"],"imports":1}},{"name":"../../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":105},"end":{"line":3,"column":79,"index":184}}],"key":"Nj05aHw7DkcWLBmtaT73GikC0NY=","exportNames":["*"],"imports":1}},{"name":"../spanstatus.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":185},"end":{"line":4,"column":53,"index":238}}],"key":"oo3PNTzeCFGehsy4DLcuUh8qvTg=","exportNames":["*"],"imports":1}},{"name":"../trace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":239},"end":{"line":5,"column":57,"index":296}}],"key":"s7B8neP9S1JcGnLMVRoTknJTEMM=","exportNames":["*"],"imports":1}},{"name":"../../utils/handleCallbackErrors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":297},"end":{"line":6,"column":75,"index":372}}],"key":"nN9FmI0QAAiX8FDAfPlrx+3Z2F4=","exportNames":["*"],"imports":1}},{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":373},"end":{"line":7,"column":628,"index":1001}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"../ai/utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":1002},"end":{"line":8,"column":139,"index":1141}}],"key":"4ap/A8nGTkT0jtbnAG1G9kFBsuw=","exportNames":["*"],"imports":1}},{"name":"./streaming.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":1142},"end":{"line":9,"column":88,"index":1230}}],"key":"DIl7BKZnjKPmGc4usp/qRst2QPQ=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":1231},"end":{"line":10,"column":87,"index":1318}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"instrumentAnthropicAiClient\", {\n    enumerable: true,\n    get: function () {\n      return instrumentAnthropicAiClient;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _currentScopesJs = require(_dependencyMap[1], \"../../currentScopes.js\");\n  var _exportsJs = require(_dependencyMap[2], \"../../exports.js\");\n  var _semanticAttributesJs = require(_dependencyMap[3], \"../../semanticAttributes.js\");\n  var _spanstatusJs = require(_dependencyMap[4], \"../spanstatus.js\");\n  var _traceJs = require(_dependencyMap[5], \"../trace.js\");\n  var _utilsHandleCallbackErrorsJs = require(_dependencyMap[6], \"../../utils/handleCallbackErrors.js\");\n  var _aiGenAiAttributesJs = require(_dependencyMap[7], \"../ai/gen-ai-attributes.js\");\n  var _aiUtilsJs = require(_dependencyMap[8], \"../ai/utils.js\");\n  var _streamingJs = require(_dependencyMap[9], \"./streaming.js\");\n  var _utilsJs = require(_dependencyMap[10], \"./utils.js\");\n  /**\n   * Extract request attributes from method arguments\n   */\n  function extractRequestAttributes(args, methodPath) {\n    var attributes = {\n      [_aiGenAiAttributesJs.GEN_AI_SYSTEM_ATTRIBUTE]: 'anthropic',\n      [_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE]: (0, _aiUtilsJs.getFinalOperationName)(methodPath),\n      [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.ai.anthropic'\n    };\n    if (args.length > 0 && typeof args[0] === 'object' && args[0] !== null) {\n      var params = args[0];\n      if (params.tools && Array.isArray(params.tools)) {\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE] = JSON.stringify(params.tools);\n      }\n      attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = params.model ?? 'unknown';\n      if ('temperature' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE] = params.temperature;\n      if ('top_p' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TOP_P_ATTRIBUTE] = params.top_p;\n      if ('stream' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_STREAM_ATTRIBUTE] = params.stream;\n      if ('top_k' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TOP_K_ATTRIBUTE] = params.top_k;\n      if ('frequency_penalty' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE] = params.frequency_penalty;\n      if ('max_tokens' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE] = params.max_tokens;\n    } else {\n      if (methodPath === 'models.retrieve' || methodPath === 'models.get') {\n        // models.retrieve(model-id) and models.get(model-id)\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = args[0];\n      } else {\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = 'unknown';\n      }\n    }\n    return attributes;\n  }\n\n  /**\n   * Add private request attributes to spans.\n   * This is only recorded if recordInputs is true.\n   */\n  function addPrivateRequestAttributes(span, params) {\n    var messages = (0, _utilsJs.messagesFromParams)(params);\n    if (messages.length) {\n      var truncatedMessages = (0, _aiUtilsJs.getTruncatedJsonString)(messages);\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: truncatedMessages\n      });\n    }\n    if ('input' in params) {\n      var truncatedInput = (0, _aiUtilsJs.getTruncatedJsonString)(params.input);\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: truncatedInput\n      });\n    }\n    if ('prompt' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_PROMPT_ATTRIBUTE]: JSON.stringify(params.prompt)\n      });\n    }\n  }\n\n  /**\n   * Add content attributes when recordOutputs is enabled\n   */\n  function addContentAttributes(span, response) {\n    // Messages.create\n    if ('content' in response) {\n      if (Array.isArray(response.content)) {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: response.content.map(item => item.text).filter(text => !!text).join('')\n        });\n        var toolCalls = [];\n        for (var item of response.content) {\n          if (item.type === 'tool_use' || item.type === 'server_tool_use') {\n            toolCalls.push(item);\n          }\n        }\n        if (toolCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(toolCalls)\n          });\n        }\n      }\n    }\n    // Completions.create\n    if ('completion' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: response.completion\n      });\n    }\n    // Models.countTokens\n    if ('input_tokens' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: JSON.stringify(response.input_tokens)\n      });\n    }\n  }\n\n  /**\n   * Add basic metadata attributes from the response\n   */\n  function addMetadataAttributes(span, response) {\n    if ('id' in response && 'model' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_ID_ATTRIBUTE]: response.id,\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]: response.model\n      });\n      if ('created' in response && typeof response.created === 'number') {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]: new Date(response.created * 1000).toISOString()\n        });\n      }\n      if ('created_at' in response && typeof response.created_at === 'number') {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]: new Date(response.created_at * 1000).toISOString()\n        });\n      }\n      if ('usage' in response && response.usage) {\n        (0, _aiUtilsJs.setTokenUsageAttributes)(span, response.usage.input_tokens, response.usage.output_tokens, response.usage.cache_creation_input_tokens, response.usage.cache_read_input_tokens);\n      }\n    }\n  }\n\n  /**\n   * Add response attributes to spans\n   */\n  function addResponseAttributes(span, response, recordOutputs) {\n    if (!response || typeof response !== 'object') return;\n\n    // capture error, do not add attributes if error (they shouldn't exist)\n    if ('type' in response && response.type === 'error') {\n      (0, _utilsJs.handleResponseError)(span, response);\n      return;\n    }\n\n    // Private response attributes that are only recorded if recordOutputs is true.\n    if (recordOutputs) {\n      addContentAttributes(span, response);\n    }\n\n    // Add basic metadata attributes\n    addMetadataAttributes(span, response);\n  }\n\n  /**\n   * Handle common error catching and reporting for streaming requests\n   */\n  function handleStreamingError(error, span, methodPath) {\n    (0, _exportsJs.captureException)(error, {\n      mechanism: {\n        handled: false,\n        type: 'auto.ai.anthropic',\n        data: {\n          function: methodPath\n        }\n      }\n    });\n    if (span.isRecording()) {\n      span.setStatus({\n        code: _spanstatusJs.SPAN_STATUS_ERROR,\n        message: 'internal_error'\n      });\n      span.end();\n    }\n    throw error;\n  }\n\n  /**\n   * Handle streaming cases with common logic\n   */\n  function handleStreamingRequest(originalMethod, target, context, args, requestAttributes, operationName, methodPath, params, options, isStreamRequested, isStreamingMethod) {\n    var model = requestAttributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] ?? 'unknown';\n    var spanConfig = {\n      name: `${operationName} ${model} stream-response`,\n      op: (0, _aiUtilsJs.getSpanOperation)(methodPath),\n      attributes: requestAttributes\n    };\n\n    // messages.stream() always returns a sync MessageStream, even with stream: true param\n    if (isStreamRequested && !isStreamingMethod) {\n      return (0, _traceJs.startSpanManual)(spanConfig, /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* (span) {\n          try {\n            if (options.recordInputs && params) {\n              addPrivateRequestAttributes(span, params);\n            }\n            var result = yield originalMethod.apply(context, args);\n            return (0, _streamingJs.instrumentAsyncIterableStream)(result, span, options.recordOutputs ?? false);\n          } catch (error) {\n            return handleStreamingError(error, span, methodPath);\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } else {\n      return (0, _traceJs.startSpanManual)(spanConfig, span => {\n        try {\n          if (options.recordInputs && params) {\n            addPrivateRequestAttributes(span, params);\n          }\n          var messageStream = target.apply(context, args);\n          return (0, _streamingJs.instrumentMessageStream)(messageStream, span, options.recordOutputs ?? false);\n        } catch (error) {\n          return handleStreamingError(error, span, methodPath);\n        }\n      });\n    }\n  }\n\n  /**\n   * Instrument a method with Sentry spans\n   * Following Sentry AI Agents Manual Instrumentation conventions\n   * @see https://docs.sentry.io/platforms/javascript/guides/node/tracing/instrumentation/ai-agents-module/#manual-instrumentation\n   */\n  function instrumentMethod(originalMethod, methodPath, context, options) {\n    return new Proxy(originalMethod, {\n      apply(target, thisArg, args) {\n        var requestAttributes = extractRequestAttributes(args, methodPath);\n        var model = requestAttributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] ?? 'unknown';\n        var operationName = (0, _aiUtilsJs.getFinalOperationName)(methodPath);\n        var params = typeof args[0] === 'object' ? args[0] : undefined;\n        var isStreamRequested = Boolean(params?.stream);\n        var isStreamingMethod = methodPath === 'messages.stream';\n        if (isStreamRequested || isStreamingMethod) {\n          return handleStreamingRequest(originalMethod, target, context, args, requestAttributes, operationName, methodPath, params, options, isStreamRequested, isStreamingMethod);\n        }\n        return (0, _traceJs.startSpan)({\n          name: `${operationName} ${model}`,\n          op: (0, _aiUtilsJs.getSpanOperation)(methodPath),\n          attributes: requestAttributes\n        }, span => {\n          if (options.recordInputs && params) {\n            addPrivateRequestAttributes(span, params);\n          }\n          return (0, _utilsHandleCallbackErrorsJs.handleCallbackErrors)(() => target.apply(context, args), error => {\n            (0, _exportsJs.captureException)(error, {\n              mechanism: {\n                handled: false,\n                type: 'auto.ai.anthropic',\n                data: {\n                  function: methodPath\n                }\n              }\n            });\n          }, () => {}, result => addResponseAttributes(span, result, options.recordOutputs));\n        });\n      }\n    });\n  }\n\n  /**\n   * Create a deep proxy for Anthropic AI client instrumentation\n   */\n  function createDeepProxy(target) {\n    var currentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var options = arguments.length > 2 ? arguments[2] : undefined;\n    return new Proxy(target, {\n      get(obj, prop) {\n        var value = obj[prop];\n        var methodPath = (0, _aiUtilsJs.buildMethodPath)(currentPath, String(prop));\n        if (typeof value === 'function' && (0, _utilsJs.shouldInstrument)(methodPath)) {\n          return instrumentMethod(value, methodPath, obj, options);\n        }\n        if (typeof value === 'function') {\n          // Bind non-instrumented functions to preserve the original `this` context,\n          return value.bind(obj);\n        }\n        if (value && typeof value === 'object') {\n          return createDeepProxy(value, methodPath, options);\n        }\n        return value;\n      }\n    });\n  }\n\n  /**\n   * Instrument an Anthropic AI client with Sentry tracing\n   * Can be used across Node.js, Cloudflare Workers, and Vercel Edge\n   *\n   * @template T - The type of the client that extends object\n   * @param client - The Anthropic AI client to instrument\n   * @param options - Optional configuration for recording inputs and outputs\n   * @returns The instrumented client with the same type as the input\n   */\n  function instrumentAnthropicAiClient(anthropicAiClient, options) {\n    var sendDefaultPii = Boolean((0, _currentScopesJs.getClient)()?.getOptions().sendDefaultPii);\n    var _options = {\n      recordInputs: sendDefaultPii,\n      recordOutputs: sendDefaultPii,\n      ...options\n    };\n    return createDeepProxy(anthropicAiClient, '', _options);\n  }\n});","lineCount":321,"map":[[12,2,346,0,"Object"],[12,8,346,0],[12,9,346,0,"defineProperty"],[12,23,346,0],[12,24,346,0,"exports"],[12,31,346,0],[13,4,346,0,"enumerable"],[13,14,346,0],[14,4,346,0,"get"],[14,7,346,0],[14,18,346,0,"get"],[14,19,346,0],[15,6,346,0],[15,13,346,9,"instrumentAnthropicAiClient"],[15,40,346,36],[16,4,346,36],[17,2,346,36],[18,2,346,39],[18,6,346,39,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,346,39],[18,45,346,39,"require"],[18,52,346,39],[18,53,346,39,"_dependencyMap"],[18,67,346,39],[19,2,346,39],[19,6,346,39,"_asyncToGenerator"],[19,23,346,39],[19,26,346,39,"_interopDefault"],[19,41,346,39],[19,42,346,39,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,346,39],[20,2,1,0],[20,6,1,0,"_currentScopesJs"],[20,22,1,0],[20,25,1,0,"require"],[20,32,1,0],[20,33,1,0,"_dependencyMap"],[20,47,1,0],[21,2,2,0],[21,6,2,0,"_exportsJs"],[21,16,2,0],[21,19,2,0,"require"],[21,26,2,0],[21,27,2,0,"_dependencyMap"],[21,41,2,0],[22,2,3,0],[22,6,3,0,"_semanticAttributesJs"],[22,27,3,0],[22,30,3,0,"require"],[22,37,3,0],[22,38,3,0,"_dependencyMap"],[22,52,3,0],[23,2,4,0],[23,6,4,0,"_spanstatusJs"],[23,19,4,0],[23,22,4,0,"require"],[23,29,4,0],[23,30,4,0,"_dependencyMap"],[23,44,4,0],[24,2,5,0],[24,6,5,0,"_traceJs"],[24,14,5,0],[24,17,5,0,"require"],[24,24,5,0],[24,25,5,0,"_dependencyMap"],[24,39,5,0],[25,2,6,0],[25,6,6,0,"_utilsHandleCallbackErrorsJs"],[25,34,6,0],[25,37,6,0,"require"],[25,44,6,0],[25,45,6,0,"_dependencyMap"],[25,59,6,0],[26,2,7,0],[26,6,7,0,"_aiGenAiAttributesJs"],[26,26,7,0],[26,29,7,0,"require"],[26,36,7,0],[26,37,7,0,"_dependencyMap"],[26,51,7,0],[27,2,8,0],[27,6,8,0,"_aiUtilsJs"],[27,16,8,0],[27,19,8,0,"require"],[27,26,8,0],[27,27,8,0,"_dependencyMap"],[27,41,8,0],[28,2,9,0],[28,6,9,0,"_streamingJs"],[28,18,9,0],[28,21,9,0,"require"],[28,28,9,0],[28,29,9,0,"_dependencyMap"],[28,43,9,0],[29,2,10,0],[29,6,10,0,"_utilsJs"],[29,14,10,0],[29,17,10,0,"require"],[29,24,10,0],[29,25,10,0,"_dependencyMap"],[29,39,10,0],[30,2,12,0],[31,0,13,0],[32,0,14,0],[33,2,15,0],[33,11,15,9,"extractRequestAttributes"],[33,35,15,33,"extractRequestAttributes"],[33,36,15,34,"args"],[33,40,15,38],[33,42,15,40,"methodPath"],[33,52,15,50],[33,54,15,52],[34,4,16,2],[34,8,16,8,"attributes"],[34,18,16,18],[34,21,16,21],[35,6,17,4],[35,7,17,5,"GEN_AI_SYSTEM_ATTRIBUTE"],[35,27,17,28],[35,28,17,28,"GEN_AI_SYSTEM_ATTRIBUTE"],[35,51,17,28],[35,54,17,31],[35,65,17,42],[36,6,18,4],[36,7,18,5,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[36,27,18,36],[36,28,18,36,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[36,59,18,36],[36,62,18,39],[36,66,18,39,"getFinalOperationName"],[36,76,18,60],[36,77,18,60,"getFinalOperationName"],[36,98,18,60],[36,100,18,61,"methodPath"],[36,110,18,71],[36,111,18,72],[37,6,19,4],[37,7,19,5,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[37,28,19,37],[37,29,19,37,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[37,61,19,37],[37,64,19,40],[38,4,20,2],[38,5,20,3],[39,4,22,2],[39,8,22,6,"args"],[39,12,22,10],[39,13,22,11,"length"],[39,19,22,17],[39,22,22,20],[39,23,22,21],[39,27,22,25],[39,34,22,32,"args"],[39,38,22,36],[39,39,22,37],[39,40,22,38],[39,41,22,39],[39,46,22,44],[39,54,22,52],[39,58,22,56,"args"],[39,62,22,60],[39,63,22,61],[39,64,22,62],[39,65,22,63],[39,70,22,68],[39,74,22,72],[39,76,22,74],[40,6,23,4],[40,10,23,10,"params"],[40,16,23,16],[40,19,23,19,"args"],[40,23,23,23],[40,24,23,24],[40,25,23,25],[40,26,23,26],[41,6,24,4],[41,10,24,8,"params"],[41,16,24,14],[41,17,24,15,"tools"],[41,22,24,20],[41,26,24,24,"Array"],[41,31,24,29],[41,32,24,30,"isArray"],[41,39,24,37],[41,40,24,38,"params"],[41,46,24,44],[41,47,24,45,"tools"],[41,52,24,50],[41,53,24,51],[41,55,24,53],[42,8,25,6,"attributes"],[42,18,25,16],[42,19,25,17,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[42,39,25,57],[42,40,25,57,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[42,80,25,57],[42,81,25,58],[42,84,25,61,"JSON"],[42,88,25,65],[42,89,25,66,"stringify"],[42,98,25,75],[42,99,25,76,"params"],[42,105,25,82],[42,106,25,83,"tools"],[42,111,25,88],[42,112,25,89],[43,6,26,4],[44,6,28,4,"attributes"],[44,16,28,14],[44,17,28,15,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[44,37,28,45],[44,38,28,45,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[44,68,28,45],[44,69,28,46],[44,72,28,49,"params"],[44,78,28,55],[44,79,28,56,"model"],[44,84,28,61],[44,88,28,65],[44,97,28,74],[45,6,29,4],[45,10,29,8],[45,23,29,21],[45,27,29,25,"params"],[45,33,29,31],[45,35,29,33,"attributes"],[45,45,29,43],[45,46,29,44,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[45,66,29,80],[45,67,29,80,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[45,103,29,80],[45,104,29,81],[45,107,29,84,"params"],[45,113,29,90],[45,114,29,91,"temperature"],[45,125,29,102],[46,6,30,4],[46,10,30,8],[46,17,30,15],[46,21,30,19,"params"],[46,27,30,25],[46,29,30,27,"attributes"],[46,39,30,37],[46,40,30,38,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[46,60,30,68],[46,61,30,68,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[46,91,30,68],[46,92,30,69],[46,95,30,72,"params"],[46,101,30,78],[46,102,30,79,"top_p"],[46,107,30,84],[47,6,31,4],[47,10,31,8],[47,18,31,16],[47,22,31,20,"params"],[47,28,31,26],[47,30,31,28,"attributes"],[47,40,31,38],[47,41,31,39,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[47,61,31,70],[47,62,31,70,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[47,93,31,70],[47,94,31,71],[47,97,31,74,"params"],[47,103,31,80],[47,104,31,81,"stream"],[47,110,31,87],[48,6,32,4],[48,10,32,8],[48,17,32,15],[48,21,32,19,"params"],[48,27,32,25],[48,29,32,27,"attributes"],[48,39,32,37],[48,40,32,38,"GEN_AI_REQUEST_TOP_K_ATTRIBUTE"],[48,60,32,68],[48,61,32,68,"GEN_AI_REQUEST_TOP_K_ATTRIBUTE"],[48,91,32,68],[48,92,32,69],[48,95,32,72,"params"],[48,101,32,78],[48,102,32,79,"top_k"],[48,107,32,84],[49,6,33,4],[49,10,33,8],[49,29,33,27],[49,33,33,31,"params"],[49,39,33,37],[49,41,34,6,"attributes"],[49,51,34,16],[49,52,34,17,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[49,72,34,59],[49,73,34,59,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[49,115,34,59],[49,116,34,60],[49,119,34,63,"params"],[49,125,34,69],[49,126,34,70,"frequency_penalty"],[49,143,34,87],[50,6,35,4],[50,10,35,8],[50,22,35,20],[50,26,35,24,"params"],[50,32,35,30],[50,34,35,32,"attributes"],[50,44,35,42],[50,45,35,43,"GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE"],[50,65,35,78],[50,66,35,78,"GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE"],[50,101,35,78],[50,102,35,79],[50,105,35,82,"params"],[50,111,35,88],[50,112,35,89,"max_tokens"],[50,122,35,99],[51,4,36,2],[51,5,36,3],[51,11,36,9],[52,6,37,4],[52,10,37,8,"methodPath"],[52,20,37,18],[52,25,37,23],[52,42,37,40],[52,46,37,44,"methodPath"],[52,56,37,54],[52,61,37,59],[52,73,37,71],[52,75,37,73],[53,8,38,6],[54,8,39,6,"attributes"],[54,18,39,16],[54,19,39,17,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[54,39,39,47],[54,40,39,47,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[54,70,39,47],[54,71,39,48],[54,74,39,51,"args"],[54,78,39,55],[54,79,39,56],[54,80,39,57],[54,81,39,58],[55,6,40,4],[55,7,40,5],[55,13,40,11],[56,8,41,6,"attributes"],[56,18,41,16],[56,19,41,17,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[56,39,41,47],[56,40,41,47,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[56,70,41,47],[56,71,41,48],[56,74,41,51],[56,83,41,60],[57,6,42,4],[58,4,43,2],[59,4,45,2],[59,11,45,9,"attributes"],[59,21,45,19],[60,2,46,0],[62,2,48,0],[63,0,49,0],[64,0,50,0],[65,0,51,0],[66,2,52,0],[66,11,52,9,"addPrivateRequestAttributes"],[66,38,52,36,"addPrivateRequestAttributes"],[66,39,52,37,"span"],[66,43,52,41],[66,45,52,43,"params"],[66,51,52,49],[66,53,52,51],[67,4,53,2],[67,8,53,8,"messages"],[67,16,53,16],[67,19,53,19],[67,23,53,19,"messagesFromParams"],[67,31,53,37],[67,32,53,37,"messagesFromParams"],[67,50,53,37],[67,52,53,38,"params"],[67,58,53,44],[67,59,53,45],[68,4,54,2],[68,8,54,6,"messages"],[68,16,54,14],[68,17,54,15,"length"],[68,23,54,21],[68,25,54,23],[69,6,55,4],[69,10,55,10,"truncatedMessages"],[69,27,55,27],[69,30,55,30],[69,34,55,30,"getTruncatedJsonString"],[69,44,55,52],[69,45,55,52,"getTruncatedJsonString"],[69,67,55,52],[69,69,55,53,"messages"],[69,77,55,61],[69,78,55,62],[70,6,56,4,"span"],[70,10,56,8],[70,11,56,9,"setAttributes"],[70,24,56,22],[70,25,56,23],[71,8,56,25],[71,9,56,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[71,29,56,59],[71,30,56,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[71,63,56,59],[71,66,56,62,"truncatedMessages"],[72,6,56,80],[72,7,56,81],[72,8,56,82],[73,4,57,2],[74,4,59,2],[74,8,59,6],[74,15,59,13],[74,19,59,17,"params"],[74,25,59,23],[74,27,59,25],[75,6,60,4],[75,10,60,10,"truncatedInput"],[75,24,60,24],[75,27,60,27],[75,31,60,27,"getTruncatedJsonString"],[75,41,60,49],[75,42,60,49,"getTruncatedJsonString"],[75,64,60,49],[75,66,60,50,"params"],[75,72,60,56],[75,73,60,57,"input"],[75,78,60,62],[75,79,60,63],[76,6,61,4,"span"],[76,10,61,8],[76,11,61,9,"setAttributes"],[76,24,61,22],[76,25,61,23],[77,8,61,25],[77,9,61,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[77,29,61,59],[77,30,61,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[77,63,61,59],[77,66,61,62,"truncatedInput"],[78,6,61,77],[78,7,61,78],[78,8,61,79],[79,4,62,2],[80,4,64,2],[80,8,64,6],[80,16,64,14],[80,20,64,18,"params"],[80,26,64,24],[80,28,64,26],[81,6,65,4,"span"],[81,10,65,8],[81,11,65,9,"setAttributes"],[81,24,65,22],[81,25,65,23],[82,8,65,25],[82,9,65,26,"GEN_AI_PROMPT_ATTRIBUTE"],[82,29,65,49],[82,30,65,49,"GEN_AI_PROMPT_ATTRIBUTE"],[82,53,65,49],[82,56,65,52,"JSON"],[82,60,65,56],[82,61,65,57,"stringify"],[82,70,65,66],[82,71,65,67,"params"],[82,77,65,73],[82,78,65,74,"prompt"],[82,84,65,80],[83,6,65,82],[83,7,65,83],[83,8,65,84],[84,4,66,2],[85,2,67,0],[87,2,69,0],[88,0,70,0],[89,0,71,0],[90,2,72,0],[90,11,72,9,"addContentAttributes"],[90,31,72,29,"addContentAttributes"],[90,32,72,30,"span"],[90,36,72,34],[90,38,72,36,"response"],[90,46,72,44],[90,48,72,46],[91,4,73,2],[92,4,74,2],[92,8,74,6],[92,17,74,15],[92,21,74,19,"response"],[92,29,74,27],[92,31,74,29],[93,6,75,4],[93,10,75,8,"Array"],[93,15,75,13],[93,16,75,14,"isArray"],[93,23,75,21],[93,24,75,22,"response"],[93,32,75,30],[93,33,75,31,"content"],[93,40,75,38],[93,41,75,39],[93,43,75,41],[94,8,76,6,"span"],[94,12,76,10],[94,13,76,11,"setAttributes"],[94,26,76,24],[94,27,76,25],[95,10,77,8],[95,11,77,9,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[95,31,77,39],[95,32,77,39,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[95,62,77,39],[95,65,77,42,"response"],[95,73,77,50],[95,74,77,51,"content"],[95,81,77,58],[95,82,78,11,"map"],[95,85,78,14],[95,86,78,16,"item"],[95,90,78,20],[95,94,78,25,"item"],[95,98,78,29],[95,99,78,30,"text"],[95,103,78,34],[95,104,78,35],[95,105,79,11,"filter"],[95,111,79,17],[95,112,79,18,"text"],[95,116,79,22],[95,120,79,26],[95,121,79,27],[95,122,79,28,"text"],[95,126,79,32],[95,127,79,33],[95,128,80,11,"join"],[95,132,80,15],[95,133,80,16],[95,135,80,18],[96,8,81,6],[96,9,81,7],[96,10,81,8],[97,8,83,6],[97,12,83,12,"toolCalls"],[97,21,83,21],[97,24,83,24],[97,26,83,26],[98,8,85,6],[98,13,85,11],[98,17,85,17,"item"],[98,21,85,21],[98,25,85,25,"response"],[98,33,85,33],[98,34,85,34,"content"],[98,41,85,41],[98,43,85,43],[99,10,86,8],[99,14,86,12,"item"],[99,18,86,16],[99,19,86,17,"type"],[99,23,86,21],[99,28,86,26],[99,38,86,36],[99,42,86,40,"item"],[99,46,86,44],[99,47,86,45,"type"],[99,51,86,49],[99,56,86,54],[99,73,86,71],[99,75,86,73],[100,12,87,10,"toolCalls"],[100,21,87,19],[100,22,87,20,"push"],[100,26,87,24],[100,27,87,25,"item"],[100,31,87,29],[100,32,87,30],[101,10,88,8],[102,8,89,6],[103,8,90,6],[103,12,90,10,"toolCalls"],[103,21,90,19],[103,22,90,20,"length"],[103,28,90,26],[103,31,90,29],[103,32,90,30],[103,34,90,32],[104,10,91,8,"span"],[104,14,91,12],[104,15,91,13,"setAttributes"],[104,28,91,26],[104,29,91,27],[105,12,91,29],[105,13,91,30,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[105,33,91,66],[105,34,91,66,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[105,70,91,66],[105,73,91,69,"JSON"],[105,77,91,73],[105,78,91,74,"stringify"],[105,87,91,83],[105,88,91,84,"toolCalls"],[105,97,91,93],[106,10,91,95],[106,11,91,96],[106,12,91,97],[107,8,92,6],[108,6,93,4],[109,4,94,2],[110,4,95,2],[111,4,96,2],[111,8,96,6],[111,20,96,18],[111,24,96,22,"response"],[111,32,96,30],[111,34,96,32],[112,6,97,4,"span"],[112,10,97,8],[112,11,97,9,"setAttributes"],[112,24,97,22],[112,25,97,23],[113,8,97,25],[113,9,97,26,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[113,29,97,56],[113,30,97,56,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[113,60,97,56],[113,63,97,59,"response"],[113,71,97,67],[113,72,97,68,"completion"],[114,6,97,79],[114,7,97,80],[114,8,97,81],[115,4,98,2],[116,4,99,2],[117,4,100,2],[117,8,100,6],[117,22,100,20],[117,26,100,24,"response"],[117,34,100,32],[117,36,100,34],[118,6,101,4,"span"],[118,10,101,8],[118,11,101,9,"setAttributes"],[118,24,101,22],[118,25,101,23],[119,8,101,25],[119,9,101,26,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[119,29,101,56],[119,30,101,56,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[119,60,101,56],[119,63,101,59,"JSON"],[119,67,101,63],[119,68,101,64,"stringify"],[119,77,101,73],[119,78,101,74,"response"],[119,86,101,82],[119,87,101,83,"input_tokens"],[119,99,101,95],[120,6,101,97],[120,7,101,98],[120,8,101,99],[121,4,102,2],[122,2,103,0],[124,2,105,0],[125,0,106,0],[126,0,107,0],[127,2,108,0],[127,11,108,9,"addMetadataAttributes"],[127,32,108,30,"addMetadataAttributes"],[127,33,108,31,"span"],[127,37,108,35],[127,39,108,37,"response"],[127,47,108,45],[127,49,108,47],[128,4,109,2],[128,8,109,6],[128,12,109,10],[128,16,109,14,"response"],[128,24,109,22],[128,28,109,26],[128,35,109,33],[128,39,109,37,"response"],[128,47,109,45],[128,49,109,47],[129,6,110,4,"span"],[129,10,110,8],[129,11,110,9,"setAttributes"],[129,24,110,22],[129,25,110,23],[130,8,111,6],[130,9,111,7,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[130,29,111,35],[130,30,111,35,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[130,58,111,35],[130,61,111,38,"response"],[130,69,111,46],[130,70,111,47,"id"],[130,72,111,49],[131,8,112,6],[131,9,112,7,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[131,29,112,38],[131,30,112,38,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[131,61,112,38],[131,64,112,41,"response"],[131,72,112,49],[131,73,112,50,"model"],[132,6,113,4],[132,7,113,5],[132,8,113,6],[133,6,115,4],[133,10,115,8],[133,19,115,17],[133,23,115,21,"response"],[133,31,115,29],[133,35,115,33],[133,42,115,40,"response"],[133,50,115,48],[133,51,115,49,"created"],[133,58,115,56],[133,63,115,61],[133,71,115,69],[133,73,115,71],[134,8,116,6,"span"],[134,12,116,10],[134,13,116,11,"setAttributes"],[134,26,116,24],[134,27,116,25],[135,10,117,8],[135,11,117,9,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[135,31,117,50],[135,32,117,50,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[135,73,117,50],[135,76,117,53],[135,80,117,57,"Date"],[135,84,117,61],[135,85,117,62,"response"],[135,93,117,70],[135,94,117,71,"created"],[135,101,117,78],[135,104,117,81],[135,108,117,85],[135,109,117,86],[135,110,117,87,"toISOString"],[135,121,117,98],[135,122,117,99],[136,8,118,6],[136,9,118,7],[136,10,118,8],[137,6,119,4],[138,6,120,4],[138,10,120,8],[138,22,120,20],[138,26,120,24,"response"],[138,34,120,32],[138,38,120,36],[138,45,120,43,"response"],[138,53,120,51],[138,54,120,52,"created_at"],[138,64,120,62],[138,69,120,67],[138,77,120,75],[138,79,120,77],[139,8,121,6,"span"],[139,12,121,10],[139,13,121,11,"setAttributes"],[139,26,121,24],[139,27,121,25],[140,10,122,8],[140,11,122,9,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[140,31,122,50],[140,32,122,50,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[140,73,122,50],[140,76,122,53],[140,80,122,57,"Date"],[140,84,122,61],[140,85,122,62,"response"],[140,93,122,70],[140,94,122,71,"created_at"],[140,104,122,81],[140,107,122,84],[140,111,122,88],[140,112,122,89],[140,113,122,90,"toISOString"],[140,124,122,101],[140,125,122,102],[141,8,123,6],[141,9,123,7],[141,10,123,8],[142,6,124,4],[143,6,126,4],[143,10,126,8],[143,17,126,15],[143,21,126,19,"response"],[143,29,126,27],[143,33,126,31,"response"],[143,41,126,39],[143,42,126,40,"usage"],[143,47,126,45],[143,49,126,47],[144,8,127,6],[144,12,127,6,"setTokenUsageAttributes"],[144,22,127,29],[144,23,127,29,"setTokenUsageAttributes"],[144,46,127,29],[144,48,128,8,"span"],[144,52,128,12],[144,54,129,8,"response"],[144,62,129,16],[144,63,129,17,"usage"],[144,68,129,22],[144,69,129,23,"input_tokens"],[144,81,129,35],[144,83,130,8,"response"],[144,91,130,16],[144,92,130,17,"usage"],[144,97,130,22],[144,98,130,23,"output_tokens"],[144,111,130,36],[144,113,131,8,"response"],[144,121,131,16],[144,122,131,17,"usage"],[144,127,131,22],[144,128,131,23,"cache_creation_input_tokens"],[144,155,131,50],[144,157,132,8,"response"],[144,165,132,16],[144,166,132,17,"usage"],[144,171,132,22],[144,172,132,23,"cache_read_input_tokens"],[144,195,133,6],[144,196,133,7],[145,6,134,4],[146,4,135,2],[147,2,136,0],[149,2,138,0],[150,0,139,0],[151,0,140,0],[152,2,141,0],[152,11,141,9,"addResponseAttributes"],[152,32,141,30,"addResponseAttributes"],[152,33,141,31,"span"],[152,37,141,35],[152,39,141,37,"response"],[152,47,141,45],[152,49,141,47,"recordOutputs"],[152,62,141,60],[152,64,141,62],[153,4,142,2],[153,8,142,6],[153,9,142,7,"response"],[153,17,142,15],[153,21,142,19],[153,28,142,26,"response"],[153,36,142,34],[153,41,142,39],[153,49,142,47],[153,51,142,49],[155,4,144,2],[156,4,145,2],[156,8,145,6],[156,14,145,12],[156,18,145,16,"response"],[156,26,145,24],[156,30,145,28,"response"],[156,38,145,36],[156,39,145,37,"type"],[156,43,145,41],[156,48,145,46],[156,55,145,53],[156,57,145,55],[157,6,146,4],[157,10,146,4,"handleResponseError"],[157,18,146,23],[157,19,146,23,"handleResponseError"],[157,38,146,23],[157,40,146,24,"span"],[157,44,146,28],[157,46,146,30,"response"],[157,54,146,38],[157,55,146,39],[158,6,147,4],[159,4,148,2],[161,4,150,2],[162,4,151,2],[162,8,151,6,"recordOutputs"],[162,21,151,19],[162,23,151,21],[163,6,152,4,"addContentAttributes"],[163,26,152,24],[163,27,152,25,"span"],[163,31,152,29],[163,33,152,31,"response"],[163,41,152,39],[163,42,152,40],[164,4,153,2],[166,4,155,2],[167,4,156,2,"addMetadataAttributes"],[167,25,156,23],[167,26,156,24,"span"],[167,30,156,28],[167,32,156,30,"response"],[167,40,156,38],[167,41,156,39],[168,2,157,0],[170,2,159,0],[171,0,160,0],[172,0,161,0],[173,2,162,0],[173,11,162,9,"handleStreamingError"],[173,31,162,29,"handleStreamingError"],[173,32,162,30,"error"],[173,37,162,35],[173,39,162,37,"span"],[173,43,162,41],[173,45,162,43,"methodPath"],[173,55,162,53],[173,57,162,55],[174,4,163,2],[174,8,163,2,"captureException"],[174,18,163,18],[174,19,163,18,"captureException"],[174,35,163,18],[174,37,163,19,"error"],[174,42,163,24],[174,44,163,26],[175,6,164,4,"mechanism"],[175,15,164,13],[175,17,164,15],[176,8,164,17,"handled"],[176,15,164,24],[176,17,164,26],[176,22,164,31],[177,8,164,33,"type"],[177,12,164,37],[177,14,164,39],[177,33,164,58],[178,8,164,60,"data"],[178,12,164,64],[178,14,164,66],[179,10,164,68,"function"],[179,18,164,76],[179,20,164,78,"methodPath"],[180,8,164,89],[181,6,164,91],[182,4,165,2],[182,5,165,3],[182,6,165,4],[183,4,167,2],[183,8,167,6,"span"],[183,12,167,10],[183,13,167,11,"isRecording"],[183,24,167,22],[183,25,167,23],[183,26,167,24],[183,28,167,26],[184,6,168,4,"span"],[184,10,168,8],[184,11,168,9,"setStatus"],[184,20,168,18],[184,21,168,19],[185,8,168,21,"code"],[185,12,168,25],[185,14,168,27,"SPAN_STATUS_ERROR"],[185,27,168,44],[185,28,168,44,"SPAN_STATUS_ERROR"],[185,45,168,44],[186,8,168,46,"message"],[186,15,168,53],[186,17,168,55],[187,6,168,72],[187,7,168,73],[187,8,168,74],[188,6,169,4,"span"],[188,10,169,8],[188,11,169,9,"end"],[188,14,169,12],[188,15,169,13],[188,16,169,14],[189,4,170,2],[190,4,171,2],[190,10,171,8,"error"],[190,15,171,13],[191,2,172,0],[193,2,174,0],[194,0,175,0],[195,0,176,0],[196,2,177,0],[196,11,177,9,"handleStreamingRequest"],[196,33,177,31,"handleStreamingRequest"],[196,34,178,2,"originalMethod"],[196,48,178,16],[196,50,179,2,"target"],[196,56,179,8],[196,58,180,2,"context"],[196,65,180,9],[196,67,181,2,"args"],[196,71,181,6],[196,73,182,2,"requestAttributes"],[196,90,182,19],[196,92,183,2,"operationName"],[196,105,183,15],[196,107,184,2,"methodPath"],[196,117,184,12],[196,119,185,2,"params"],[196,125,185,8],[196,127,186,2,"options"],[196,134,186,9],[196,136,187,2,"isStreamRequested"],[196,153,187,19],[196,155,188,2,"isStreamingMethod"],[196,172,188,19],[196,174,189,2],[197,4,190,2],[197,8,190,8,"model"],[197,13,190,13],[197,16,190,16,"requestAttributes"],[197,33,190,33],[197,34,190,34,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[197,54,190,64],[197,55,190,64,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[197,85,190,64],[197,86,190,65],[197,90,190,69],[197,99,190,78],[198,4,191,2],[198,8,191,8,"spanConfig"],[198,18,191,18],[198,21,191,21],[199,6,192,4,"name"],[199,10,192,8],[199,12,192,10],[199,15,192,13,"operationName"],[199,28,192,26],[199,32,192,30,"model"],[199,37,192,35],[199,55,192,53],[200,6,193,4,"op"],[200,8,193,6],[200,10,193,8],[200,14,193,8,"getSpanOperation"],[200,24,193,24],[200,25,193,24,"getSpanOperation"],[200,41,193,24],[200,43,193,25,"methodPath"],[200,53,193,35],[200,54,193,36],[201,6,194,4,"attributes"],[201,16,194,14],[201,18,194,16,"requestAttributes"],[202,4,195,2],[202,5,195,3],[204,4,197,2],[205,4,198,2],[205,8,198,6,"isStreamRequested"],[205,25,198,23],[205,29,198,27],[205,30,198,28,"isStreamingMethod"],[205,47,198,45],[205,49,198,47],[206,6,199,4],[206,13,199,11],[206,17,199,11,"startSpanManual"],[206,25,199,26],[206,26,199,26,"startSpanManual"],[206,41,199,26],[206,43,199,27,"spanConfig"],[206,53,199,37],[207,8,199,37],[207,12,199,37,"_ref"],[207,16,199,37],[207,23,199,37,"_asyncToGenerator"],[207,40,199,37],[207,41,199,37,"default"],[207,48,199,37],[207,50,199,39],[207,61,199,45,"span"],[207,65,199,49],[207,67,199,53],[208,10,200,6],[208,14,200,10],[209,12,201,8],[209,16,201,12,"options"],[209,23,201,19],[209,24,201,20,"recordInputs"],[209,36,201,32],[209,40,201,36,"params"],[209,46,201,42],[209,48,201,44],[210,14,202,10,"addPrivateRequestAttributes"],[210,41,202,37],[210,42,202,38,"span"],[210,46,202,42],[210,48,202,44,"params"],[210,54,202,50],[210,55,202,51],[211,12,203,8],[212,12,204,8],[212,16,204,14,"result"],[212,22,204,20],[212,31,204,29,"originalMethod"],[212,45,204,43],[212,46,204,44,"apply"],[212,51,204,49],[212,52,204,50,"context"],[212,59,204,57],[212,61,204,59,"args"],[212,65,204,63],[212,66,204,64],[213,12,205,8],[213,19,205,15],[213,23,205,15,"instrumentAsyncIterableStream"],[213,35,205,44],[213,36,205,44,"instrumentAsyncIterableStream"],[213,65,205,44],[213,67,206,10,"result"],[213,73,206,16],[213,75,207,10,"span"],[213,79,207,14],[213,81,208,10,"options"],[213,88,208,17],[213,89,208,18,"recordOutputs"],[213,102,208,31],[213,106,208,35],[213,111,209,8],[213,112,209,9],[214,10,210,6],[214,11,210,7],[214,12,210,8],[214,19,210,15,"error"],[214,24,210,20],[214,26,210,22],[215,12,211,8],[215,19,211,15,"handleStreamingError"],[215,39,211,35],[215,40,211,36,"error"],[215,45,211,41],[215,47,211,43,"span"],[215,51,211,47],[215,53,211,49,"methodPath"],[215,63,211,59],[215,64,211,60],[216,10,212,6],[217,8,213,4],[217,9,213,5],[218,8,213,5],[218,25,213,5,"_x"],[218,27,213,5],[219,10,213,5],[219,17,213,5,"_ref"],[219,21,213,5],[219,22,213,5,"apply"],[219,27,213,5],[219,34,213,5,"arguments"],[219,43,213,5],[220,8,213,5],[221,6,213,5],[221,10,213,6],[222,4,214,2],[222,5,214,3],[222,11,214,9],[223,6,215,4],[223,13,215,11],[223,17,215,11,"startSpanManual"],[223,25,215,26],[223,26,215,26,"startSpanManual"],[223,41,215,26],[223,43,215,27,"spanConfig"],[223,53,215,37],[223,55,215,39,"span"],[223,59,215,43],[223,63,215,47],[224,8,216,6],[224,12,216,10],[225,10,217,8],[225,14,217,12,"options"],[225,21,217,19],[225,22,217,20,"recordInputs"],[225,34,217,32],[225,38,217,36,"params"],[225,44,217,42],[225,46,217,44],[226,12,218,10,"addPrivateRequestAttributes"],[226,39,218,37],[226,40,218,38,"span"],[226,44,218,42],[226,46,218,44,"params"],[226,52,218,50],[226,53,218,51],[227,10,219,8],[228,10,220,8],[228,14,220,14,"messageStream"],[228,27,220,27],[228,30,220,30,"target"],[228,36,220,36],[228,37,220,37,"apply"],[228,42,220,42],[228,43,220,43,"context"],[228,50,220,50],[228,52,220,52,"args"],[228,56,220,56],[228,57,220,57],[229,10,221,8],[229,17,221,15],[229,21,221,15,"instrumentMessageStream"],[229,33,221,38],[229,34,221,38,"instrumentMessageStream"],[229,57,221,38],[229,59,221,39,"messageStream"],[229,72,221,52],[229,74,221,54,"span"],[229,78,221,58],[229,80,221,60,"options"],[229,87,221,67],[229,88,221,68,"recordOutputs"],[229,101,221,81],[229,105,221,85],[229,110,221,90],[229,111,221,91],[230,8,222,6],[230,9,222,7],[230,10,222,8],[230,17,222,15,"error"],[230,22,222,20],[230,24,222,22],[231,10,223,8],[231,17,223,15,"handleStreamingError"],[231,37,223,35],[231,38,223,36,"error"],[231,43,223,41],[231,45,223,43,"span"],[231,49,223,47],[231,51,223,49,"methodPath"],[231,61,223,59],[231,62,223,60],[232,8,224,6],[233,6,225,4],[233,7,225,5],[233,8,225,6],[234,4,226,2],[235,2,227,0],[237,2,229,0],[238,0,230,0],[239,0,231,0],[240,0,232,0],[241,0,233,0],[242,2,234,0],[242,11,234,9,"instrumentMethod"],[242,27,234,25,"instrumentMethod"],[242,28,235,2,"originalMethod"],[242,42,235,16],[242,44,236,2,"methodPath"],[242,54,236,12],[242,56,237,2,"context"],[242,63,237,9],[242,65,238,2,"options"],[242,72,238,9],[242,74,239,2],[243,4,240,2],[243,11,240,9],[243,15,240,13,"Proxy"],[243,20,240,18],[243,21,240,19,"originalMethod"],[243,35,240,33],[243,37,240,35],[244,6,241,4,"apply"],[244,11,241,9,"apply"],[244,12,241,10,"target"],[244,18,241,16],[244,20,241,18,"thisArg"],[244,27,241,25],[244,29,241,27,"args"],[244,33,241,31],[244,35,241,33],[245,8,242,6],[245,12,242,12,"requestAttributes"],[245,29,242,29],[245,32,242,32,"extractRequestAttributes"],[245,56,242,56],[245,57,242,57,"args"],[245,61,242,61],[245,63,242,63,"methodPath"],[245,73,242,73],[245,74,242,74],[246,8,243,6],[246,12,243,12,"model"],[246,17,243,17],[246,20,243,20,"requestAttributes"],[246,37,243,37],[246,38,243,38,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[246,58,243,68],[246,59,243,68,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[246,89,243,68],[246,90,243,69],[246,94,243,73],[246,103,243,82],[247,8,244,6],[247,12,244,12,"operationName"],[247,25,244,25],[247,28,244,28],[247,32,244,28,"getFinalOperationName"],[247,42,244,49],[247,43,244,49,"getFinalOperationName"],[247,64,244,49],[247,66,244,50,"methodPath"],[247,76,244,60],[247,77,244,61],[248,8,246,6],[248,12,246,12,"params"],[248,18,246,18],[248,21,246,21],[248,28,246,28,"args"],[248,32,246,32],[248,33,246,33],[248,34,246,34],[248,35,246,35],[248,40,246,40],[248,48,246,48],[248,51,246,52,"args"],[248,55,246,56],[248,56,246,57],[248,57,246,58],[248,58,246,59],[248,61,246,64,"undefined"],[248,70,246,73],[249,8,247,6],[249,12,247,12,"isStreamRequested"],[249,29,247,29],[249,32,247,32,"Boolean"],[249,39,247,39],[249,40,247,40,"params"],[249,46,247,46],[249,48,247,48,"stream"],[249,54,247,54],[249,55,247,55],[250,8,248,6],[250,12,248,12,"isStreamingMethod"],[250,29,248,29],[250,32,248,32,"methodPath"],[250,42,248,42],[250,47,248,47],[250,64,248,64],[251,8,250,6],[251,12,250,10,"isStreamRequested"],[251,29,250,27],[251,33,250,31,"isStreamingMethod"],[251,50,250,48],[251,52,250,50],[252,10,251,8],[252,17,251,15,"handleStreamingRequest"],[252,39,251,37],[252,40,252,10,"originalMethod"],[252,54,252,24],[252,56,253,10,"target"],[252,62,253,16],[252,64,254,10,"context"],[252,71,254,17],[252,73,255,10,"args"],[252,77,255,14],[252,79,256,10,"requestAttributes"],[252,96,256,27],[252,98,257,10,"operationName"],[252,111,257,23],[252,113,258,10,"methodPath"],[252,123,258,20],[252,125,259,10,"params"],[252,131,259,16],[252,133,260,10,"options"],[252,140,260,17],[252,142,261,10,"isStreamRequested"],[252,159,261,27],[252,161,262,10,"isStreamingMethod"],[252,178,263,8],[252,179,263,9],[253,8,264,6],[254,8,266,6],[254,15,266,13],[254,19,266,13,"startSpan"],[254,27,266,22],[254,28,266,22,"startSpan"],[254,37,266,22],[254,39,267,8],[255,10,268,10,"name"],[255,14,268,14],[255,16,268,16],[255,19,268,19,"operationName"],[255,32,268,32],[255,36,268,36,"model"],[255,41,268,41],[255,43,268,43],[256,10,269,10,"op"],[256,12,269,12],[256,14,269,14],[256,18,269,14,"getSpanOperation"],[256,28,269,30],[256,29,269,30,"getSpanOperation"],[256,45,269,30],[256,47,269,31,"methodPath"],[256,57,269,41],[256,58,269,42],[257,10,270,10,"attributes"],[257,20,270,20],[257,22,270,22,"requestAttributes"],[258,8,271,8],[258,9,271,9],[258,11,272,8,"span"],[258,15,272,12],[258,19,272,16],[259,10,273,10],[259,14,273,14,"options"],[259,21,273,21],[259,22,273,22,"recordInputs"],[259,34,273,34],[259,38,273,38,"params"],[259,44,273,44],[259,46,273,46],[260,12,274,12,"addPrivateRequestAttributes"],[260,39,274,39],[260,40,274,40,"span"],[260,44,274,44],[260,46,274,46,"params"],[260,52,274,52],[260,53,274,53],[261,10,275,10],[262,10,277,10],[262,17,277,17],[262,21,277,17,"handleCallbackErrors"],[262,49,277,37],[262,50,277,37,"handleCallbackErrors"],[262,70,277,37],[262,72,278,12],[262,78,278,18,"target"],[262,84,278,24],[262,85,278,25,"apply"],[262,90,278,30],[262,91,278,31,"context"],[262,98,278,38],[262,100,278,40,"args"],[262,104,278,44],[262,105,278,45],[262,107,279,12,"error"],[262,112,279,17],[262,116,279,21],[263,12,280,14],[263,16,280,14,"captureException"],[263,26,280,30],[263,27,280,30,"captureException"],[263,43,280,30],[263,45,280,31,"error"],[263,50,280,36],[263,52,280,38],[264,14,281,16,"mechanism"],[264,23,281,25],[264,25,281,27],[265,16,282,18,"handled"],[265,23,282,25],[265,25,282,27],[265,30,282,32],[266,16,283,18,"type"],[266,20,283,22],[266,22,283,24],[266,41,283,43],[267,16,284,18,"data"],[267,20,284,22],[267,22,284,24],[268,18,285,20,"function"],[268,26,285,28],[268,28,285,30,"methodPath"],[269,16,286,18],[270,14,287,16],[271,12,288,14],[271,13,288,15],[271,14,288,16],[272,10,289,12],[272,11,289,13],[272,13,290,12],[272,19,290,18],[272,20,290,19],[272,21,290,20],[272,23,291,12,"result"],[272,29,291,18],[272,33,291,22,"addResponseAttributes"],[272,54,291,43],[272,55,291,44,"span"],[272,59,291,48],[272,61,291,50,"result"],[272,67,291,56],[272,69,291,59,"options"],[272,76,291,66],[272,77,291,67,"recordOutputs"],[272,90,291,80],[272,91,292,10],[272,92,292,11],[273,8,293,8],[273,9,294,6],[273,10,294,7],[274,6,295,4],[275,4,296,2],[275,5,296,3],[275,6,296,4],[276,2,297,0],[278,2,299,0],[279,0,300,0],[280,0,301,0],[281,2,302,0],[281,11,302,9,"createDeepProxy"],[281,26,302,24,"createDeepProxy"],[281,27,302,25,"target"],[281,33,302,31],[281,35,302,60],[282,4,302,60],[282,8,302,33,"currentPath"],[282,19,302,44],[282,22,302,44,"arguments"],[282,31,302,44],[282,32,302,44,"length"],[282,38,302,44],[282,46,302,44,"arguments"],[282,55,302,44],[282,63,302,44,"undefined"],[282,72,302,44],[282,75,302,44,"arguments"],[282,84,302,44],[282,90,302,47],[282,92,302,49],[283,4,302,49],[283,8,302,51,"options"],[283,15,302,58],[283,18,302,58,"arguments"],[283,27,302,58],[283,28,302,58,"length"],[283,34,302,58],[283,41,302,58,"arguments"],[283,50,302,58],[283,56,302,58,"undefined"],[283,65,302,58],[284,4,303,2],[284,11,303,9],[284,15,303,13,"Proxy"],[284,20,303,18],[284,21,303,19,"target"],[284,27,303,25],[284,29,303,27],[285,6,304,4,"get"],[285,9,304,7,"get"],[285,10,304,8,"obj"],[285,13,304,11],[285,15,304,13,"prop"],[285,19,304,17],[285,21,304,19],[286,8,305,6],[286,12,305,12,"value"],[286,17,305,17],[286,20,305,21,"obj"],[286,23,305,24],[286,24,305,27,"prop"],[286,28,305,31],[286,29,305,32],[287,8,306,6],[287,12,306,12,"methodPath"],[287,22,306,22],[287,25,306,25],[287,29,306,25,"buildMethodPath"],[287,39,306,40],[287,40,306,40,"buildMethodPath"],[287,55,306,40],[287,57,306,41,"currentPath"],[287,68,306,52],[287,70,306,54,"String"],[287,76,306,60],[287,77,306,61,"prop"],[287,81,306,65],[287,82,306,66],[287,83,306,67],[288,8,308,6],[288,12,308,10],[288,19,308,17,"value"],[288,24,308,22],[288,29,308,27],[288,39,308,37],[288,43,308,41],[288,47,308,41,"shouldInstrument"],[288,55,308,57],[288,56,308,57,"shouldInstrument"],[288,72,308,57],[288,74,308,58,"methodPath"],[288,84,308,68],[288,85,308,69],[288,87,308,71],[289,10,309,8],[289,17,309,15,"instrumentMethod"],[289,33,309,31],[289,34,309,32,"value"],[289,39,309,37],[289,41,309,40,"methodPath"],[289,51,309,50],[289,53,309,52,"obj"],[289,56,309,55],[289,58,309,57,"options"],[289,65,309,64],[289,66,309,65],[290,8,310,6],[291,8,312,6],[291,12,312,10],[291,19,312,17,"value"],[291,24,312,22],[291,29,312,27],[291,39,312,37],[291,41,312,39],[292,10,313,8],[293,10,314,8],[293,17,314,15,"value"],[293,22,314,20],[293,23,314,21,"bind"],[293,27,314,25],[293,28,314,26,"obj"],[293,31,314,29],[293,32,314,30],[294,8,315,6],[295,8,317,6],[295,12,317,10,"value"],[295,17,317,15],[295,21,317,19],[295,28,317,26,"value"],[295,33,317,31],[295,38,317,36],[295,46,317,44],[295,48,317,46],[296,10,318,8],[296,17,318,15,"createDeepProxy"],[296,32,318,30],[296,33,318,31,"value"],[296,38,318,36],[296,40,318,38,"methodPath"],[296,50,318,48],[296,52,318,50,"options"],[296,59,318,57],[296,60,318,58],[297,8,319,6],[298,8,321,6],[298,15,321,13,"value"],[298,20,321,18],[299,6,322,4],[300,4,323,2],[300,5,323,3],[300,6,323,4],[301,2,324,0],[303,2,326,0],[304,0,327,0],[305,0,328,0],[306,0,329,0],[307,0,330,0],[308,0,331,0],[309,0,332,0],[310,0,333,0],[311,0,334,0],[312,2,335,0],[312,11,335,9,"instrumentAnthropicAiClient"],[312,38,335,36,"instrumentAnthropicAiClient"],[312,39,335,37,"anthropicAiClient"],[312,56,335,54],[312,58,335,56,"options"],[312,65,335,63],[312,67,335,65],[313,4,336,2],[313,8,336,8,"sendDefaultPii"],[313,22,336,22],[313,25,336,25,"Boolean"],[313,32,336,32],[313,33,336,33],[313,37,336,33,"getClient"],[313,53,336,42],[313,54,336,42,"getClient"],[313,63,336,42],[313,65,336,43],[313,66,336,44],[313,68,336,46,"getOptions"],[313,78,336,56],[313,79,336,57],[313,80,336,58],[313,81,336,59,"sendDefaultPii"],[313,95,336,73],[313,96,336,74],[314,4,338,2],[314,8,338,8,"_options"],[314,16,338,16],[314,19,338,19],[315,6,339,4,"recordInputs"],[315,18,339,16],[315,20,339,18,"sendDefaultPii"],[315,34,339,32],[316,6,340,4,"recordOutputs"],[316,19,340,17],[316,21,340,19,"sendDefaultPii"],[316,35,340,33],[317,6,341,4],[317,9,341,7,"options"],[318,4,342,2],[318,5,342,3],[319,4,343,2],[319,11,343,9,"createDeepProxy"],[319,26,343,24],[319,27,343,25,"anthropicAiClient"],[319,44,343,42],[319,46,343,44],[319,48,343,46],[319,50,343,48,"_options"],[319,58,343,56],[319,59,343,57],[320,2,344,0],[321,0,344,1],[321,3]],"functionMap":{"names":["<global>","extractRequestAttributes","addPrivateRequestAttributes","addContentAttributes","response.content.map$argument_0","response.content.map.filter$argument_0","addMetadataAttributes","addResponseAttributes","handleStreamingError","handleStreamingRequest","startSpanManual$argument_1","instrumentMethod","Proxy$argument_1.apply","startSpan$argument_1","handleCallbackErrors$argument_0","handleCallbackErrors$argument_1","handleCallbackErrors$argument_2","handleCallbackErrors$argument_3","createDeepProxy","Proxy$argument_1.get","instrumentAnthropicAiClient"],"mappings":"AAA;ACc;CD+B;AEM;CFe;AGK;eCM,mBD;kBEC,cF;CHwB;AMK;CN4B;AOK;CPgB;AQK;CRU;ASK;uCCsB;KDc;uCCE;KDU;CTE;AWO;ICO;QC+B;YCM,iCD;YEC;aFU;YGC,QH;YIC,qEJ;SDE;KDE;CXE;AkBK;ICE;KDkB;ClBE;AoBW;CpBS"},"hasCjsExports":false},"type":"js/module"}]}