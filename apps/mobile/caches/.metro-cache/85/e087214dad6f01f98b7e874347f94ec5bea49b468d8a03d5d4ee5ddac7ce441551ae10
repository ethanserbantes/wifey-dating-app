{"dependencies":[{"name":"./lib/bindReporter.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"yZXTUsWh1M46DyxIbZ88NUHRymg=","exportNames":["*"],"imports":1}},{"name":"./lib/getActivationStart.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":65,"index":119}}],"key":"GdWeY/Ul63HmG3e9yq4TWUwqk0M=","exportNames":["*"],"imports":1}},{"name":"./lib/getVisibilityWatcher.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":69,"index":189}}],"key":"nHtaM9v//YlxGAv+O3W06C++qp8=","exportNames":["*"],"imports":1}},{"name":"./lib/globalListeners.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":190},"end":{"line":4,"column":79,"index":269}}],"key":"oNVCw8cPWMWVUviusL460ywXCis=","exportNames":["*"],"imports":1}},{"name":"./lib/initMetric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":270},"end":{"line":5,"column":49,"index":319}}],"key":"3h8m+kvAV2o3xN93IHHrmBqzs4s=","exportNames":["*"],"imports":1}},{"name":"./lib/initUnique.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":320},"end":{"line":6,"column":49,"index":369}}],"key":"hut8a99D/Gv1jGW5dfMa/Znpg4I=","exportNames":["*"],"imports":1}},{"name":"./lib/LCPEntryManager.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":370},"end":{"line":7,"column":59,"index":429}}],"key":"pdgPNtPb7rmWxPbVwqzSxpMiSmc=","exportNames":["*"],"imports":1}},{"name":"./lib/observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":430},"end":{"line":8,"column":43,"index":473}}],"key":"Cz2RoRvLyGQyofIDJmcgFo6dicM=","exportNames":["*"],"imports":1}},{"name":"./lib/runOnce.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":474},"end":{"line":9,"column":43,"index":517}}],"key":"bwPHkAH8Ixo/Lbt+Aw9KJe855Jk=","exportNames":["*"],"imports":1}},{"name":"./lib/whenActivated.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":518},"end":{"line":10,"column":55,"index":573}}],"key":"ZUHRzyG92JJbjB1/O2ptt6DviqY=","exportNames":["*"],"imports":1}},{"name":"./lib/whenIdleOrHidden.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":574},"end":{"line":11,"column":61,"index":635}}],"key":"aIXUXNtl+4w2mSAxoQv7ThovIbE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"LCPThresholds\", {\n    enumerable: true,\n    get: function () {\n      return LCPThresholds;\n    }\n  });\n  Object.defineProperty(exports, \"onLCP\", {\n    enumerable: true,\n    get: function () {\n      return onLCP;\n    }\n  });\n  var _libBindReporterJs = require(_dependencyMap[0], \"./lib/bindReporter.js\");\n  var _libGetActivationStartJs = require(_dependencyMap[1], \"./lib/getActivationStart.js\");\n  var _libGetVisibilityWatcherJs = require(_dependencyMap[2], \"./lib/getVisibilityWatcher.js\");\n  var _libGlobalListenersJs = require(_dependencyMap[3], \"./lib/globalListeners.js\");\n  var _libInitMetricJs = require(_dependencyMap[4], \"./lib/initMetric.js\");\n  var _libInitUniqueJs = require(_dependencyMap[5], \"./lib/initUnique.js\");\n  var _libLCPEntryManagerJs = require(_dependencyMap[6], \"./lib/LCPEntryManager.js\");\n  var _libObserveJs = require(_dependencyMap[7], \"./lib/observe.js\");\n  var _libRunOnceJs = require(_dependencyMap[8], \"./lib/runOnce.js\");\n  var _libWhenActivatedJs = require(_dependencyMap[9], \"./lib/whenActivated.js\");\n  var _libWhenIdleOrHiddenJs = require(_dependencyMap[10], \"./lib/whenIdleOrHidden.js\");\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** Thresholds for LCP. See https://web.dev/articles/lcp#what_is_a_good_lcp_score */\n  var LCPThresholds = [2500, 4000];\n\n  /**\n   * Calculates the [LCP](https://web.dev/articles/lcp) value for the current page and\n   * calls the `callback` function once the value is ready (along with the\n   * relevant `largest-contentful-paint` performance entry used to determine the\n   * value). The reported value is a `DOMHighResTimeStamp`.\n   *\n   * If the `reportAllChanges` configuration option is set to `true`, the\n   * `callback` function will be called any time a new `largest-contentful-paint`\n   * performance entry is dispatched, or once the final value of the metric has\n   * been determined.\n   */\n  var onLCP = function (onReport) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _libWhenActivatedJs.whenActivated)(() => {\n      var visibilityWatcher = (0, _libGetVisibilityWatcherJs.getVisibilityWatcher)();\n      var metric = (0, _libInitMetricJs.initMetric)('LCP');\n      var report;\n      var lcpEntryManager = (0, _libInitUniqueJs.initUnique)(opts, _libLCPEntryManagerJs.LCPEntryManager);\n      var handleEntries = entries => {\n        // If reportAllChanges is set then call this function for each entry,\n        // otherwise only consider the last one.\n        if (!opts.reportAllChanges) {\n          // eslint-disable-next-line no-param-reassign\n          entries = entries.slice(-1);\n        }\n        for (var entry of entries) {\n          lcpEntryManager._processEntry(entry);\n\n          // Only report if the page wasn't hidden prior to LCP.\n          if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n            // The startTime attribute returns the value of the renderTime if it is\n            // not 0, and the value of the loadTime otherwise. The activationStart\n            // reference is used because LCP should be relative to page activation\n            // rather than navigation start if the page was prerendered. But in cases\n            // where `activationStart` occurs after the LCP, this time should be\n            // clamped at 0.\n            metric.value = Math.max(entry.startTime - (0, _libGetActivationStartJs.getActivationStart)(), 0);\n            metric.entries = [entry];\n            report();\n          }\n        }\n      };\n      var po = (0, _libObserveJs.observe)('largest-contentful-paint', handleEntries);\n      if (po) {\n        report = (0, _libBindReporterJs.bindReporter)(onReport, metric, LCPThresholds, opts.reportAllChanges);\n\n        // Ensure this logic only runs once, since it can be triggered from\n        // any of three different event listeners below.\n        var stopListening = (0, _libRunOnceJs.runOnce)(() => {\n          handleEntries(po.takeRecords());\n          po.disconnect();\n          report(true);\n        });\n\n        // Need a separate wrapper to ensure the `runOnce` function above is\n        // common for all three functions\n        var stopListeningWrapper = event => {\n          if (event.isTrusted) {\n            // Wrap the listener in an idle callback so it's run in a separate\n            // task to reduce potential INP impact.\n            // https://github.com/GoogleChrome/web-vitals/issues/383\n            (0, _libWhenIdleOrHiddenJs.whenIdleOrHidden)(stopListening);\n            (0, _libGlobalListenersJs.removePageListener)(event.type, stopListeningWrapper, {\n              capture: true\n            });\n          }\n        };\n\n        // Stop listening after input or visibilitychange.\n        // Note: while scrolling is an input that stops LCP observation, it's\n        // unreliable since it can be programmatically generated.\n        // See: https://github.com/GoogleChrome/web-vitals/issues/75\n        for (var type of ['keydown', 'click', 'visibilitychange']) {\n          (0, _libGlobalListenersJs.addPageListener)(type, stopListeningWrapper, {\n            capture: true\n          });\n        }\n      }\n    });\n  };\n});","lineCount":129,"map":[[7,2,118,0,"Object"],[7,8,118,0],[7,9,118,0,"defineProperty"],[7,23,118,0],[7,24,118,0,"exports"],[7,31,118,0],[8,4,118,0,"enumerable"],[8,14,118,0],[9,4,118,0,"get"],[9,7,118,0],[9,18,118,0,"get"],[9,19,118,0],[10,6,118,0],[10,13,118,9,"LCPThresholds"],[10,26,118,22],[11,4,118,22],[12,2,118,22],[13,2,118,0,"Object"],[13,8,118,0],[13,9,118,0,"defineProperty"],[13,23,118,0],[13,24,118,0,"exports"],[13,31,118,0],[14,4,118,0,"enumerable"],[14,14,118,0],[15,4,118,0,"get"],[15,7,118,0],[15,18,118,0,"get"],[15,19,118,0],[16,6,118,0],[16,13,118,24,"onLCP"],[16,18,118,29],[17,4,118,29],[18,2,118,29],[19,2,1,0],[19,6,1,0,"_libBindReporterJs"],[19,24,1,0],[19,27,1,0,"require"],[19,34,1,0],[19,35,1,0,"_dependencyMap"],[19,49,1,0],[20,2,2,0],[20,6,2,0,"_libGetActivationStartJs"],[20,30,2,0],[20,33,2,0,"require"],[20,40,2,0],[20,41,2,0,"_dependencyMap"],[20,55,2,0],[21,2,3,0],[21,6,3,0,"_libGetVisibilityWatcherJs"],[21,32,3,0],[21,35,3,0,"require"],[21,42,3,0],[21,43,3,0,"_dependencyMap"],[21,57,3,0],[22,2,4,0],[22,6,4,0,"_libGlobalListenersJs"],[22,27,4,0],[22,30,4,0,"require"],[22,37,4,0],[22,38,4,0,"_dependencyMap"],[22,52,4,0],[23,2,5,0],[23,6,5,0,"_libInitMetricJs"],[23,22,5,0],[23,25,5,0,"require"],[23,32,5,0],[23,33,5,0,"_dependencyMap"],[23,47,5,0],[24,2,6,0],[24,6,6,0,"_libInitUniqueJs"],[24,22,6,0],[24,25,6,0,"require"],[24,32,6,0],[24,33,6,0,"_dependencyMap"],[24,47,6,0],[25,2,7,0],[25,6,7,0,"_libLCPEntryManagerJs"],[25,27,7,0],[25,30,7,0,"require"],[25,37,7,0],[25,38,7,0,"_dependencyMap"],[25,52,7,0],[26,2,8,0],[26,6,8,0,"_libObserveJs"],[26,19,8,0],[26,22,8,0,"require"],[26,29,8,0],[26,30,8,0,"_dependencyMap"],[26,44,8,0],[27,2,9,0],[27,6,9,0,"_libRunOnceJs"],[27,19,9,0],[27,22,9,0,"require"],[27,29,9,0],[27,30,9,0,"_dependencyMap"],[27,44,9,0],[28,2,10,0],[28,6,10,0,"_libWhenActivatedJs"],[28,25,10,0],[28,28,10,0,"require"],[28,35,10,0],[28,36,10,0,"_dependencyMap"],[28,50,10,0],[29,2,11,0],[29,6,11,0,"_libWhenIdleOrHiddenJs"],[29,28,11,0],[29,31,11,0,"require"],[29,38,11,0],[29,39,11,0,"_dependencyMap"],[29,53,11,0],[30,2,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[35,0,18,0],[36,0,19,0],[37,0,20,0],[38,0,21,0],[39,0,22,0],[40,0,23,0],[41,0,24,0],[42,0,25,0],[43,0,26,0],[44,0,27,0],[46,2,30,0],[47,2,31,0],[47,6,31,6,"LCPThresholds"],[47,19,31,19],[47,22,31,22],[47,23,31,23],[47,27,31,27],[47,29,31,29],[47,33,31,33],[47,34,31,34],[49,2,33,0],[50,0,34,0],[51,0,35,0],[52,0,36,0],[53,0,37,0],[54,0,38,0],[55,0,39,0],[56,0,40,0],[57,0,41,0],[58,0,42,0],[59,0,43,0],[60,2,44,0],[60,6,44,6,"onLCP"],[60,11,44,11],[60,14,44,14],[60,23,44,14,"onLCP"],[60,24,44,15,"onReport"],[60,32,44,23],[60,34,44,39],[61,4,44,39],[61,8,44,25,"opts"],[61,12,44,29],[61,15,44,29,"arguments"],[61,24,44,29],[61,25,44,29,"length"],[61,31,44,29],[61,39,44,29,"arguments"],[61,48,44,29],[61,56,44,29,"undefined"],[61,65,44,29],[61,68,44,29,"arguments"],[61,77,44,29],[61,83,44,32],[61,84,44,33],[61,85,44,34],[62,4,45,2],[62,8,45,2,"whenActivated"],[62,27,45,15],[62,28,45,15,"whenActivated"],[62,41,45,15],[62,43,45,16],[62,49,45,22],[63,6,46,4],[63,10,46,10,"visibilityWatcher"],[63,27,46,27],[63,30,46,30],[63,34,46,30,"getVisibilityWatcher"],[63,60,46,50],[63,61,46,50,"getVisibilityWatcher"],[63,81,46,50],[63,83,46,51],[63,84,46,52],[64,6,47,4],[64,10,47,10,"metric"],[64,16,47,16],[64,19,47,19],[64,23,47,19,"initMetric"],[64,39,47,29],[64,40,47,29,"initMetric"],[64,50,47,29],[64,52,47,30],[64,57,47,35],[64,58,47,36],[65,6,48,4],[65,10,48,8,"report"],[65,16,48,14],[66,6,50,4],[66,10,50,10,"lcpEntryManager"],[66,25,50,25],[66,28,50,28],[66,32,50,28,"initUnique"],[66,48,50,38],[66,49,50,38,"initUnique"],[66,59,50,38],[66,61,50,39,"opts"],[66,65,50,43],[66,67,50,45,"LCPEntryManager"],[66,88,50,60],[66,89,50,60,"LCPEntryManager"],[66,104,50,60],[66,105,50,61],[67,6,52,4],[67,10,52,10,"handleEntries"],[67,23,52,23],[67,26,52,27,"entries"],[67,33,52,34],[67,37,52,39],[68,8,53,6],[69,8,54,6],[70,8,55,6],[70,12,55,10],[70,13,55,11,"opts"],[70,17,55,15],[70,18,55,16,"reportAllChanges"],[70,34,55,32],[70,36,55,34],[71,10,56,8],[72,10,57,8,"entries"],[72,17,57,15],[72,20,57,18,"entries"],[72,27,57,25],[72,28,57,26,"slice"],[72,33,57,31],[72,34,57,32],[72,35,57,33],[72,36,57,34],[72,37,57,35],[73,8,58,6],[74,8,60,6],[74,13,60,11],[74,17,60,17,"entry"],[74,22,60,22],[74,26,60,26,"entries"],[74,33,60,33],[74,35,60,35],[75,10,61,8,"lcpEntryManager"],[75,25,61,23],[75,26,61,24,"_processEntry"],[75,39,61,37],[75,40,61,38,"entry"],[75,45,61,43],[75,46,61,44],[77,10,63,8],[78,10,64,8],[78,14,64,12,"entry"],[78,19,64,17],[78,20,64,18,"startTime"],[78,29,64,27],[78,32,64,30,"visibilityWatcher"],[78,49,64,47],[78,50,64,48,"firstHiddenTime"],[78,65,64,63],[78,67,64,65],[79,12,65,10],[80,12,66,10],[81,12,67,10],[82,12,68,10],[83,12,69,10],[84,12,70,10],[85,12,71,10,"metric"],[85,18,71,16],[85,19,71,17,"value"],[85,24,71,22],[85,27,71,25,"Math"],[85,31,71,29],[85,32,71,30,"max"],[85,35,71,33],[85,36,71,34,"entry"],[85,41,71,39],[85,42,71,40,"startTime"],[85,51,71,49],[85,54,71,52],[85,58,71,52,"getActivationStart"],[85,82,71,70],[85,83,71,70,"getActivationStart"],[85,101,71,70],[85,103,71,71],[85,104,71,72],[85,106,71,74],[85,107,71,75],[85,108,71,76],[86,12,72,10,"metric"],[86,18,72,16],[86,19,72,17,"entries"],[86,26,72,24],[86,29,72,27],[86,30,72,28,"entry"],[86,35,72,33],[86,36,72,34],[87,12,73,10,"report"],[87,18,73,16],[87,19,73,17],[87,20,73,18],[88,10,74,8],[89,8,75,6],[90,6,76,4],[90,7,76,5],[91,6,78,4],[91,10,78,10,"po"],[91,12,78,12],[91,15,78,15],[91,19,78,15,"observe"],[91,32,78,22],[91,33,78,22,"observe"],[91,40,78,22],[91,42,78,23],[91,68,78,49],[91,70,78,51,"handleEntries"],[91,83,78,64],[91,84,78,65],[92,6,80,4],[92,10,80,8,"po"],[92,12,80,10],[92,14,80,12],[93,8,81,6,"report"],[93,14,81,12],[93,17,81,15],[93,21,81,15,"bindReporter"],[93,39,81,27],[93,40,81,27,"bindReporter"],[93,52,81,27],[93,54,81,28,"onReport"],[93,62,81,36],[93,64,81,38,"metric"],[93,70,81,44],[93,72,81,46,"LCPThresholds"],[93,85,81,59],[93,87,81,61,"opts"],[93,91,81,65],[93,92,81,66,"reportAllChanges"],[93,108,81,82],[93,109,81,83],[95,8,83,6],[96,8,84,6],[97,8,85,6],[97,12,85,12,"stopListening"],[97,25,85,25],[97,28,85,28],[97,32,85,28,"runOnce"],[97,45,85,35],[97,46,85,35,"runOnce"],[97,53,85,35],[97,55,85,36],[97,61,85,42],[98,10,86,8,"handleEntries"],[98,23,86,21],[98,24,86,22,"po"],[98,26,86,24],[98,27,86,25,"takeRecords"],[98,38,86,36],[98,39,86,37],[98,40,86,39],[98,41,86,40],[99,10,87,8,"po"],[99,12,87,10],[99,13,87,11,"disconnect"],[99,23,87,21],[99,24,87,22],[99,25,87,23],[100,10,88,8,"report"],[100,16,88,14],[100,17,88,15],[100,21,88,19],[100,22,88,20],[101,8,89,6],[101,9,89,7],[101,10,89,8],[103,8,91,6],[104,8,92,6],[105,8,93,6],[105,12,93,12,"stopListeningWrapper"],[105,32,93,32],[105,35,93,36,"event"],[105,40,93,41],[105,44,93,46],[106,10,94,8],[106,14,94,12,"event"],[106,19,94,17],[106,20,94,18,"isTrusted"],[106,29,94,27],[106,31,94,29],[107,12,95,10],[108,12,96,10],[109,12,97,10],[110,12,98,10],[110,16,98,10,"whenIdleOrHidden"],[110,38,98,26],[110,39,98,26,"whenIdleOrHidden"],[110,55,98,26],[110,57,98,27,"stopListening"],[110,70,98,40],[110,71,98,41],[111,12,99,10],[111,16,99,10,"removePageListener"],[111,37,99,28],[111,38,99,28,"removePageListener"],[111,56,99,28],[111,58,99,29,"event"],[111,63,99,34],[111,64,99,35,"type"],[111,68,99,39],[111,70,99,41,"stopListeningWrapper"],[111,90,99,61],[111,92,99,63],[112,14,100,12,"capture"],[112,21,100,19],[112,23,100,21],[113,12,101,10],[113,13,101,11],[113,14,101,12],[114,10,102,8],[115,8,103,6],[115,9,103,7],[117,8,105,6],[118,8,106,6],[119,8,107,6],[120,8,108,6],[121,8,109,6],[121,13,109,11],[121,17,109,17,"type"],[121,21,109,21],[121,25,109,25],[121,26,109,26],[121,35,109,35],[121,37,109,37],[121,44,109,44],[121,46,109,46],[121,64,109,64],[121,65,109,65],[121,67,109,67],[122,10,110,8],[122,14,110,8,"addPageListener"],[122,35,110,23],[122,36,110,23,"addPageListener"],[122,51,110,23],[122,53,110,24,"type"],[122,57,110,28],[122,59,110,30,"stopListeningWrapper"],[122,79,110,50],[122,81,110,52],[123,12,111,10,"capture"],[123,19,111,17],[123,21,111,19],[124,10,112,8],[124,11,112,9],[124,12,112,10],[125,8,113,6],[126,6,114,4],[127,4,115,2],[127,5,115,3],[127,6,115,4],[128,2,116,0],[128,3,116,1],[129,0,116,2],[129,3]],"functionMap":{"names":["<global>","onLCP","whenActivated$argument_0","handleEntries","runOnce$argument_0","stopListeningWrapper"],"mappings":"AAA;cC2C;gBCC;0BCO;KDwB;oCES;OFI;mCGI;OHU;GDY;CDC"},"hasCjsExports":false},"type":"js/module"}]}