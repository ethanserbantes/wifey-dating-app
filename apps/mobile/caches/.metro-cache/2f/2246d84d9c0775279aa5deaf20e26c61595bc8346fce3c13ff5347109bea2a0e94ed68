{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.UniqueOperationTypesRule = UniqueOperationTypesRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0], \"../../error/GraphQLError.mjs\");\n  /**\n   * Unique operation types\n   *\n   * A GraphQL document is only valid if it has only one type per operation.\n   */\n  function UniqueOperationTypesRule(context) {\n    var schema = context.getSchema();\n    var definedOperationTypes = Object.create(null);\n    var existingOperationTypes = schema ? {\n      query: schema.getQueryType(),\n      mutation: schema.getMutationType(),\n      subscription: schema.getSubscriptionType()\n    } : {};\n    return {\n      SchemaDefinition: checkOperationTypes,\n      SchemaExtension: checkOperationTypes\n    };\n    function checkOperationTypes(node) {\n      var _node$operationTypes;\n\n      // See: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      var operationTypesNodes = (_node$operationTypes = node.operationTypes) !== null && _node$operationTypes !== void 0 ? _node$operationTypes : [];\n      for (var operationType of operationTypesNodes) {\n        var operation = operationType.operation;\n        var alreadyDefinedOperationType = definedOperationTypes[operation];\n        if (existingOperationTypes[operation]) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Type for ${operation} already defined in the schema. It cannot be redefined.`, {\n            nodes: operationType\n          }));\n        } else if (alreadyDefinedOperationType) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`There can be only one ${operation} type in schema.`, {\n            nodes: [alreadyDefinedOperationType, operationType]\n          }));\n        } else {\n          definedOperationTypes[operation] = operationType;\n        }\n      }\n      return false;\n    }\n  }\n});","lineCount":51,"map":[[7,2,8,0,"exports"],[7,9,8,0],[7,10,8,0,"UniqueOperationTypesRule"],[7,34,8,0],[7,37,8,0,"UniqueOperationTypesRule"],[7,61,8,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,2,8,7],[14,11,8,16,"UniqueOperationTypesRule"],[14,35,8,40,"UniqueOperationTypesRule"],[14,36,8,41,"context"],[14,43,8,48],[14,45,8,50],[15,4,9,2],[15,8,9,8,"schema"],[15,14,9,14],[15,17,9,17,"context"],[15,24,9,24],[15,25,9,25,"getSchema"],[15,34,9,34],[15,35,9,35],[15,36,9,36],[16,4,10,2],[16,8,10,8,"definedOperationTypes"],[16,29,10,29],[16,32,10,32,"Object"],[16,38,10,38],[16,39,10,39,"create"],[16,45,10,45],[16,46,10,46],[16,50,10,50],[16,51,10,51],[17,4,11,2],[17,8,11,8,"existingOperationTypes"],[17,30,11,30],[17,33,11,33,"schema"],[17,39,11,39],[17,42,12,6],[18,6,13,8,"query"],[18,11,13,13],[18,13,13,15,"schema"],[18,19,13,21],[18,20,13,22,"getQueryType"],[18,32,13,34],[18,33,13,35],[18,34,13,36],[19,6,14,8,"mutation"],[19,14,14,16],[19,16,14,18,"schema"],[19,22,14,24],[19,23,14,25,"getMutationType"],[19,38,14,40],[19,39,14,41],[19,40,14,42],[20,6,15,8,"subscription"],[20,18,15,20],[20,20,15,22,"schema"],[20,26,15,28],[20,27,15,29,"getSubscriptionType"],[20,46,15,48],[20,47,15,49],[21,4,16,6],[21,5,16,7],[21,8,17,6],[21,9,17,7],[21,10,17,8],[22,4,18,2],[22,11,18,9],[23,6,19,4,"SchemaDefinition"],[23,22,19,20],[23,24,19,22,"checkOperationTypes"],[23,43,19,41],[24,6,20,4,"SchemaExtension"],[24,21,20,19],[24,23,20,21,"checkOperationTypes"],[25,4,21,2],[25,5,21,3],[26,4,23,2],[26,13,23,11,"checkOperationTypes"],[26,32,23,30,"checkOperationTypes"],[26,33,23,31,"node"],[26,37,23,35],[26,39,23,37],[27,6,24,4],[27,10,24,8,"_node$operationTypes"],[27,30,24,28],[29,6,26,4],[31,6,28,4],[32,6,29,4],[32,10,29,10,"operationTypesNodes"],[32,29,29,29],[32,32,30,6],[32,33,30,7,"_node$operationTypes"],[32,53,30,27],[32,56,30,30,"node"],[32,60,30,34],[32,61,30,35,"operationTypes"],[32,75,30,49],[32,81,30,55],[32,85,30,59],[32,89,31,6,"_node$operationTypes"],[32,109,31,26],[32,114,31,31],[32,119,31,36],[32,120,31,37],[32,123,32,10,"_node$operationTypes"],[32,143,32,30],[32,146,33,10],[32,148,33,12],[33,6,35,4],[33,11,35,9],[33,15,35,15,"operationType"],[33,28,35,28],[33,32,35,32,"operationTypesNodes"],[33,51,35,51],[33,53,35,53],[34,8,36,6],[34,12,36,12,"operation"],[34,21,36,21],[34,24,36,24,"operationType"],[34,37,36,37],[34,38,36,38,"operation"],[34,47,36,47],[35,8,37,6],[35,12,37,12,"alreadyDefinedOperationType"],[35,39,37,39],[35,42,37,42,"definedOperationTypes"],[35,63,37,63],[35,64,37,64,"operation"],[35,73,37,73],[35,74,37,74],[36,8,39,6],[36,12,39,10,"existingOperationTypes"],[36,34,39,32],[36,35,39,33,"operation"],[36,44,39,42],[36,45,39,43],[36,47,39,45],[37,10,40,8,"context"],[37,17,40,15],[37,18,40,16,"reportError"],[37,29,40,27],[37,30,41,10],[37,34,41,14,"GraphQLError"],[37,55,41,26],[37,56,41,26,"GraphQLError"],[37,68,41,26],[37,69,42,12],[37,81,42,24,"operation"],[37,90,42,33],[37,147,42,90],[37,149,43,12],[38,12,44,14,"nodes"],[38,17,44,19],[38,19,44,21,"operationType"],[39,10,45,12],[39,11,46,10],[39,12,47,8],[39,13,47,9],[40,8,48,6],[40,9,48,7],[40,15,48,13],[40,19,48,17,"alreadyDefinedOperationType"],[40,46,48,44],[40,48,48,46],[41,10,49,8,"context"],[41,17,49,15],[41,18,49,16,"reportError"],[41,29,49,27],[41,30,50,10],[41,34,50,14,"GraphQLError"],[41,55,50,26],[41,56,50,26,"GraphQLError"],[41,68,50,26],[41,69,51,12],[41,94,51,37,"operation"],[41,103,51,46],[41,121,51,64],[41,123,52,12],[42,12,53,14,"nodes"],[42,17,53,19],[42,19,53,21],[42,20,53,22,"alreadyDefinedOperationType"],[42,47,53,49],[42,49,53,51,"operationType"],[42,62,53,64],[43,10,54,12],[43,11,55,10],[43,12,56,8],[43,13,56,9],[44,8,57,6],[44,9,57,7],[44,15,57,13],[45,10,58,8,"definedOperationTypes"],[45,31,58,29],[45,32,58,30,"operation"],[45,41,58,39],[45,42,58,40],[45,45,58,43,"operationType"],[45,58,58,56],[46,8,59,6],[47,6,60,4],[48,6,62,4],[48,13,62,11],[48,18,62,16],[49,4,63,2],[50,2,64,0],[51,0,64,1],[51,3]],"functionMap":{"names":["<global>","UniqueOperationTypesRule","checkOperationTypes"],"mappings":"AAA;OCO;ECe;GDwC;CDC"},"hasCjsExports":false},"type":"js/module"}]}