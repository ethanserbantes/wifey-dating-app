{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOnboardingStepValidation = useOnboardingStepValidation;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[1], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  function useOnboardingStepValidation({\n    step,\n    setStep,\n    totalSteps,\n    heightInches,\n    ageMin,\n    ageMax,\n    bornIn,\n    setBornIn,\n    jobTitle,\n    setJobTitle,\n    company,\n    setCompany,\n    primaryPhotoUrl,\n    about,\n    interests,\n    saveMutation,\n    router,\n    busy,\n    skippedSteps,\n    setSkippedSteps\n  }) {\n    _s();\n    const goNext = (0, _react.useCallback)(() => {\n      setStep(s => Math.min(totalSteps - 1, s + 1));\n    }, [setStep, totalSteps]);\n    const skipCurrentStep = (0, _react.useCallback)(() => {\n      if (busy) return;\n      setSkippedSteps(prev => {\n        const safePrev = prev && typeof prev === \"object\" ? prev : {};\n        return {\n          ...safePrev,\n          [step]: true\n        };\n      });\n      if (step >= totalSteps - 1) {\n        // last screen skip = finish\n        saveMutation.mutate({\n          skippedSteps: {\n            ...(skippedSteps || {}),\n            [step]: true\n          }\n        }, {\n          onSuccess: () => {\n            // After finishing onboarding, ask for notifications + location.\n            // (Split into two screens: notifications first, then location.)\n            router.replace(\"/onboarding/notifications\");\n          },\n          onError: e => {\n            console.error(e);\n            Alert.default.alert(\"Could not save\", e?.message || \"Please try again.\");\n          }\n        });\n        return;\n      }\n      goNext();\n    }, [busy, goNext, router, saveMutation, setSkippedSteps, skippedSteps, step, totalSteps]);\n    const validateAndNext = (0, _react.useCallback)(() => {\n      if (busy) return;\n\n      // Only required: height + profile photo.\n      if (step === 0) {\n        if (!heightInches) {\n          Alert.default.alert(\"Missing info\", \"Please select your height\");\n          return;\n        }\n        goNext();\n        return;\n      }\n      if (step === 4) {\n        if (!primaryPhotoUrl) {\n          Alert.default.alert(\"Required\", \"Please add a profile photo to continue\");\n          return;\n        }\n        goNext();\n        return;\n      }\n\n      // Optional screens: we still lightly clean up input if present, but we do not block.\n      if (step === 2) {\n        const trimmed = String(bornIn || \"\").trim();\n        if (trimmed) {\n          setBornIn(trimmed);\n        }\n        goNext();\n        return;\n      }\n      if (step === 3) {\n        const jt = String(jobTitle || \"\").trim();\n        const co = String(company || \"\").trim();\n        if (jt) setJobTitle(jt);\n        if (co) setCompany(co);\n        goNext();\n        return;\n      }\n      if (step < totalSteps - 1) {\n        goNext();\n        return;\n      }\n\n      // Last step: save and finish (About + interests are optional now)\n      saveMutation.mutate({\n        skippedSteps\n      }, {\n        onSuccess: () => {\n          // After finishing onboarding, ask for notifications + location.\n          // (Split into two screens: notifications first, then location.)\n          router.replace(\"/onboarding/notifications\");\n        },\n        onError: e => {\n          console.error(e);\n          Alert.default.alert(\"Could not save\", e?.message || \"Please try again.\");\n        }\n      });\n    }, [about, ageMax, ageMin, bornIn, busy, company, goNext, heightInches, interests, jobTitle, primaryPhotoUrl, router, saveMutation, setBornIn, setCompany, setJobTitle, skippedSteps, step, totalSteps]);\n    return {\n      validateAndNext,\n      skipCurrentStep\n    };\n  }\n  _s(useOnboardingStepValidation, \"cwkO2HVnL3JWGE+eNGKw0eTgVSc=\");\n});","lineCount":138,"map":[[13,2,4,0,"exports"],[13,9,4,0],[13,10,4,0,"useOnboardingStepValidation"],[13,37,4,0],[13,40,4,0,"useOnboardingStepValidation"],[13,67,4,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,1,36],[15,6,1,36,"_reactNativeWebDistExportsAlert"],[15,37,1,36],[15,40,1,36,"require"],[15,47,1,36],[15,48,1,36,"_dependencyMap"],[15,62,1,36],[16,2,1,36],[16,6,1,36,"Alert"],[16,11,1,36],[16,14,1,36,"_interopDefault"],[16,29,1,36],[16,30,1,36,"_reactNativeWebDistExportsAlert"],[16,61,1,36],[17,2,4,7],[17,11,4,16,"useOnboardingStepValidation"],[17,38,4,43,"useOnboardingStepValidation"],[17,39,4,44],[18,4,5,2,"step"],[18,8,5,6],[19,4,6,2,"setStep"],[19,11,6,9],[20,4,7,2,"totalSteps"],[20,14,7,12],[21,4,8,2,"heightInches"],[21,16,8,14],[22,4,9,2,"ageMin"],[22,10,9,8],[23,4,10,2,"ageMax"],[23,10,10,8],[24,4,11,2,"bornIn"],[24,10,11,8],[25,4,12,2,"setBornIn"],[25,13,12,11],[26,4,13,2,"jobTitle"],[26,12,13,10],[27,4,14,2,"setJobTitle"],[27,15,14,13],[28,4,15,2,"company"],[28,11,15,9],[29,4,16,2,"setCompany"],[29,14,16,12],[30,4,17,2,"primaryPhotoUrl"],[30,19,17,17],[31,4,18,2,"about"],[31,9,18,7],[32,4,19,2,"interests"],[32,13,19,11],[33,4,20,2,"saveMutation"],[33,16,20,14],[34,4,21,2,"router"],[34,10,21,8],[35,4,22,2,"busy"],[35,8,22,6],[36,4,23,2,"skippedSteps"],[36,16,23,14],[37,4,24,2,"setSkippedSteps"],[38,2,25,0],[38,3,25,1],[38,5,25,3],[39,4,25,3,"_s"],[39,6,25,3],[40,4,26,2],[40,10,26,8,"goNext"],[40,16,26,14],[40,19,26,17],[40,23,26,17,"useCallback"],[40,29,26,28],[40,30,26,28,"useCallback"],[40,41,26,28],[40,43,26,29],[40,49,26,35],[41,6,27,4,"setStep"],[41,13,27,11],[41,14,27,13,"s"],[41,15,27,14],[41,19,27,19,"Math"],[41,23,27,23],[41,24,27,24,"min"],[41,27,27,27],[41,28,27,28,"totalSteps"],[41,38,27,38],[41,41,27,41],[41,42,27,42],[41,44,27,44,"s"],[41,45,27,45],[41,48,27,48],[41,49,27,49],[41,50,27,50],[41,51,27,51],[42,4,28,2],[42,5,28,3],[42,7,28,5],[42,8,28,6,"setStep"],[42,15,28,13],[42,17,28,15,"totalSteps"],[42,27,28,25],[42,28,28,26],[42,29,28,27],[43,4,30,2],[43,10,30,8,"skipCurrentStep"],[43,25,30,23],[43,28,30,26],[43,32,30,26,"useCallback"],[43,38,30,37],[43,39,30,37,"useCallback"],[43,50,30,37],[43,52,30,38],[43,58,30,44],[44,6,31,4],[44,10,31,8,"busy"],[44,14,31,12],[44,16,31,14],[45,6,33,4,"setSkippedSteps"],[45,21,33,19],[45,22,33,21,"prev"],[45,26,33,25],[45,30,33,30],[46,8,34,6],[46,14,34,12,"safePrev"],[46,22,34,20],[46,25,34,23,"prev"],[46,29,34,27],[46,33,34,31],[46,40,34,38,"prev"],[46,44,34,42],[46,49,34,47],[46,57,34,55],[46,60,34,58,"prev"],[46,64,34,62],[46,67,34,65],[46,68,34,66],[46,69,34,67],[47,8,35,6],[47,15,35,13],[48,10,35,15],[48,13,35,18,"safePrev"],[48,21,35,26],[49,10,35,28],[49,11,35,29,"step"],[49,15,35,33],[49,18,35,36],[50,8,35,41],[50,9,35,42],[51,6,36,4],[51,7,36,5],[51,8,36,6],[52,6,38,4],[52,10,38,8,"step"],[52,14,38,12],[52,18,38,16,"totalSteps"],[52,28,38,26],[52,31,38,29],[52,32,38,30],[52,34,38,32],[53,8,39,6],[54,8,40,6,"saveMutation"],[54,20,40,18],[54,21,40,19,"mutate"],[54,27,40,25],[54,28,41,8],[55,10,41,10,"skippedSteps"],[55,22,41,22],[55,24,41,24],[56,12,41,26],[56,16,41,30,"skippedSteps"],[56,28,41,42],[56,32,41,46],[56,33,41,47],[56,34,41,48],[56,35,41,49],[57,12,41,51],[57,13,41,52,"step"],[57,17,41,56],[57,20,41,59],[58,10,41,64],[59,8,41,66],[59,9,41,67],[59,11,42,8],[60,10,43,10,"onSuccess"],[60,19,43,19],[60,21,43,21,"onSuccess"],[60,22,43,21],[60,27,43,27],[61,12,44,12],[62,12,45,12],[63,12,46,12,"router"],[63,18,46,18],[63,19,46,19,"replace"],[63,26,46,26],[63,27,46,27],[63,54,46,54],[63,55,46,55],[64,10,47,10],[64,11,47,11],[65,10,48,10,"onError"],[65,17,48,17],[65,19,48,20,"e"],[65,20,48,21],[65,24,48,26],[66,12,49,12,"console"],[66,19,49,19],[66,20,49,20,"error"],[66,25,49,25],[66,26,49,26,"e"],[66,27,49,27],[66,28,49,28],[67,12,50,12,"Alert"],[67,17,50,17],[67,18,50,17,"default"],[67,25,50,17],[67,26,50,18,"alert"],[67,31,50,23],[67,32,50,24],[67,48,50,40],[67,50,50,42,"e"],[67,51,50,43],[67,53,50,45,"message"],[67,60,50,52],[67,64,50,56],[67,83,50,75],[67,84,50,76],[68,10,51,10],[69,8,52,8],[69,9,53,6],[69,10,53,7],[70,8,54,6],[71,6,55,4],[72,6,57,4,"goNext"],[72,12,57,10],[72,13,57,11],[72,14,57,12],[73,4,58,2],[73,5,58,3],[73,7,58,5],[73,8,59,4,"busy"],[73,12,59,8],[73,14,60,4,"goNext"],[73,20,60,10],[73,22,61,4,"router"],[73,28,61,10],[73,30,62,4,"saveMutation"],[73,42,62,16],[73,44,63,4,"setSkippedSteps"],[73,59,63,19],[73,61,64,4,"skippedSteps"],[73,73,64,16],[73,75,65,4,"step"],[73,79,65,8],[73,81,66,4,"totalSteps"],[73,91,66,14],[73,92,67,3],[73,93,67,4],[74,4,69,2],[74,10,69,8,"validateAndNext"],[74,25,69,23],[74,28,69,26],[74,32,69,26,"useCallback"],[74,38,69,37],[74,39,69,37,"useCallback"],[74,50,69,37],[74,52,69,38],[74,58,69,44],[75,6,70,4],[75,10,70,8,"busy"],[75,14,70,12],[75,16,70,14],[77,6,72,4],[78,6,73,4],[78,10,73,8,"step"],[78,14,73,12],[78,19,73,17],[78,20,73,18],[78,22,73,20],[79,8,74,6],[79,12,74,10],[79,13,74,11,"heightInches"],[79,25,74,23],[79,27,74,25],[80,10,75,8,"Alert"],[80,15,75,13],[80,16,75,13,"default"],[80,23,75,13],[80,24,75,14,"alert"],[80,29,75,19],[80,30,75,20],[80,44,75,34],[80,46,75,36],[80,73,75,63],[80,74,75,64],[81,10,76,8],[82,8,77,6],[83,8,78,6,"goNext"],[83,14,78,12],[83,15,78,13],[83,16,78,14],[84,8,79,6],[85,6,80,4],[86,6,82,4],[86,10,82,8,"step"],[86,14,82,12],[86,19,82,17],[86,20,82,18],[86,22,82,20],[87,8,83,6],[87,12,83,10],[87,13,83,11,"primaryPhotoUrl"],[87,28,83,26],[87,30,83,28],[88,10,84,8,"Alert"],[88,15,84,13],[88,16,84,13,"default"],[88,23,84,13],[88,24,84,14,"alert"],[88,29,84,19],[88,30,84,20],[88,40,84,30],[88,42,84,32],[88,82,84,72],[88,83,84,73],[89,10,85,8],[90,8,86,6],[91,8,87,6,"goNext"],[91,14,87,12],[91,15,87,13],[91,16,87,14],[92,8,88,6],[93,6,89,4],[95,6,91,4],[96,6,92,4],[96,10,92,8,"step"],[96,14,92,12],[96,19,92,17],[96,20,92,18],[96,22,92,20],[97,8,93,6],[97,14,93,12,"trimmed"],[97,21,93,19],[97,24,93,22,"String"],[97,30,93,28],[97,31,93,29,"bornIn"],[97,37,93,35],[97,41,93,39],[97,43,93,41],[97,44,93,42],[97,45,93,43,"trim"],[97,49,93,47],[97,50,93,48],[97,51,93,49],[98,8,94,6],[98,12,94,10,"trimmed"],[98,19,94,17],[98,21,94,19],[99,10,95,8,"setBornIn"],[99,19,95,17],[99,20,95,18,"trimmed"],[99,27,95,25],[99,28,95,26],[100,8,96,6],[101,8,97,6,"goNext"],[101,14,97,12],[101,15,97,13],[101,16,97,14],[102,8,98,6],[103,6,99,4],[104,6,101,4],[104,10,101,8,"step"],[104,14,101,12],[104,19,101,17],[104,20,101,18],[104,22,101,20],[105,8,102,6],[105,14,102,12,"jt"],[105,16,102,14],[105,19,102,17,"String"],[105,25,102,23],[105,26,102,24,"jobTitle"],[105,34,102,32],[105,38,102,36],[105,40,102,38],[105,41,102,39],[105,42,102,40,"trim"],[105,46,102,44],[105,47,102,45],[105,48,102,46],[106,8,103,6],[106,14,103,12,"co"],[106,16,103,14],[106,19,103,17,"String"],[106,25,103,23],[106,26,103,24,"company"],[106,33,103,31],[106,37,103,35],[106,39,103,37],[106,40,103,38],[106,41,103,39,"trim"],[106,45,103,43],[106,46,103,44],[106,47,103,45],[107,8,104,6],[107,12,104,10,"jt"],[107,14,104,12],[107,16,104,14,"setJobTitle"],[107,27,104,25],[107,28,104,26,"jt"],[107,30,104,28],[107,31,104,29],[108,8,105,6],[108,12,105,10,"co"],[108,14,105,12],[108,16,105,14,"setCompany"],[108,26,105,24],[108,27,105,25,"co"],[108,29,105,27],[108,30,105,28],[109,8,106,6,"goNext"],[109,14,106,12],[109,15,106,13],[109,16,106,14],[110,8,107,6],[111,6,108,4],[112,6,110,4],[112,10,110,8,"step"],[112,14,110,12],[112,17,110,15,"totalSteps"],[112,27,110,25],[112,30,110,28],[112,31,110,29],[112,33,110,31],[113,8,111,6,"goNext"],[113,14,111,12],[113,15,111,13],[113,16,111,14],[114,8,112,6],[115,6,113,4],[117,6,115,4],[118,6,116,4,"saveMutation"],[118,18,116,16],[118,19,116,17,"mutate"],[118,25,116,23],[118,26,117,6],[119,8,117,8,"skippedSteps"],[120,6,117,21],[120,7,117,22],[120,9,118,6],[121,8,119,8,"onSuccess"],[121,17,119,17],[121,19,119,19,"onSuccess"],[121,20,119,19],[121,25,119,25],[122,10,120,10],[123,10,121,10],[124,10,122,10,"router"],[124,16,122,16],[124,17,122,17,"replace"],[124,24,122,24],[124,25,122,25],[124,52,122,52],[124,53,122,53],[125,8,123,8],[125,9,123,9],[126,8,124,8,"onError"],[126,15,124,15],[126,17,124,18,"e"],[126,18,124,19],[126,22,124,24],[127,10,125,10,"console"],[127,17,125,17],[127,18,125,18,"error"],[127,23,125,23],[127,24,125,24,"e"],[127,25,125,25],[127,26,125,26],[128,10,126,10,"Alert"],[128,15,126,15],[128,16,126,15,"default"],[128,23,126,15],[128,24,126,16,"alert"],[128,29,126,21],[128,30,126,22],[128,46,126,38],[128,48,126,40,"e"],[128,49,126,41],[128,51,126,43,"message"],[128,58,126,50],[128,62,126,54],[128,81,126,73],[128,82,126,74],[129,8,127,8],[130,6,128,6],[130,7,129,4],[130,8,129,5],[131,4,130,2],[131,5,130,3],[131,7,130,5],[131,8,131,4,"about"],[131,13,131,9],[131,15,132,4,"ageMax"],[131,21,132,10],[131,23,133,4,"ageMin"],[131,29,133,10],[131,31,134,4,"bornIn"],[131,37,134,10],[131,39,135,4,"busy"],[131,43,135,8],[131,45,136,4,"company"],[131,52,136,11],[131,54,137,4,"goNext"],[131,60,137,10],[131,62,138,4,"heightInches"],[131,74,138,16],[131,76,139,4,"interests"],[131,85,139,13],[131,87,140,4,"jobTitle"],[131,95,140,12],[131,97,141,4,"primaryPhotoUrl"],[131,112,141,19],[131,114,142,4,"router"],[131,120,142,10],[131,122,143,4,"saveMutation"],[131,134,143,16],[131,136,144,4,"setBornIn"],[131,145,144,13],[131,147,145,4,"setCompany"],[131,157,145,14],[131,159,146,4,"setJobTitle"],[131,170,146,15],[131,172,147,4,"skippedSteps"],[131,184,147,16],[131,186,148,4,"step"],[131,190,148,8],[131,192,149,4,"totalSteps"],[131,202,149,14],[131,203,150,3],[131,204,150,4],[132,4,152,2],[132,11,152,9],[133,6,152,11,"validateAndNext"],[133,21,152,26],[134,6,152,28,"skipCurrentStep"],[135,4,152,44],[135,5,152,45],[136,2,153,0],[137,2,153,1,"_s"],[137,4,153,1],[137,5,4,16,"useOnboardingStepValidation"],[137,32,4,43],[138,0,4,43],[138,3]],"functionMap":{"names":["<global>","useOnboardingStepValidation","goNext","setStep$argument_0","skipCurrentStep","setSkippedSteps$argument_0","saveMutation.mutate$argument_1.onSuccess","saveMutation.mutate$argument_1.onError","validateAndNext"],"mappings":"AAA;OCG;6BCsB;YCC,sCD;GDC;sCGE;oBCG;KDG;qBEO;WFI;mBGC;WHG;GHO;sCOW;mBFkD;SEI;iBDC;SCG;GPG;CDuB"},"hasCjsExports":false},"type":"js/module"}]}