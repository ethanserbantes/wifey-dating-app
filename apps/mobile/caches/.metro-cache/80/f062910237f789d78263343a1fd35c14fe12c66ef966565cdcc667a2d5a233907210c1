{"dependencies":[{"name":"./isPromise.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"lnoQknESycRqP32vMjwJ25tg+AI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.promiseReduce = promiseReduce;\n  var _isPromiseMjs = require(_dependencyMap[0], \"./isPromise.mjs\");\n  /**\n   * Similar to Array.prototype.reduce(), however the reducing callback may return\n   * a Promise, in which case reduction will continue after each promise resolves.\n   *\n   * If the callback does not return a Promise, then this function will also not\n   * return a Promise.\n   */\n  function promiseReduce(values, callbackFn, initialValue) {\n    var accumulator = initialValue;\n    var _loop = function (value) {\n      accumulator = (0, _isPromiseMjs.isPromise)(accumulator) ? accumulator.then(resolved => callbackFn(resolved, value)) : callbackFn(accumulator, value);\n    };\n    for (var value of values) {\n      _loop(value);\n    }\n    return accumulator;\n  }\n});","lineCount":26,"map":[[7,2,10,0,"exports"],[7,9,10,0],[7,10,10,0,"promiseReduce"],[7,23,10,0],[7,26,10,0,"promiseReduce"],[7,39,10,0],[8,2,1,0],[8,6,1,0,"_isPromiseMjs"],[8,19,1,0],[8,22,1,0,"require"],[8,29,1,0],[8,30,1,0,"_dependencyMap"],[8,44,1,0],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,2,10,7],[16,11,10,16,"promiseReduce"],[16,24,10,29,"promiseReduce"],[16,25,10,30,"values"],[16,31,10,36],[16,33,10,38,"callbackFn"],[16,43,10,48],[16,45,10,50,"initialValue"],[16,57,10,62],[16,59,10,64],[17,4,11,2],[17,8,11,6,"accumulator"],[17,19,11,17],[17,22,11,20,"initialValue"],[17,34,11,32],[18,4,11,33],[18,8,11,33,"_loop"],[18,13,11,33],[18,25,11,33,"_loop"],[18,26,11,33,"value"],[18,31,11,33],[18,33,13,30],[19,6,14,4,"accumulator"],[19,17,14,15],[19,20,14,18],[19,24,14,18,"isPromise"],[19,37,14,27],[19,38,14,27,"isPromise"],[19,47,14,27],[19,49,14,28,"accumulator"],[19,60,14,39],[19,61,14,40],[19,64,15,8,"accumulator"],[19,75,15,19],[19,76,15,20,"then"],[19,80,15,24],[19,81,15,26,"resolved"],[19,89,15,34],[19,93,15,39,"callbackFn"],[19,103,15,49],[19,104,15,50,"resolved"],[19,112,15,58],[19,114,15,60,"value"],[19,119,15,65],[19,120,15,66],[19,121,15,67],[19,124,16,8,"callbackFn"],[19,134,16,18],[19,135,16,19,"accumulator"],[19,146,16,30],[19,148,16,32,"value"],[19,153,16,37],[19,154,16,38],[20,4,17,2],[20,5,17,3],[21,4,13,2],[21,9,13,7],[21,13,13,13,"value"],[21,18,13,18],[21,22,13,22,"values"],[21,28,13,28],[22,6,13,28,"_loop"],[22,11,13,28],[22,12,13,28,"value"],[22,17,13,28],[23,4,13,28],[24,4,19,2],[24,11,19,9,"accumulator"],[24,22,19,20],[25,2,20,0],[26,0,20,1],[26,3]],"functionMap":{"names":["<global>","promiseReduce","accumulator.then$argument_0"],"mappings":"AAA;OCS;yBCK,yCD;CDK"},"hasCjsExports":false},"type":"js/module"}]}