{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":37,"index":84}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":85},"end":{"line":3,"column":47,"index":132}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useSubscriptionActions = useSubscriptionActions;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _reactNativePurchases = require(_dependencyMap[4], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  function useSubscriptionActions(isAvailable, error, refresh, goBack, alertTitle, hasSelectedTier, selectedPkg) {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      purchasing = _useState2[0],\n      setPurchasing = _useState2[1];\n    var onSubscribe = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      // If already has this tier, treat as \"Done\".\n      if (hasSelectedTier) {\n        goBack();\n        return;\n      }\n      if (!isAvailable) {\n        _reactNative.Alert.alert(alertTitle, error || \"Subscriptions are not available right now.\");\n        return;\n      }\n      if (!selectedPkg) {\n        _reactNative.Alert.alert(alertTitle, \"Please pick a plan.\");\n        return;\n      }\n      try {\n        setPurchasing(true);\n        yield Purchases.default.purchasePackage(selectedPkg);\n        yield refresh();\n        goBack();\n      } catch (e) {\n        var cancelled = e?.userCancelled || e?.code === \"PURCHASE_CANCELLED\";\n        if (cancelled) {\n          return;\n        }\n        console.error(e);\n        _reactNative.Alert.alert(alertTitle, \"Purchase failed. Please try again.\");\n      } finally {\n        setPurchasing(false);\n      }\n    }), [alertTitle, error, goBack, hasSelectedTier, isAvailable, refresh, selectedPkg]);\n    var onRestore = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!isAvailable) {\n        _reactNative.Alert.alert(alertTitle, error || \"Subscriptions are not available right now.\");\n        return;\n      }\n      try {\n        setPurchasing(true);\n        yield Purchases.default.restorePurchases();\n        yield refresh();\n        goBack();\n      } catch (e) {\n        console.error(e);\n        _reactNative.Alert.alert(alertTitle, \"Could not restore purchases.\");\n      } finally {\n        setPurchasing(false);\n      }\n    }), [alertTitle, error, goBack, isAvailable, refresh]);\n    return {\n      purchasing,\n      onSubscribe,\n      onRestore\n    };\n  }\n  _s(useSubscriptionActions, \"NNn7nUXjisxPv5OSI6Q05Eikp9Q=\");\n});","lineCount":82,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useSubscriptionActions"],[13,32,5,0],[13,35,5,0,"useSubscriptionActions"],[13,57,5,0],[14,2,84,1],[14,6,84,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,84,1],[14,45,84,1,"require"],[14,52,84,1],[14,53,84,1,"_dependencyMap"],[14,67,84,1],[15,2,84,1],[15,6,84,1,"_asyncToGenerator"],[15,23,84,1],[15,26,84,1,"_interopDefault"],[15,41,84,1],[15,42,84,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,84,1],[16,2,84,1],[16,6,84,1,"_babelRuntimeHelpersSlicedToArray"],[16,39,84,1],[16,42,84,1,"require"],[16,49,84,1],[16,50,84,1,"_dependencyMap"],[16,64,84,1],[17,2,84,1],[17,6,84,1,"_slicedToArray"],[17,20,84,1],[17,23,84,1,"_interopDefault"],[17,38,84,1],[17,39,84,1,"_babelRuntimeHelpersSlicedToArray"],[17,72,84,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNative"],[19,18,2,0],[19,21,2,0,"require"],[19,28,2,0],[19,29,2,0,"_dependencyMap"],[19,43,2,0],[20,2,3,0],[20,6,3,0,"_reactNativePurchases"],[20,27,3,0],[20,30,3,0,"require"],[20,37,3,0],[20,38,3,0,"_dependencyMap"],[20,52,3,0],[21,2,3,0],[21,6,3,0,"Purchases"],[21,15,3,0],[21,18,3,0,"_interopDefault"],[21,33,3,0],[21,34,3,0,"_reactNativePurchases"],[21,55,3,0],[22,2,5,7],[22,11,5,16,"useSubscriptionActions"],[22,33,5,38,"useSubscriptionActions"],[22,34,6,2,"isAvailable"],[22,45,6,13],[22,47,7,2,"error"],[22,52,7,7],[22,54,8,2,"refresh"],[22,61,8,9],[22,63,9,2,"goBack"],[22,69,9,8],[22,71,10,2,"alertTitle"],[22,81,10,12],[22,83,11,2,"hasSelectedTier"],[22,98,11,17],[22,100,12,2,"selectedPkg"],[22,111,12,13],[22,113,13,2],[23,4,13,2,"_s"],[23,6,13,2],[24,4,14,2],[24,8,14,2,"_useState"],[24,17,14,2],[24,20,14,38],[24,24,14,38,"useState"],[24,30,14,46],[24,31,14,46,"useState"],[24,39,14,46],[24,41,14,47],[24,46,14,52],[24,47,14,53],[25,6,14,53,"_useState2"],[25,16,14,53],[25,23,14,53,"_slicedToArray"],[25,37,14,53],[25,38,14,53,"default"],[25,45,14,53],[25,47,14,53,"_useState"],[25,56,14,53],[26,6,14,9,"purchasing"],[26,16,14,19],[26,19,14,19,"_useState2"],[26,29,14,19],[27,6,14,21,"setPurchasing"],[27,19,14,34],[27,22,14,34,"_useState2"],[27,32,14,34],[28,4,16,2],[28,8,16,8,"onSubscribe"],[28,19,16,19],[28,22,16,22],[28,26,16,22,"useCallback"],[28,32,16,33],[28,33,16,33,"useCallback"],[28,44,16,33],[28,63,16,33,"_asyncToGenerator"],[28,80,16,33],[28,81,16,33,"default"],[28,88,16,33],[28,90,16,34],[28,103,16,46],[29,6,17,4],[30,6,18,4],[30,10,18,8,"hasSelectedTier"],[30,25,18,23],[30,27,18,25],[31,8,19,6,"goBack"],[31,14,19,12],[31,15,19,13],[31,16,19,14],[32,8,20,6],[33,6,21,4],[34,6,23,4],[34,10,23,8],[34,11,23,9,"isAvailable"],[34,22,23,20],[34,24,23,22],[35,8,24,6,"Alert"],[35,20,24,11],[35,21,24,11,"Alert"],[35,26,24,11],[35,27,24,12,"alert"],[35,32,24,17],[35,33,25,8,"alertTitle"],[35,43,25,18],[35,45,26,8,"error"],[35,50,26,13],[35,54,26,17],[35,98,27,6],[35,99,27,7],[36,8,28,6],[37,6,29,4],[38,6,31,4],[38,10,31,8],[38,11,31,9,"selectedPkg"],[38,22,31,20],[38,24,31,22],[39,8,32,6,"Alert"],[39,20,32,11],[39,21,32,11,"Alert"],[39,26,32,11],[39,27,32,12,"alert"],[39,32,32,17],[39,33,32,18,"alertTitle"],[39,43,32,28],[39,45,32,30],[39,66,32,51],[39,67,32,52],[40,8,33,6],[41,6,34,4],[42,6,36,4],[42,10,36,8],[43,8,37,6,"setPurchasing"],[43,21,37,19],[43,22,37,20],[43,26,37,24],[43,27,37,25],[44,8,38,6],[44,14,38,12,"Purchases"],[44,23,38,21],[44,24,38,21,"default"],[44,31,38,21],[44,32,38,22,"purchasePackage"],[44,47,38,37],[44,48,38,38,"selectedPkg"],[44,59,38,49],[44,60,38,50],[45,8,39,6],[45,14,39,12,"refresh"],[45,21,39,19],[45,22,39,20],[45,23,39,21],[46,8,40,6,"goBack"],[46,14,40,12],[46,15,40,13],[46,16,40,14],[47,6,41,4],[47,7,41,5],[47,8,41,6],[47,15,41,13,"e"],[47,16,41,14],[47,18,41,16],[48,8,42,6],[48,12,42,12,"cancelled"],[48,21,42,21],[48,24,42,24,"e"],[48,25,42,25],[48,27,42,27,"userCancelled"],[48,40,42,40],[48,44,42,44,"e"],[48,45,42,45],[48,47,42,47,"code"],[48,51,42,51],[48,56,42,56],[48,76,42,76],[49,8,43,6],[49,12,43,10,"cancelled"],[49,21,43,19],[49,23,43,21],[50,10,44,8],[51,8,45,6],[52,8,46,6,"console"],[52,15,46,13],[52,16,46,14,"error"],[52,21,46,19],[52,22,46,20,"e"],[52,23,46,21],[52,24,46,22],[53,8,47,6,"Alert"],[53,20,47,11],[53,21,47,11,"Alert"],[53,26,47,11],[53,27,47,12,"alert"],[53,32,47,17],[53,33,47,18,"alertTitle"],[53,43,47,28],[53,45,47,30],[53,81,47,66],[53,82,47,67],[54,6,48,4],[54,7,48,5],[54,16,48,14],[55,8,49,6,"setPurchasing"],[55,21,49,19],[55,22,49,20],[55,27,49,25],[55,28,49,26],[56,6,50,4],[57,4,51,2],[57,5,51,3],[57,8,51,5],[57,9,52,4,"alertTitle"],[57,19,52,14],[57,21,53,4,"error"],[57,26,53,9],[57,28,54,4,"goBack"],[57,34,54,10],[57,36,55,4,"hasSelectedTier"],[57,51,55,19],[57,53,56,4,"isAvailable"],[57,64,56,15],[57,66,57,4,"refresh"],[57,73,57,11],[57,75,58,4,"selectedPkg"],[57,86,58,15],[57,87,59,3],[57,88,59,4],[58,4,61,2],[58,8,61,8,"onRestore"],[58,17,61,17],[58,20,61,20],[58,24,61,20,"useCallback"],[58,30,61,31],[58,31,61,31,"useCallback"],[58,42,61,31],[58,61,61,31,"_asyncToGenerator"],[58,78,61,31],[58,79,61,31,"default"],[58,86,61,31],[58,88,61,32],[58,101,61,44],[59,6,62,4],[59,10,62,8],[59,11,62,9,"isAvailable"],[59,22,62,20],[59,24,62,22],[60,8,63,6,"Alert"],[60,20,63,11],[60,21,63,11,"Alert"],[60,26,63,11],[60,27,63,12,"alert"],[60,32,63,17],[60,33,64,8,"alertTitle"],[60,43,64,18],[60,45,65,8,"error"],[60,50,65,13],[60,54,65,17],[60,98,66,6],[60,99,66,7],[61,8,67,6],[62,6,68,4],[63,6,70,4],[63,10,70,8],[64,8,71,6,"setPurchasing"],[64,21,71,19],[64,22,71,20],[64,26,71,24],[64,27,71,25],[65,8,72,6],[65,14,72,12,"Purchases"],[65,23,72,21],[65,24,72,21,"default"],[65,31,72,21],[65,32,72,22,"restorePurchases"],[65,48,72,38],[65,49,72,39],[65,50,72,40],[66,8,73,6],[66,14,73,12,"refresh"],[66,21,73,19],[66,22,73,20],[66,23,73,21],[67,8,74,6,"goBack"],[67,14,74,12],[67,15,74,13],[67,16,74,14],[68,6,75,4],[68,7,75,5],[68,8,75,6],[68,15,75,13,"e"],[68,16,75,14],[68,18,75,16],[69,8,76,6,"console"],[69,15,76,13],[69,16,76,14,"error"],[69,21,76,19],[69,22,76,20,"e"],[69,23,76,21],[69,24,76,22],[70,8,77,6,"Alert"],[70,20,77,11],[70,21,77,11,"Alert"],[70,26,77,11],[70,27,77,12,"alert"],[70,32,77,17],[70,33,77,18,"alertTitle"],[70,43,77,28],[70,45,77,30],[70,75,77,60],[70,76,77,61],[71,6,78,4],[71,7,78,5],[71,16,78,14],[72,8,79,6,"setPurchasing"],[72,21,79,19],[72,22,79,20],[72,27,79,25],[72,28,79,26],[73,6,80,4],[74,4,81,2],[74,5,81,3],[74,8,81,5],[74,9,81,6,"alertTitle"],[74,19,81,16],[74,21,81,18,"error"],[74,26,81,23],[74,28,81,25,"goBack"],[74,34,81,31],[74,36,81,33,"isAvailable"],[74,47,81,44],[74,49,81,46,"refresh"],[74,56,81,53],[74,57,81,54],[74,58,81,55],[75,4,83,2],[75,11,83,9],[76,6,83,11,"purchasing"],[76,16,83,21],[77,6,83,23,"onSubscribe"],[77,17,83,34],[78,6,83,36,"onRestore"],[79,4,83,46],[79,5,83,47],[80,2,84,0],[81,2,84,1,"_s"],[81,4,84,1],[81,5,5,16,"useSubscriptionActions"],[81,27,5,38],[82,0,5,38],[82,3]],"functionMap":{"names":["<global>","useSubscriptionActions","onSubscribe","onRestore"],"mappings":"AAA;OCI;kCCW;GDmC;gCEU;GFoB;CDG"},"hasCjsExports":false},"type":"js/module"}]}