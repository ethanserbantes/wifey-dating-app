{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":103,"index":103}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":104},"end":{"line":2,"column":47,"index":151}}],"key":"nOZ2HunKnzL39LFdYoJbtaXPZ5g=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":152},"end":{"line":3,"column":38,"index":190}}],"key":"Y7YGoIAOGQa78JTLfazw+ehPeHs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"showReportDialog\", {\n    enumerable: true,\n    get: function () {\n      return showReportDialog;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _debugBuildJs = require(_dependencyMap[1], \"./debug-build.js\");\n  var _helpersJs = require(_dependencyMap[2], \"./helpers.js\");\n  /**\n   * Present the user with a report dialog.\n   *\n   * @param options Everything is optional, we try to fetch all info need from the current scope.\n   */\n  function showReportDialog() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var optionalDocument = _helpersJs.WINDOW.document;\n    var injectionPoint = optionalDocument?.head || optionalDocument?.body;\n\n    // doesn't work without a document (React Native)\n    if (!injectionPoint) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] Global document not defined');\n      return;\n    }\n    var scope = (0, _sentryCore.getCurrentScope)();\n    var client = (0, _sentryCore.getClient)();\n    var dsn = client?.getDsn();\n    if (!dsn) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] DSN not configured');\n      return;\n    }\n    var mergedOptions = {\n      ...options,\n      user: {\n        ...scope.getUser(),\n        ...options.user\n      },\n      eventId: options.eventId || (0, _sentryCore.lastEventId)()\n    };\n    var script = _helpersJs.WINDOW.document.createElement('script');\n    script.async = true;\n    script.crossOrigin = 'anonymous';\n    script.src = (0, _sentryCore.getReportDialogEndpoint)(dsn, mergedOptions);\n    var onLoad = mergedOptions.onLoad,\n      onClose = mergedOptions.onClose;\n    if (onLoad) {\n      script.onload = onLoad;\n    }\n    if (onClose) {\n      var reportDialogClosedMessageHandler = event => {\n        if (event.data === '__sentry_reportdialog_closed__') {\n          try {\n            onClose();\n          } finally {\n            _helpersJs.WINDOW.removeEventListener('message', reportDialogClosedMessageHandler);\n          }\n        }\n      };\n      _helpersJs.WINDOW.addEventListener('message', reportDialogClosedMessageHandler);\n    }\n    injectionPoint.appendChild(script);\n  }\n});","lineCount":69,"map":[[7,2,65,0,"Object"],[7,8,65,0],[7,9,65,0,"defineProperty"],[7,23,65,0],[7,24,65,0,"exports"],[7,31,65,0],[8,4,65,0,"enumerable"],[8,14,65,0],[9,4,65,0,"get"],[9,7,65,0],[9,18,65,0,"get"],[9,19,65,0],[10,6,65,0],[10,13,65,9,"showReportDialog"],[10,29,65,25],[11,4,65,25],[12,2,65,25],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_debugBuildJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_helpersJs"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,2,10,0],[21,11,10,9,"showReportDialog"],[21,27,10,25,"showReportDialog"],[21,28,10,25],[21,30,10,40],[22,4,10,40],[22,8,10,26,"options"],[22,15,10,33],[22,18,10,33,"arguments"],[22,27,10,33],[22,28,10,33,"length"],[22,34,10,33],[22,42,10,33,"arguments"],[22,51,10,33],[22,59,10,33,"undefined"],[22,68,10,33],[22,71,10,33,"arguments"],[22,80,10,33],[22,86,10,36],[22,87,10,37],[22,88,10,38],[23,4,11,2],[23,8,11,8,"optionalDocument"],[23,24,11,24],[23,27,11,27,"WINDOW"],[23,37,11,33],[23,38,11,33,"WINDOW"],[23,44,11,33],[23,45,11,34,"document"],[23,53,11,42],[24,4,12,2],[24,8,12,8,"injectionPoint"],[24,22,12,22],[24,25,12,25,"optionalDocument"],[24,41,12,41],[24,43,12,43,"head"],[24,47,12,47],[24,51,12,51,"optionalDocument"],[24,67,12,67],[24,69,12,69,"body"],[24,73,12,73],[26,4,14,2],[27,4,15,2],[27,8,15,6],[27,9,15,7,"injectionPoint"],[27,23,15,21],[27,25,15,23],[28,6,16,4,"DEBUG_BUILD"],[28,19,16,15],[28,20,16,15,"DEBUG_BUILD"],[28,31,16,15],[28,35,16,19,"debug"],[28,46,16,24],[28,47,16,24,"debug"],[28,52,16,24],[28,53,16,25,"error"],[28,58,16,30],[28,59,16,31],[28,107,16,79],[28,108,16,80],[29,6,17,4],[30,4,18,2],[31,4,20,2],[31,8,20,8,"scope"],[31,13,20,13],[31,16,20,16],[31,20,20,16,"getCurrentScope"],[31,31,20,31],[31,32,20,31,"getCurrentScope"],[31,47,20,31],[31,49,20,32],[31,50,20,33],[32,4,21,2],[32,8,21,8,"client"],[32,14,21,14],[32,17,21,17],[32,21,21,17,"getClient"],[32,32,21,26],[32,33,21,26,"getClient"],[32,42,21,26],[32,44,21,27],[32,45,21,28],[33,4,22,2],[33,8,22,8,"dsn"],[33,11,22,11],[33,14,22,14,"client"],[33,20,22,20],[33,22,22,22,"getDsn"],[33,28,22,28],[33,29,22,29],[33,30,22,30],[34,4,24,2],[34,8,24,6],[34,9,24,7,"dsn"],[34,12,24,10],[34,14,24,12],[35,6,25,4,"DEBUG_BUILD"],[35,19,25,15],[35,20,25,15,"DEBUG_BUILD"],[35,31,25,15],[35,35,25,19,"debug"],[35,46,25,24],[35,47,25,24,"debug"],[35,52,25,24],[35,53,25,25,"error"],[35,58,25,30],[35,59,25,31],[35,98,25,70],[35,99,25,71],[36,6,26,4],[37,4,27,2],[38,4,29,2],[38,8,29,8,"mergedOptions"],[38,21,29,21],[38,24,29,24],[39,6,30,4],[39,9,30,7,"options"],[39,16,30,14],[40,6,31,4,"user"],[40,10,31,8],[40,12,31,10],[41,8,32,6],[41,11,32,9,"scope"],[41,16,32,14],[41,17,32,15,"getUser"],[41,24,32,22],[41,25,32,23],[41,26,32,24],[42,8,33,6],[42,11,33,9,"options"],[42,18,33,16],[42,19,33,17,"user"],[43,6,34,4],[43,7,34,5],[44,6,35,4,"eventId"],[44,13,35,11],[44,15,35,13,"options"],[44,22,35,20],[44,23,35,21,"eventId"],[44,30,35,28],[44,34,35,32],[44,38,35,32,"lastEventId"],[44,49,35,43],[44,50,35,43,"lastEventId"],[44,61,35,43],[44,63,35,44],[45,4,36,2],[45,5,36,3],[46,4,38,2],[46,8,38,8,"script"],[46,14,38,14],[46,17,38,17,"WINDOW"],[46,27,38,23],[46,28,38,23,"WINDOW"],[46,34,38,23],[46,35,38,24,"document"],[46,43,38,32],[46,44,38,33,"createElement"],[46,57,38,46],[46,58,38,47],[46,66,38,55],[46,67,38,56],[47,4,39,2,"script"],[47,10,39,8],[47,11,39,9,"async"],[47,16,39,14],[47,19,39,17],[47,23,39,21],[48,4,40,2,"script"],[48,10,40,8],[48,11,40,9,"crossOrigin"],[48,22,40,20],[48,25,40,23],[48,36,40,34],[49,4,41,2,"script"],[49,10,41,8],[49,11,41,9,"src"],[49,14,41,12],[49,17,41,15],[49,21,41,15,"getReportDialogEndpoint"],[49,32,41,38],[49,33,41,38,"getReportDialogEndpoint"],[49,56,41,38],[49,58,41,39,"dsn"],[49,61,41,42],[49,63,41,44,"mergedOptions"],[49,76,41,57],[49,77,41,58],[50,4,43,2],[50,8,43,10,"onLoad"],[50,14,43,16],[50,17,43,30,"mergedOptions"],[50,30,43,43],[50,31,43,10,"onLoad"],[50,37,43,16],[51,6,43,18,"onClose"],[51,13,43,25],[51,16,43,30,"mergedOptions"],[51,29,43,43],[51,30,43,18,"onClose"],[51,37,43,25],[52,4,45,2],[52,8,45,6,"onLoad"],[52,14,45,12],[52,16,45,14],[53,6,46,4,"script"],[53,12,46,10],[53,13,46,11,"onload"],[53,19,46,17],[53,22,46,20,"onLoad"],[53,28,46,26],[54,4,47,2],[55,4,49,2],[55,8,49,6,"onClose"],[55,15,49,13],[55,17,49,15],[56,6,50,4],[56,10,50,10,"reportDialogClosedMessageHandler"],[56,42,50,42],[56,45,50,46,"event"],[56,50,50,51],[56,54,50,56],[57,8,51,6],[57,12,51,10,"event"],[57,17,51,15],[57,18,51,16,"data"],[57,22,51,20],[57,27,51,25],[57,59,51,57],[57,61,51,59],[58,10,52,8],[58,14,52,12],[59,12,53,10,"onClose"],[59,19,53,17],[59,20,53,18],[59,21,53,19],[60,10,54,8],[60,11,54,9],[60,20,54,18],[61,12,55,10,"WINDOW"],[61,22,55,16],[61,23,55,16,"WINDOW"],[61,29,55,16],[61,30,55,17,"removeEventListener"],[61,49,55,36],[61,50,55,37],[61,59,55,46],[61,61,55,48,"reportDialogClosedMessageHandler"],[61,93,55,80],[61,94,55,81],[62,10,56,8],[63,8,57,6],[64,6,58,4],[64,7,58,5],[65,6,59,4,"WINDOW"],[65,16,59,10],[65,17,59,10,"WINDOW"],[65,23,59,10],[65,24,59,11,"addEventListener"],[65,40,59,27],[65,41,59,28],[65,50,59,37],[65,52,59,39,"reportDialogClosedMessageHandler"],[65,84,59,71],[65,85,59,72],[66,4,60,2],[67,4,62,2,"injectionPoint"],[67,18,62,16],[67,19,62,17,"appendChild"],[67,30,62,28],[67,31,62,29,"script"],[67,37,62,35],[67,38,62,36],[68,2,63,0],[69,0,63,1],[69,3]],"functionMap":{"names":["<global>","showReportDialog","reportDialogClosedMessageHandler"],"mappings":"AAA;ACS;6CCwC;KDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}