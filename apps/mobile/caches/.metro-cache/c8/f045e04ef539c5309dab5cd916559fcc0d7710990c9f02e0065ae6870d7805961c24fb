{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":127,"index":127}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../onSpanEndUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":128},"end":{"line":2,"column":59,"index":187}}],"key":"ctXLtR73WEDHyoLSdOx4LTXeubg=","exportNames":["*"],"imports":1}},{"name":"../origin","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":188},"end":{"line":3,"column":59,"index":247}}],"key":"luSBcq2+ru6TAonQ4jCdv7T4uiE=","exportNames":["*"],"imports":1}},{"name":"../reactnativetracing","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":80,"index":328}}],"key":"tRfaILopZKujsc30k+sgn63XQmE=","exportNames":["*"],"imports":1}},{"name":"../span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":329},"end":{"line":5,"column":91,"index":420}}],"key":"C3tUfg/sTtF1+hBjX8vCvDsyMk0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"userInteractionIntegration\", {\n    enumerable: true,\n    get: function () {\n      return userInteractionIntegration;\n    }\n  });\n  Object.defineProperty(exports, \"startUserInteractionSpan\", {\n    enumerable: true,\n    get: function () {\n      return startUserInteractionSpan;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _onSpanEndUtils = require(_dependencyMap[1], \"../onSpanEndUtils\");\n  var _origin = require(_dependencyMap[2], \"../origin\");\n  var _reactnativetracing = require(_dependencyMap[3], \"../reactnativetracing\");\n  var _span = require(_dependencyMap[4], \"../span\");\n  var INTEGRATION_NAME = 'UserInteraction';\n  var userInteractionIntegration = () => {\n    return {\n      name: INTEGRATION_NAME\n    };\n  };\n  /**\n   * Starts a new transaction for a user interaction.\n   * @param userInteractionId Consists of `op` representation UI Event and `elementId` unique element identifier on current screen.\n   */\n  var startUserInteractionSpan = userInteractionId => {\n    var client = (0, _sentryCore.getClient)();\n    if (!client) {\n      return undefined;\n    }\n    var tracing = (0, _reactnativetracing.getCurrentReactNativeTracingIntegration)();\n    if (!tracing) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] Tracing integration is not available. Can not start user interaction span.`);\n      return undefined;\n    }\n    var options = client.getOptions();\n    var elementId = userInteractionId.elementId,\n      op = userInteractionId.op;\n    if (!options.enableUserInteractionTracing) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing is disabled.`);\n      return undefined;\n    }\n    if (!elementId) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing can not create transaction with undefined elementId.`);\n      return undefined;\n    }\n    if (!tracing.state.currentRoute) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing can not create transaction without a current route.`);\n      return undefined;\n    }\n    var activeTransaction = (0, _sentryCore.getActiveSpan)();\n    var activeTransactionIsNotInteraction = activeTransaction && !(0, _span.isSentryInteractionSpan)(activeTransaction);\n    if (activeTransaction && activeTransactionIsNotInteraction) {\n      _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Did not create ${op} transaction because active transaction ${(0, _sentryCore.spanToJSON)(activeTransaction).description} exists on the scope.`);\n      return undefined;\n    }\n    var name = `${tracing.state.currentRoute}.${elementId}`;\n    if (activeTransaction && (0, _sentryCore.spanToJSON)(activeTransaction).description === name && (0, _sentryCore.spanToJSON)(activeTransaction).op === op) {\n      _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Did not create ${op} transaction because it the same transaction ${(0, _sentryCore.spanToJSON)(activeTransaction).description} already exists on the scope.`);\n      return undefined;\n    }\n    var scope = (0, _sentryCore.getCurrentScope)();\n    var context = {\n      name,\n      op,\n      scope\n    };\n    (0, _span.clearActiveSpanFromScope)(scope);\n    var newSpan = (0, _span.startIdleSpan)(context, {\n      idleTimeout: tracing.options.idleTimeoutMs,\n      finalTimeout: tracing.options.finalTimeoutMs\n    });\n    newSpan.setAttribute(_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, _origin.SPAN_ORIGIN_MANUAL_INTERACTION);\n    (0, _onSpanEndUtils.onlySampleIfChildSpans)(client, newSpan);\n    _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing Created ${op} transaction ${name}.`);\n    return newSpan;\n  };\n});","lineCount":86,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"userInteractionIntegration"],[10,39,7,0],[11,4,7,0],[12,2,7,0],[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"startUserInteractionSpan"],[16,37,16,0],[17,4,16,0],[18,2,16,0],[19,2,1,0],[19,6,1,0,"_sentryCore"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_onSpanEndUtils"],[20,21,2,0],[20,24,2,0,"require"],[20,31,2,0],[20,32,2,0,"_dependencyMap"],[20,46,2,0],[21,2,3,0],[21,6,3,0,"_origin"],[21,13,3,0],[21,16,3,0,"require"],[21,23,3,0],[21,24,3,0,"_dependencyMap"],[21,38,3,0],[22,2,4,0],[22,6,4,0,"_reactnativetracing"],[22,25,4,0],[22,28,4,0,"require"],[22,35,4,0],[22,36,4,0,"_dependencyMap"],[22,50,4,0],[23,2,5,0],[23,6,5,0,"_span"],[23,11,5,0],[23,14,5,0,"require"],[23,21,5,0],[23,22,5,0,"_dependencyMap"],[23,36,5,0],[24,2,6,0],[24,6,6,6,"INTEGRATION_NAME"],[24,22,6,22],[24,25,6,25],[24,42,6,42],[25,2,7,7],[25,6,7,13,"userInteractionIntegration"],[25,32,7,39],[25,35,7,42,"userInteractionIntegration"],[25,36,7,42],[25,41,7,48],[26,4,8,4],[26,11,8,11],[27,6,9,8,"name"],[27,10,9,12],[27,12,9,14,"INTEGRATION_NAME"],[28,4,10,4],[28,5,10,5],[29,2,11,0],[29,3,11,1],[30,2,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,2,16,7],[34,6,16,13,"startUserInteractionSpan"],[34,30,16,37],[34,33,16,41,"userInteractionId"],[34,50,16,58],[34,54,16,63],[35,4,17,4],[35,8,17,10,"client"],[35,14,17,16],[35,17,17,19],[35,21,17,19,"getClient"],[35,32,17,28],[35,33,17,28,"getClient"],[35,42,17,28],[35,44,17,29],[35,45,17,30],[36,4,18,4],[36,8,18,8],[36,9,18,9,"client"],[36,15,18,15],[36,17,18,17],[37,6,19,8],[37,13,19,15,"undefined"],[37,22,19,24],[38,4,20,4],[39,4,21,4],[39,8,21,10,"tracing"],[39,15,21,17],[39,18,21,20],[39,22,21,20,"getCurrentReactNativeTracingIntegration"],[39,41,21,59],[39,42,21,59,"getCurrentReactNativeTracingIntegration"],[39,81,21,59],[39,83,21,60],[39,84,21,61],[40,4,22,4],[40,8,22,8],[40,9,22,9,"tracing"],[40,16,22,16],[40,18,22,18],[41,6,23,8,"debug"],[41,17,23,13],[41,18,23,13,"debug"],[41,23,23,13],[41,24,23,14,"log"],[41,27,23,17],[41,28,23,18],[41,32,23,22,"INTEGRATION_NAME"],[41,48,23,38],[41,126,23,116],[41,127,23,117],[42,6,24,8],[42,13,24,15,"undefined"],[42,22,24,24],[43,4,25,4],[44,4,26,4],[44,8,26,10,"options"],[44,15,26,17],[44,18,26,20,"client"],[44,24,26,26],[44,25,26,27,"getOptions"],[44,35,26,37],[44,36,26,38],[44,37,26,39],[45,4,27,4],[45,8,27,12,"elementId"],[45,17,27,21],[45,20,27,30,"userInteractionId"],[45,37,27,47],[45,38,27,12,"elementId"],[45,47,27,21],[46,6,27,23,"op"],[46,8,27,25],[46,11,27,30,"userInteractionId"],[46,28,27,47],[46,29,27,23,"op"],[46,31,27,25],[47,4,28,4],[47,8,28,8],[47,9,28,9,"options"],[47,16,28,16],[47,17,28,17,"enableUserInteractionTracing"],[47,45,28,45],[47,47,28,47],[48,6,29,8,"debug"],[48,17,29,13],[48,18,29,13,"debug"],[48,23,29,13],[48,24,29,14,"log"],[48,27,29,17],[48,28,29,18],[48,32,29,22,"INTEGRATION_NAME"],[48,48,29,38],[48,89,29,79],[48,90,29,80],[49,6,30,8],[49,13,30,15,"undefined"],[49,22,30,24],[50,4,31,4],[51,4,32,4],[51,8,32,8],[51,9,32,9,"elementId"],[51,18,32,18],[51,20,32,20],[52,6,33,8,"debug"],[52,17,33,13],[52,18,33,13,"debug"],[52,23,33,13],[52,24,33,14,"log"],[52,27,33,17],[52,28,33,18],[52,32,33,22,"INTEGRATION_NAME"],[52,48,33,38],[52,129,33,119],[52,130,33,120],[53,6,34,8],[53,13,34,15,"undefined"],[53,22,34,24],[54,4,35,4],[55,4,36,4],[55,8,36,8],[55,9,36,9,"tracing"],[55,16,36,16],[55,17,36,17,"state"],[55,22,36,22],[55,23,36,23,"currentRoute"],[55,35,36,35],[55,37,36,37],[56,6,37,8,"debug"],[56,17,37,13],[56,18,37,13,"debug"],[56,23,37,13],[56,24,37,14,"log"],[56,27,37,17],[56,28,37,18],[56,32,37,22,"INTEGRATION_NAME"],[56,48,37,38],[56,128,37,118],[56,129,37,119],[57,6,38,8],[57,13,38,15,"undefined"],[57,22,38,24],[58,4,39,4],[59,4,40,4],[59,8,40,10,"activeTransaction"],[59,25,40,27],[59,28,40,30],[59,32,40,30,"getActiveSpan"],[59,43,40,43],[59,44,40,43,"getActiveSpan"],[59,57,40,43],[59,59,40,44],[59,60,40,45],[60,4,41,4],[60,8,41,10,"activeTransactionIsNotInteraction"],[60,41,41,43],[60,44,41,46,"activeTransaction"],[60,61,41,63],[60,65,41,67],[60,66,41,68],[60,70,41,68,"isSentryInteractionSpan"],[60,75,41,91],[60,76,41,91,"isSentryInteractionSpan"],[60,99,41,91],[60,101,41,92,"activeTransaction"],[60,118,41,109],[60,119,41,110],[61,4,42,4],[61,8,42,8,"activeTransaction"],[61,25,42,25],[61,29,42,29,"activeTransactionIsNotInteraction"],[61,62,42,62],[61,64,42,64],[62,6,43,8,"debug"],[62,17,43,13],[62,18,43,13,"debug"],[62,23,43,13],[62,24,43,14,"warn"],[62,28,43,18],[62,29,43,19],[62,33,43,23,"INTEGRATION_NAME"],[62,49,43,39],[62,69,43,59,"op"],[62,71,43,61],[62,114,43,104],[62,118,43,104,"spanToJSON"],[62,129,43,114],[62,130,43,114,"spanToJSON"],[62,140,43,114],[62,142,43,115,"activeTransaction"],[62,159,43,132],[62,160,43,133],[62,161,43,134,"description"],[62,172,43,145],[62,195,43,168],[62,196,43,169],[63,6,44,8],[63,13,44,15,"undefined"],[63,22,44,24],[64,4,45,4],[65,4,46,4],[65,8,46,10,"name"],[65,12,46,14],[65,15,46,17],[65,18,46,20,"tracing"],[65,25,46,27],[65,26,46,28,"state"],[65,31,46,33],[65,32,46,34,"currentRoute"],[65,44,46,46],[65,48,46,50,"elementId"],[65,57,46,59],[65,59,46,61],[66,4,47,4],[66,8,47,8,"activeTransaction"],[66,25,47,25],[66,29,48,8],[66,33,48,8,"spanToJSON"],[66,44,48,18],[66,45,48,18,"spanToJSON"],[66,55,48,18],[66,57,48,19,"activeTransaction"],[66,74,48,36],[66,75,48,37],[66,76,48,38,"description"],[66,87,48,49],[66,92,48,54,"name"],[66,96,48,58],[66,100,49,8],[66,104,49,8,"spanToJSON"],[66,115,49,18],[66,116,49,18,"spanToJSON"],[66,126,49,18],[66,128,49,19,"activeTransaction"],[66,145,49,36],[66,146,49,37],[66,147,49,38,"op"],[66,149,49,40],[66,154,49,45,"op"],[66,156,49,47],[66,158,49,49],[67,6,50,8,"debug"],[67,17,50,13],[67,18,50,13,"debug"],[67,23,50,13],[67,24,50,14,"warn"],[67,28,50,18],[67,29,50,19],[67,33,50,23,"INTEGRATION_NAME"],[67,49,50,39],[67,69,50,59,"op"],[67,71,50,61],[67,119,50,109],[67,123,50,109,"spanToJSON"],[67,134,50,119],[67,135,50,119,"spanToJSON"],[67,145,50,119],[67,147,50,120,"activeTransaction"],[67,164,50,137],[67,165,50,138],[67,166,50,139,"description"],[67,177,50,150],[67,208,50,181],[67,209,50,182],[68,6,51,8],[68,13,51,15,"undefined"],[68,22,51,24],[69,4,52,4],[70,4,53,4],[70,8,53,10,"scope"],[70,13,53,15],[70,16,53,18],[70,20,53,18,"getCurrentScope"],[70,31,53,33],[70,32,53,33,"getCurrentScope"],[70,47,53,33],[70,49,53,34],[70,50,53,35],[71,4,54,4],[71,8,54,10,"context"],[71,15,54,17],[71,18,54,20],[72,6,55,8,"name"],[72,10,55,12],[73,6,56,8,"op"],[73,8,56,10],[74,6,57,8,"scope"],[75,4,58,4],[75,5,58,5],[76,4,59,4],[76,8,59,4,"clearActiveSpanFromScope"],[76,13,59,28],[76,14,59,28,"clearActiveSpanFromScope"],[76,38,59,28],[76,40,59,29,"scope"],[76,45,59,34],[76,46,59,35],[77,4,60,4],[77,8,60,10,"newSpan"],[77,15,60,17],[77,18,60,20],[77,22,60,20,"startIdleSpan"],[77,27,60,33],[77,28,60,33,"startIdleSpan"],[77,41,60,33],[77,43,60,34,"context"],[77,50,60,41],[77,52,60,43],[78,6,61,8,"idleTimeout"],[78,17,61,19],[78,19,61,21,"tracing"],[78,26,61,28],[78,27,61,29,"options"],[78,34,61,36],[78,35,61,37,"idleTimeoutMs"],[78,48,61,50],[79,6,62,8,"finalTimeout"],[79,18,62,20],[79,20,62,22,"tracing"],[79,27,62,29],[79,28,62,30,"options"],[79,35,62,37],[79,36,62,38,"finalTimeoutMs"],[80,4,63,4],[80,5,63,5],[80,6,63,6],[81,4,64,4,"newSpan"],[81,11,64,11],[81,12,64,12,"setAttribute"],[81,24,64,24],[81,25,64,25,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[81,36,64,57],[81,37,64,57,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[81,69,64,57],[81,71,64,59,"SPAN_ORIGIN_MANUAL_INTERACTION"],[81,78,64,89],[81,79,64,89,"SPAN_ORIGIN_MANUAL_INTERACTION"],[81,109,64,89],[81,110,64,90],[82,4,65,4],[82,8,65,4,"onlySampleIfChildSpans"],[82,23,65,26],[82,24,65,26,"onlySampleIfChildSpans"],[82,46,65,26],[82,48,65,27,"client"],[82,54,65,33],[82,56,65,35,"newSpan"],[82,63,65,42],[82,64,65,43],[83,4,66,4,"debug"],[83,15,66,9],[83,16,66,9,"debug"],[83,21,66,9],[83,22,66,10,"log"],[83,25,66,13],[83,26,66,14],[83,30,66,18,"INTEGRATION_NAME"],[83,46,66,34],[83,84,66,72,"op"],[83,86,66,74],[83,102,66,90,"name"],[83,106,66,94],[83,109,66,97],[83,110,66,98],[84,4,67,4],[84,11,67,11,"newSpan"],[84,18,67,18],[85,2,68,0],[85,3,68,1],[86,0,68,2],[86,3]],"functionMap":{"names":["<global>","userInteractionIntegration","startUserInteractionSpan"],"mappings":"AAA;0CCM;CDI;wCEK;CFoD"},"hasCjsExports":false},"type":"js/module"}]}