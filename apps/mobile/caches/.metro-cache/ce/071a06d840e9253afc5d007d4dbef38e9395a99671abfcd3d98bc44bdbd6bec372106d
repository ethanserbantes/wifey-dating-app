{"dependencies":[{"name":"../utils/dsn.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"N9KAuIoocXj/7+4SJW53+/eZu00=","exportNames":["*"],"imports":1}},{"name":"../utils/envelope.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":54,"index":101}}],"key":"yiniLg9hHeIHPDkrzeivR1oDz5o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMetricContainerEnvelopeItem\", {\n    enumerable: true,\n    get: function () {\n      return createMetricContainerEnvelopeItem;\n    }\n  });\n  Object.defineProperty(exports, \"createMetricEnvelope\", {\n    enumerable: true,\n    get: function () {\n      return createMetricEnvelope;\n    }\n  });\n  var _utilsDsnJs = require(_dependencyMap[0]);\n  var _utilsEnvelopeJs = require(_dependencyMap[1]);\n  /**\n   * Creates a metric container envelope item for a list of metrics.\n   *\n   * @param items - The metrics to include in the envelope.\n   * @returns The created metric container envelope item.\n   */\n  function createMetricContainerEnvelopeItem(items) {\n    return [{\n      type: 'trace_metric',\n      item_count: items.length,\n      content_type: 'application/vnd.sentry.items.trace-metric+json'\n    }, {\n      items\n    }];\n  }\n\n  /**\n   * Creates an envelope for a list of metrics.\n   *\n   * Metrics from multiple traces can be included in the same envelope.\n   *\n   * @param metrics - The metrics to include in the envelope.\n   * @param metadata - The metadata to include in the envelope.\n   * @param tunnel - The tunnel to include in the envelope.\n   * @param dsn - The DSN to include in the envelope.\n   * @returns The created envelope.\n   */\n  function createMetricEnvelope(metrics, metadata, tunnel, dsn) {\n    var headers = {};\n    if (metadata?.sdk) {\n      headers.sdk = {\n        name: metadata.sdk.name,\n        version: metadata.sdk.version\n      };\n    }\n    if (!!tunnel && !!dsn) {\n      headers.dsn = (0, _utilsDsnJs.dsnToString)(dsn);\n    }\n    return (0, _utilsEnvelopeJs.createEnvelope)(headers, [createMetricContainerEnvelopeItem(metrics)]);\n  }\n});","lineCount":61,"map":[[7,2,56,0,"Object"],[7,8,56,0],[7,9,56,0,"defineProperty"],[7,23,56,0],[7,24,56,0,"exports"],[7,31,56,0],[8,4,56,0,"enumerable"],[8,14,56,0],[9,4,56,0,"get"],[9,7,56,0],[9,18,56,0,"get"],[9,19,56,0],[10,6,56,0],[10,13,56,9,"createMetricContainerEnvelopeItem"],[10,46,56,42],[11,4,56,42],[12,2,56,42],[13,2,56,0,"Object"],[13,8,56,0],[13,9,56,0,"defineProperty"],[13,23,56,0],[13,24,56,0,"exports"],[13,31,56,0],[14,4,56,0,"enumerable"],[14,14,56,0],[15,4,56,0,"get"],[15,7,56,0],[15,18,56,0,"get"],[15,19,56,0],[16,6,56,0],[16,13,56,44,"createMetricEnvelope"],[16,33,56,64],[17,4,56,64],[18,2,56,64],[19,2,1,0],[19,6,1,0,"_utilsDsnJs"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_utilsEnvelopeJs"],[20,22,2,0],[20,25,2,0,"require"],[20,32,2,0],[20,33,2,0,"_dependencyMap"],[20,47,2,0],[21,2,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,2,10,0],[27,11,10,9,"createMetricContainerEnvelopeItem"],[27,44,10,42,"createMetricContainerEnvelopeItem"],[27,45,10,43,"items"],[27,50,10,48],[27,52,10,50],[28,4,11,2],[28,11,11,9],[28,12,12,4],[29,6,13,6,"type"],[29,10,13,10],[29,12,13,12],[29,26,13,26],[30,6,14,6,"item_count"],[30,16,14,16],[30,18,14,18,"items"],[30,23,14,23],[30,24,14,24,"length"],[30,30,14,30],[31,6,15,6,"content_type"],[31,18,15,18],[31,20,15,20],[32,4,16,4],[32,5,16,5],[32,7,17,4],[33,6,18,6,"items"],[34,4,19,4],[34,5,19,5],[34,6,20,3],[35,2,21,0],[37,2,23,0],[38,0,24,0],[39,0,25,0],[40,0,26,0],[41,0,27,0],[42,0,28,0],[43,0,29,0],[44,0,30,0],[45,0,31,0],[46,0,32,0],[47,0,33,0],[48,2,34,0],[48,11,34,9,"createMetricEnvelope"],[48,31,34,29,"createMetricEnvelope"],[48,32,35,2,"metrics"],[48,39,35,9],[48,41,36,2,"metadata"],[48,49,36,10],[48,51,37,2,"tunnel"],[48,57,37,8],[48,59,38,2,"dsn"],[48,62,38,5],[48,64,39,2],[49,4,40,2],[49,8,40,8,"headers"],[49,15,40,15],[49,18,40,18],[49,19,40,19],[49,20,40,20],[50,4,42,2],[50,8,42,6,"metadata"],[50,16,42,14],[50,18,42,16,"sdk"],[50,21,42,19],[50,23,42,21],[51,6,43,4,"headers"],[51,13,43,11],[51,14,43,12,"sdk"],[51,17,43,15],[51,20,43,18],[52,8,44,6,"name"],[52,12,44,10],[52,14,44,12,"metadata"],[52,22,44,20],[52,23,44,21,"sdk"],[52,26,44,24],[52,27,44,25,"name"],[52,31,44,29],[53,8,45,6,"version"],[53,15,45,13],[53,17,45,15,"metadata"],[53,25,45,23],[53,26,45,24,"sdk"],[53,29,45,27],[53,30,45,28,"version"],[54,6,46,4],[54,7,46,5],[55,4,47,2],[56,4,49,2],[56,8,49,6],[56,9,49,7],[56,10,49,8,"tunnel"],[56,16,49,14],[56,20,49,18],[56,21,49,19],[56,22,49,20,"dsn"],[56,25,49,23],[56,27,49,25],[57,6,50,4,"headers"],[57,13,50,11],[57,14,50,12,"dsn"],[57,17,50,15],[57,20,50,18],[57,24,50,18,"dsnToString"],[57,35,50,29],[57,36,50,29,"dsnToString"],[57,47,50,29],[57,49,50,30,"dsn"],[57,52,50,33],[57,53,50,34],[58,4,51,2],[59,4,53,2],[59,11,53,9],[59,15,53,9,"createEnvelope"],[59,31,53,23],[59,32,53,23,"createEnvelope"],[59,46,53,23],[59,48,53,24,"headers"],[59,55,53,31],[59,57,53,33],[59,58,53,34,"createMetricContainerEnvelopeItem"],[59,91,53,67],[59,92,53,68,"metrics"],[59,99,53,75],[59,100,53,76],[59,101,53,77],[59,102,53,78],[60,2,54,0],[61,0,54,1],[61,3]],"functionMap":{"names":["<global>","createMetricContainerEnvelopeItem","createMetricEnvelope"],"mappings":"AAA;ACS;CDW;AEa;CFoB"},"hasCjsExports":false},"type":"js/module"}]}