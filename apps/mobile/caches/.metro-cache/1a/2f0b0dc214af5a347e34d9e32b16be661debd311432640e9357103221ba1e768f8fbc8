{"dependencies":[{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":498,"index":498}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"./constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":499},"end":{"line":2,"column":54,"index":553}}],"key":"46QfplZMuoT7/1B4GqMDknw8q/g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"addChatCompletionAttributes\", {\n    enumerable: true,\n    get: function () {\n      return addChatCompletionAttributes;\n    }\n  });\n  Object.defineProperty(exports, \"addEmbeddingsAttributes\", {\n    enumerable: true,\n    get: function () {\n      return addEmbeddingsAttributes;\n    }\n  });\n  Object.defineProperty(exports, \"addResponsesApiAttributes\", {\n    enumerable: true,\n    get: function () {\n      return addResponsesApiAttributes;\n    }\n  });\n  Object.defineProperty(exports, \"buildMethodPath\", {\n    enumerable: true,\n    get: function () {\n      return buildMethodPath;\n    }\n  });\n  Object.defineProperty(exports, \"getOperationName\", {\n    enumerable: true,\n    get: function () {\n      return getOperationName;\n    }\n  });\n  Object.defineProperty(exports, \"getSpanOperation\", {\n    enumerable: true,\n    get: function () {\n      return getSpanOperation;\n    }\n  });\n  Object.defineProperty(exports, \"isChatCompletionChunk\", {\n    enumerable: true,\n    get: function () {\n      return isChatCompletionChunk;\n    }\n  });\n  Object.defineProperty(exports, \"isChatCompletionResponse\", {\n    enumerable: true,\n    get: function () {\n      return isChatCompletionResponse;\n    }\n  });\n  Object.defineProperty(exports, \"isEmbeddingsResponse\", {\n    enumerable: true,\n    get: function () {\n      return isEmbeddingsResponse;\n    }\n  });\n  Object.defineProperty(exports, \"isResponsesApiResponse\", {\n    enumerable: true,\n    get: function () {\n      return isResponsesApiResponse;\n    }\n  });\n  Object.defineProperty(exports, \"isResponsesApiStreamEvent\", {\n    enumerable: true,\n    get: function () {\n      return isResponsesApiStreamEvent;\n    }\n  });\n  Object.defineProperty(exports, \"setCommonResponseAttributes\", {\n    enumerable: true,\n    get: function () {\n      return setCommonResponseAttributes;\n    }\n  });\n  Object.defineProperty(exports, \"setTokenUsageAttributes\", {\n    enumerable: true,\n    get: function () {\n      return setTokenUsageAttributes;\n    }\n  });\n  Object.defineProperty(exports, \"shouldInstrument\", {\n    enumerable: true,\n    get: function () {\n      return shouldInstrument;\n    }\n  });\n  var _aiGenAiAttributesJs = require(_dependencyMap[0]);\n  var _constantsJs = require(_dependencyMap[1]);\n  /**\n   * Maps OpenAI method paths to Sentry operation names\n   */\n  function getOperationName(methodPath) {\n    if (methodPath.includes('chat.completions')) {\n      return _aiGenAiAttributesJs.OPENAI_OPERATIONS.CHAT;\n    }\n    if (methodPath.includes('responses')) {\n      return _aiGenAiAttributesJs.OPENAI_OPERATIONS.RESPONSES;\n    }\n    if (methodPath.includes('embeddings')) {\n      return _aiGenAiAttributesJs.OPENAI_OPERATIONS.EMBEDDINGS;\n    }\n    return methodPath.split('.').pop() || 'unknown';\n  }\n\n  /**\n   * Get the span operation for OpenAI methods\n   * Following Sentry's convention: \"gen_ai.{operation_name}\"\n   */\n  function getSpanOperation(methodPath) {\n    return `gen_ai.${getOperationName(methodPath)}`;\n  }\n\n  /**\n   * Check if a method path should be instrumented\n   */\n  function shouldInstrument(methodPath) {\n    return _constantsJs.INSTRUMENTED_METHODS.includes(methodPath);\n  }\n\n  /**\n   * Build method path from current traversal\n   */\n  function buildMethodPath(currentPath, prop) {\n    return currentPath ? `${currentPath}.${prop}` : prop;\n  }\n\n  /**\n   * Check if response is a Chat Completion object\n   */\n  function isChatCompletionResponse(response) {\n    return response !== null && typeof response === 'object' && 'object' in response && response.object === 'chat.completion';\n  }\n\n  /**\n   * Check if response is a Responses API object\n   */\n  function isResponsesApiResponse(response) {\n    return response !== null && typeof response === 'object' && 'object' in response && response.object === 'response';\n  }\n\n  /**\n   * Check if response is an Embeddings API object\n   */\n  function isEmbeddingsResponse(response) {\n    if (response === null || typeof response !== 'object' || !('object' in response)) {\n      return false;\n    }\n    var responseObject = response;\n    return responseObject.object === 'list' && typeof responseObject.model === 'string' && responseObject.model.toLowerCase().includes('embedding');\n  }\n\n  /**\n   * Check if streaming event is from the Responses API\n   */\n  function isResponsesApiStreamEvent(event) {\n    return event !== null && typeof event === 'object' && 'type' in event && typeof event.type === 'string' && event.type.startsWith('response.');\n  }\n\n  /**\n   * Check if streaming event is a chat completion chunk\n   */\n  function isChatCompletionChunk(event) {\n    return event !== null && typeof event === 'object' && 'object' in event && event.object === 'chat.completion.chunk';\n  }\n\n  /**\n   * Add attributes for Chat Completion responses\n   */\n  function addChatCompletionAttributes(span, response, recordOutputs) {\n    setCommonResponseAttributes(span, response.id, response.model, response.created);\n    if (response.usage) {\n      setTokenUsageAttributes(span, response.usage.prompt_tokens, response.usage.completion_tokens, response.usage.total_tokens);\n    }\n    if (Array.isArray(response.choices)) {\n      var finishReasons = response.choices.map(choice => choice.finish_reason).filter(reason => reason !== null);\n      if (finishReasons.length > 0) {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]: JSON.stringify(finishReasons)\n        });\n      }\n\n      // Extract tool calls from all choices (only if recordOutputs is true)\n      if (recordOutputs) {\n        var toolCalls = response.choices.map(choice => choice.message?.tool_calls).filter(calls => Array.isArray(calls) && calls.length > 0).flat();\n        if (toolCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(toolCalls)\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Add attributes for Responses API responses\n   */\n  function addResponsesApiAttributes(span, response, recordOutputs) {\n    setCommonResponseAttributes(span, response.id, response.model, response.created_at);\n    if (response.status) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]: JSON.stringify([response.status])\n      });\n    }\n    if (response.usage) {\n      setTokenUsageAttributes(span, response.usage.input_tokens, response.usage.output_tokens, response.usage.total_tokens);\n    }\n\n    // Extract function calls from output (only if recordOutputs is true)\n    if (recordOutputs) {\n      var responseWithOutput = response;\n      if (Array.isArray(responseWithOutput.output) && responseWithOutput.output.length > 0) {\n        // Filter for function_call type objects in the output array\n        var functionCalls = responseWithOutput.output.filter(item => typeof item === 'object' && item !== null && item.type === 'function_call');\n        if (functionCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(functionCalls)\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Add attributes for Embeddings API responses\n   */\n  function addEmbeddingsAttributes(span, response) {\n    span.setAttributes({\n      [_aiGenAiAttributesJs.OPENAI_RESPONSE_MODEL_ATTRIBUTE]: response.model,\n      [_aiGenAiAttributesJs.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]: response.model\n    });\n    if (response.usage) {\n      setTokenUsageAttributes(span, response.usage.prompt_tokens, undefined, response.usage.total_tokens);\n    }\n  }\n\n  /**\n   * Set token usage attributes\n   * @param span - The span to add attributes to\n   * @param promptTokens - The number of prompt tokens\n   * @param completionTokens - The number of completion tokens\n   * @param totalTokens - The number of total tokens\n   */\n  function setTokenUsageAttributes(span, promptTokens, completionTokens, totalTokens) {\n    if (promptTokens !== undefined) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE]: promptTokens,\n        [_aiGenAiAttributesJs.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]: promptTokens\n      });\n    }\n    if (completionTokens !== undefined) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE]: completionTokens,\n        [_aiGenAiAttributesJs.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]: completionTokens\n      });\n    }\n    if (totalTokens !== undefined) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]: totalTokens\n      });\n    }\n  }\n\n  /**\n   * Set common response attributes\n   * @param span - The span to add attributes to\n   * @param id - The response id\n   * @param model - The response model\n   * @param timestamp - The response timestamp\n   */\n  function setCommonResponseAttributes(span, id, model, timestamp) {\n    span.setAttributes({\n      [_aiGenAiAttributesJs.OPENAI_RESPONSE_ID_ATTRIBUTE]: id,\n      [_aiGenAiAttributesJs.GEN_AI_RESPONSE_ID_ATTRIBUTE]: id\n    });\n    span.setAttributes({\n      [_aiGenAiAttributesJs.OPENAI_RESPONSE_MODEL_ATTRIBUTE]: model,\n      [_aiGenAiAttributesJs.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]: model\n    });\n    span.setAttributes({\n      [_aiGenAiAttributesJs.OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE]: new Date(timestamp * 1000).toISOString()\n    });\n  }\n});","lineCount":287,"map":[[7,2,254,0,"Object"],[7,8,254,0],[7,9,254,0,"defineProperty"],[7,23,254,0],[7,24,254,0,"exports"],[7,31,254,0],[8,4,254,0,"enumerable"],[8,14,254,0],[9,4,254,0,"get"],[9,7,254,0],[9,18,254,0,"get"],[9,19,254,0],[10,6,254,0],[10,13,254,9,"addChatCompletionAttributes"],[10,40,254,36],[11,4,254,36],[12,2,254,36],[13,2,254,0,"Object"],[13,8,254,0],[13,9,254,0,"defineProperty"],[13,23,254,0],[13,24,254,0,"exports"],[13,31,254,0],[14,4,254,0,"enumerable"],[14,14,254,0],[15,4,254,0,"get"],[15,7,254,0],[15,18,254,0,"get"],[15,19,254,0],[16,6,254,0],[16,13,254,38,"addEmbeddingsAttributes"],[16,36,254,61],[17,4,254,61],[18,2,254,61],[19,2,254,0,"Object"],[19,8,254,0],[19,9,254,0,"defineProperty"],[19,23,254,0],[19,24,254,0,"exports"],[19,31,254,0],[20,4,254,0,"enumerable"],[20,14,254,0],[21,4,254,0,"get"],[21,7,254,0],[21,18,254,0,"get"],[21,19,254,0],[22,6,254,0],[22,13,254,63,"addResponsesApiAttributes"],[22,38,254,88],[23,4,254,88],[24,2,254,88],[25,2,254,0,"Object"],[25,8,254,0],[25,9,254,0,"defineProperty"],[25,23,254,0],[25,24,254,0,"exports"],[25,31,254,0],[26,4,254,0,"enumerable"],[26,14,254,0],[27,4,254,0,"get"],[27,7,254,0],[27,18,254,0,"get"],[27,19,254,0],[28,6,254,0],[28,13,254,90,"buildMethodPath"],[28,28,254,105],[29,4,254,105],[30,2,254,105],[31,2,254,0,"Object"],[31,8,254,0],[31,9,254,0,"defineProperty"],[31,23,254,0],[31,24,254,0,"exports"],[31,31,254,0],[32,4,254,0,"enumerable"],[32,14,254,0],[33,4,254,0,"get"],[33,7,254,0],[33,18,254,0,"get"],[33,19,254,0],[34,6,254,0],[34,13,254,107,"getOperationName"],[34,29,254,123],[35,4,254,123],[36,2,254,123],[37,2,254,0,"Object"],[37,8,254,0],[37,9,254,0,"defineProperty"],[37,23,254,0],[37,24,254,0,"exports"],[37,31,254,0],[38,4,254,0,"enumerable"],[38,14,254,0],[39,4,254,0,"get"],[39,7,254,0],[39,18,254,0,"get"],[39,19,254,0],[40,6,254,0],[40,13,254,125,"getSpanOperation"],[40,29,254,141],[41,4,254,141],[42,2,254,141],[43,2,254,0,"Object"],[43,8,254,0],[43,9,254,0,"defineProperty"],[43,23,254,0],[43,24,254,0,"exports"],[43,31,254,0],[44,4,254,0,"enumerable"],[44,14,254,0],[45,4,254,0,"get"],[45,7,254,0],[45,18,254,0,"get"],[45,19,254,0],[46,6,254,0],[46,13,254,143,"isChatCompletionChunk"],[46,34,254,164],[47,4,254,164],[48,2,254,164],[49,2,254,0,"Object"],[49,8,254,0],[49,9,254,0,"defineProperty"],[49,23,254,0],[49,24,254,0,"exports"],[49,31,254,0],[50,4,254,0,"enumerable"],[50,14,254,0],[51,4,254,0,"get"],[51,7,254,0],[51,18,254,0,"get"],[51,19,254,0],[52,6,254,0],[52,13,254,166,"isChatCompletionResponse"],[52,37,254,190],[53,4,254,190],[54,2,254,190],[55,2,254,0,"Object"],[55,8,254,0],[55,9,254,0,"defineProperty"],[55,23,254,0],[55,24,254,0,"exports"],[55,31,254,0],[56,4,254,0,"enumerable"],[56,14,254,0],[57,4,254,0,"get"],[57,7,254,0],[57,18,254,0,"get"],[57,19,254,0],[58,6,254,0],[58,13,254,192,"isEmbeddingsResponse"],[58,33,254,212],[59,4,254,212],[60,2,254,212],[61,2,254,0,"Object"],[61,8,254,0],[61,9,254,0,"defineProperty"],[61,23,254,0],[61,24,254,0,"exports"],[61,31,254,0],[62,4,254,0,"enumerable"],[62,14,254,0],[63,4,254,0,"get"],[63,7,254,0],[63,18,254,0,"get"],[63,19,254,0],[64,6,254,0],[64,13,254,214,"isResponsesApiResponse"],[64,35,254,236],[65,4,254,236],[66,2,254,236],[67,2,254,0,"Object"],[67,8,254,0],[67,9,254,0,"defineProperty"],[67,23,254,0],[67,24,254,0,"exports"],[67,31,254,0],[68,4,254,0,"enumerable"],[68,14,254,0],[69,4,254,0,"get"],[69,7,254,0],[69,18,254,0,"get"],[69,19,254,0],[70,6,254,0],[70,13,254,238,"isResponsesApiStreamEvent"],[70,38,254,263],[71,4,254,263],[72,2,254,263],[73,2,254,0,"Object"],[73,8,254,0],[73,9,254,0,"defineProperty"],[73,23,254,0],[73,24,254,0,"exports"],[73,31,254,0],[74,4,254,0,"enumerable"],[74,14,254,0],[75,4,254,0,"get"],[75,7,254,0],[75,18,254,0,"get"],[75,19,254,0],[76,6,254,0],[76,13,254,265,"setCommonResponseAttributes"],[76,40,254,292],[77,4,254,292],[78,2,254,292],[79,2,254,0,"Object"],[79,8,254,0],[79,9,254,0,"defineProperty"],[79,23,254,0],[79,24,254,0,"exports"],[79,31,254,0],[80,4,254,0,"enumerable"],[80,14,254,0],[81,4,254,0,"get"],[81,7,254,0],[81,18,254,0,"get"],[81,19,254,0],[82,6,254,0],[82,13,254,294,"setTokenUsageAttributes"],[82,36,254,317],[83,4,254,317],[84,2,254,317],[85,2,254,0,"Object"],[85,8,254,0],[85,9,254,0,"defineProperty"],[85,23,254,0],[85,24,254,0,"exports"],[85,31,254,0],[86,4,254,0,"enumerable"],[86,14,254,0],[87,4,254,0,"get"],[87,7,254,0],[87,18,254,0,"get"],[87,19,254,0],[88,6,254,0],[88,13,254,319,"shouldInstrument"],[88,29,254,335],[89,4,254,335],[90,2,254,335],[91,2,1,0],[91,6,1,0,"_aiGenAiAttributesJs"],[91,26,1,0],[91,29,1,0,"require"],[91,36,1,0],[91,37,1,0,"_dependencyMap"],[91,51,1,0],[92,2,2,0],[92,6,2,0,"_constantsJs"],[92,18,2,0],[92,21,2,0,"require"],[92,28,2,0],[92,29,2,0,"_dependencyMap"],[92,43,2,0],[93,2,4,0],[94,0,5,0],[95,0,6,0],[96,2,7,0],[96,11,7,9,"getOperationName"],[96,27,7,25,"getOperationName"],[96,28,7,26,"methodPath"],[96,38,7,36],[96,40,7,38],[97,4,8,2],[97,8,8,6,"methodPath"],[97,18,8,16],[97,19,8,17,"includes"],[97,27,8,25],[97,28,8,26],[97,46,8,44],[97,47,8,45],[97,49,8,47],[98,6,9,4],[98,13,9,11,"OPENAI_OPERATIONS"],[98,33,9,28],[98,34,9,28,"OPENAI_OPERATIONS"],[98,51,9,28],[98,52,9,29,"CHAT"],[98,56,9,33],[99,4,10,2],[100,4,11,2],[100,8,11,6,"methodPath"],[100,18,11,16],[100,19,11,17,"includes"],[100,27,11,25],[100,28,11,26],[100,39,11,37],[100,40,11,38],[100,42,11,40],[101,6,12,4],[101,13,12,11,"OPENAI_OPERATIONS"],[101,33,12,28],[101,34,12,28,"OPENAI_OPERATIONS"],[101,51,12,28],[101,52,12,29,"RESPONSES"],[101,61,12,38],[102,4,13,2],[103,4,14,2],[103,8,14,6,"methodPath"],[103,18,14,16],[103,19,14,17,"includes"],[103,27,14,25],[103,28,14,26],[103,40,14,38],[103,41,14,39],[103,43,14,41],[104,6,15,4],[104,13,15,11,"OPENAI_OPERATIONS"],[104,33,15,28],[104,34,15,28,"OPENAI_OPERATIONS"],[104,51,15,28],[104,52,15,29,"EMBEDDINGS"],[104,62,15,39],[105,4,16,2],[106,4,17,2],[106,11,17,9,"methodPath"],[106,21,17,19],[106,22,17,20,"split"],[106,27,17,25],[106,28,17,26],[106,31,17,29],[106,32,17,30],[106,33,17,31,"pop"],[106,36,17,34],[106,37,17,35],[106,38,17,36],[106,42,17,40],[106,51,17,49],[107,2,18,0],[109,2,20,0],[110,0,21,0],[111,0,22,0],[112,0,23,0],[113,2,24,0],[113,11,24,9,"getSpanOperation"],[113,27,24,25,"getSpanOperation"],[113,28,24,26,"methodPath"],[113,38,24,36],[113,40,24,38],[114,4,25,2],[114,11,25,9],[114,21,25,19,"getOperationName"],[114,37,25,35],[114,38,25,36,"methodPath"],[114,48,25,46],[114,49,25,47],[114,51,25,49],[115,2,26,0],[117,2,28,0],[118,0,29,0],[119,0,30,0],[120,2,31,0],[120,11,31,9,"shouldInstrument"],[120,27,31,25,"shouldInstrument"],[120,28,31,26,"methodPath"],[120,38,31,36],[120,40,31,38],[121,4,32,2],[121,11,32,9,"INSTRUMENTED_METHODS"],[121,23,32,29],[121,24,32,29,"INSTRUMENTED_METHODS"],[121,44,32,29],[121,45,32,30,"includes"],[121,53,32,38],[121,54,32,39,"methodPath"],[121,64,32,50],[121,65,32,51],[122,2,33,0],[124,2,35,0],[125,0,36,0],[126,0,37,0],[127,2,38,0],[127,11,38,9,"buildMethodPath"],[127,26,38,24,"buildMethodPath"],[127,27,38,25,"currentPath"],[127,38,38,36],[127,40,38,38,"prop"],[127,44,38,42],[127,46,38,44],[128,4,39,2],[128,11,39,9,"currentPath"],[128,22,39,20],[128,25,39,23],[128,28,39,26,"currentPath"],[128,39,39,37],[128,43,39,41,"prop"],[128,47,39,45],[128,49,39,47],[128,52,39,50,"prop"],[128,56,39,54],[129,2,40,0],[131,2,42,0],[132,0,43,0],[133,0,44,0],[134,2,45,0],[134,11,45,9,"isChatCompletionResponse"],[134,35,45,33,"isChatCompletionResponse"],[134,36,45,34,"response"],[134,44,45,42],[134,46,45,44],[135,4,46,2],[135,11,47,4,"response"],[135,19,47,12],[135,24,47,17],[135,28,47,21],[135,32,48,4],[135,39,48,11,"response"],[135,47,48,19],[135,52,48,24],[135,60,48,32],[135,64,49,4],[135,72,49,12],[135,76,49,16,"response"],[135,84,49,24],[135,88,50,5,"response"],[135,96,50,13],[135,97,50,16,"object"],[135,103,50,22],[135,108,50,27],[135,125,50,44],[136,2,52,0],[138,2,54,0],[139,0,55,0],[140,0,56,0],[141,2,57,0],[141,11,57,9,"isResponsesApiResponse"],[141,33,57,31,"isResponsesApiResponse"],[141,34,57,32,"response"],[141,42,57,40],[141,44,57,42],[142,4,58,2],[142,11,59,4,"response"],[142,19,59,12],[142,24,59,17],[142,28,59,21],[142,32,60,4],[142,39,60,11,"response"],[142,47,60,19],[142,52,60,24],[142,60,60,32],[142,64,61,4],[142,72,61,12],[142,76,61,16,"response"],[142,84,61,24],[142,88,62,5,"response"],[142,96,62,13],[142,97,62,16,"object"],[142,103,62,22],[142,108,62,27],[142,118,62,37],[143,2,64,0],[145,2,66,0],[146,0,67,0],[147,0,68,0],[148,2,69,0],[148,11,69,9,"isEmbeddingsResponse"],[148,31,69,29,"isEmbeddingsResponse"],[148,32,69,30,"response"],[148,40,69,38],[148,42,69,40],[149,4,70,2],[149,8,70,6,"response"],[149,16,70,14],[149,21,70,19],[149,25,70,23],[149,29,70,27],[149,36,70,34,"response"],[149,44,70,42],[149,49,70,47],[149,57,70,55],[149,61,70,59],[149,63,70,61],[149,71,70,69],[149,75,70,73,"response"],[149,83,70,81],[149,84,70,82],[149,86,70,84],[150,6,71,4],[150,13,71,11],[150,18,71,16],[151,4,72,2],[152,4,73,2],[152,8,73,8,"responseObject"],[152,22,73,22],[152,25,73,25,"response"],[152,33,73,33],[153,4,74,2],[153,11,75,4,"responseObject"],[153,25,75,18],[153,26,75,19,"object"],[153,32,75,25],[153,37,75,30],[153,43,75,36],[153,47,76,4],[153,54,76,11,"responseObject"],[153,68,76,25],[153,69,76,26,"model"],[153,74,76,31],[153,79,76,36],[153,87,76,44],[153,91,77,4,"responseObject"],[153,105,77,18],[153,106,77,19,"model"],[153,111,77,24],[153,112,77,25,"toLowerCase"],[153,123,77,36],[153,124,77,37],[153,125,77,38],[153,126,77,39,"includes"],[153,134,77,47],[153,135,77,48],[153,146,77,59],[153,147,77,60],[154,2,79,0],[156,2,81,0],[157,0,82,0],[158,0,83,0],[159,2,84,0],[159,11,84,9,"isResponsesApiStreamEvent"],[159,36,84,34,"isResponsesApiStreamEvent"],[159,37,84,35,"event"],[159,42,84,40],[159,44,84,42],[160,4,85,2],[160,11,86,4,"event"],[160,16,86,9],[160,21,86,14],[160,25,86,18],[160,29,87,4],[160,36,87,11,"event"],[160,41,87,16],[160,46,87,21],[160,54,87,29],[160,58,88,4],[160,64,88,10],[160,68,88,14,"event"],[160,73,88,19],[160,77,89,4],[160,84,89,12,"event"],[160,89,89,17],[160,90,89,20,"type"],[160,94,89,24],[160,99,89,29],[160,107,89,37],[160,111,90,6,"event"],[160,116,90,11],[160,117,90,14,"type"],[160,121,90,18],[160,122,90,21,"startsWith"],[160,132,90,31],[160,133,90,32],[160,144,90,43],[160,145,90,44],[161,2,92,0],[163,2,94,0],[164,0,95,0],[165,0,96,0],[166,2,97,0],[166,11,97,9,"isChatCompletionChunk"],[166,32,97,30,"isChatCompletionChunk"],[166,33,97,31,"event"],[166,38,97,36],[166,40,97,38],[167,4,98,2],[167,11,99,4,"event"],[167,16,99,9],[167,21,99,14],[167,25,99,18],[167,29,100,4],[167,36,100,11,"event"],[167,41,100,16],[167,46,100,21],[167,54,100,29],[167,58,101,4],[167,66,101,12],[167,70,101,16,"event"],[167,75,101,21],[167,79,102,5,"event"],[167,84,102,10],[167,85,102,13,"object"],[167,91,102,19],[167,96,102,24],[167,119,102,47],[168,2,104,0],[170,2,106,0],[171,0,107,0],[172,0,108,0],[173,2,109,0],[173,11,109,9,"addChatCompletionAttributes"],[173,38,109,36,"addChatCompletionAttributes"],[173,39,110,2,"span"],[173,43,110,6],[173,45,111,2,"response"],[173,53,111,10],[173,55,112,2,"recordOutputs"],[173,68,112,15],[173,70,113,2],[174,4,114,2,"setCommonResponseAttributes"],[174,31,114,29],[174,32,114,30,"span"],[174,36,114,34],[174,38,114,36,"response"],[174,46,114,44],[174,47,114,45,"id"],[174,49,114,47],[174,51,114,49,"response"],[174,59,114,57],[174,60,114,58,"model"],[174,65,114,63],[174,67,114,65,"response"],[174,75,114,73],[174,76,114,74,"created"],[174,83,114,81],[174,84,114,82],[175,4,115,2],[175,8,115,6,"response"],[175,16,115,14],[175,17,115,15,"usage"],[175,22,115,20],[175,24,115,22],[176,6,116,4,"setTokenUsageAttributes"],[176,29,116,27],[176,30,117,6,"span"],[176,34,117,10],[176,36,118,6,"response"],[176,44,118,14],[176,45,118,15,"usage"],[176,50,118,20],[176,51,118,21,"prompt_tokens"],[176,64,118,34],[176,66,119,6,"response"],[176,74,119,14],[176,75,119,15,"usage"],[176,80,119,20],[176,81,119,21,"completion_tokens"],[176,98,119,38],[176,100,120,6,"response"],[176,108,120,14],[176,109,120,15,"usage"],[176,114,120,20],[176,115,120,21,"total_tokens"],[176,127,121,4],[176,128,121,5],[177,4,122,2],[178,4,123,2],[178,8,123,6,"Array"],[178,13,123,11],[178,14,123,12,"isArray"],[178,21,123,19],[178,22,123,20,"response"],[178,30,123,28],[178,31,123,29,"choices"],[178,38,123,36],[178,39,123,37],[178,41,123,39],[179,6,124,4],[179,10,124,10,"finishReasons"],[179,23,124,23],[179,26,124,26,"response"],[179,34,124,34],[179,35,124,35,"choices"],[179,42,124,42],[179,43,125,7,"map"],[179,46,125,10],[179,47,125,11,"choice"],[179,53,125,17],[179,57,125,21,"choice"],[179,63,125,27],[179,64,125,28,"finish_reason"],[179,77,125,41],[179,78,125,42],[179,79,126,7,"filter"],[179,85,126,13],[179,86,126,15,"reason"],[179,92,126,21],[179,96,126,26,"reason"],[179,102,126,32],[179,107,126,37],[179,111,126,41],[179,112,126,42],[180,6,127,4],[180,10,127,8,"finishReasons"],[180,23,127,21],[180,24,127,22,"length"],[180,30,127,28],[180,33,127,31],[180,34,127,32],[180,36,127,34],[181,8,128,6,"span"],[181,12,128,10],[181,13,128,11,"setAttributes"],[181,26,128,24],[181,27,128,25],[182,10,129,8],[182,11,129,9,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[182,31,129,49],[182,32,129,49,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[182,72,129,49],[182,75,129,52,"JSON"],[182,79,129,56],[182,80,129,57,"stringify"],[182,89,129,66],[182,90,129,67,"finishReasons"],[182,103,129,80],[183,8,130,6],[183,9,130,7],[183,10,130,8],[184,6,131,4],[186,6,133,4],[187,6,134,4],[187,10,134,8,"recordOutputs"],[187,23,134,21],[187,25,134,23],[188,8,135,6],[188,12,135,12,"toolCalls"],[188,21,135,21],[188,24,135,24,"response"],[188,32,135,32],[188,33,135,33,"choices"],[188,40,135,40],[188,41,136,9,"map"],[188,44,136,12],[188,45,136,13,"choice"],[188,51,136,19],[188,55,136,23,"choice"],[188,61,136,29],[188,62,136,30,"message"],[188,69,136,37],[188,71,136,39,"tool_calls"],[188,81,136,49],[188,82,136,50],[188,83,137,9,"filter"],[188,89,137,15],[188,90,137,16,"calls"],[188,95,137,21],[188,99,137,25,"Array"],[188,104,137,30],[188,105,137,31,"isArray"],[188,112,137,38],[188,113,137,39,"calls"],[188,118,137,44],[188,119,137,45],[188,123,137,49,"calls"],[188,128,137,54],[188,129,137,55,"length"],[188,135,137,61],[188,138,137,64],[188,139,137,65],[188,140,137,66],[188,141,138,9,"flat"],[188,145,138,13],[188,146,138,14],[188,147,138,15],[189,8,140,6],[189,12,140,10,"toolCalls"],[189,21,140,19],[189,22,140,20,"length"],[189,28,140,26],[189,31,140,29],[189,32,140,30],[189,34,140,32],[190,10,141,8,"span"],[190,14,141,12],[190,15,141,13,"setAttributes"],[190,28,141,26],[190,29,141,27],[191,12,142,10],[191,13,142,11,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[191,33,142,47],[191,34,142,47,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[191,70,142,47],[191,73,142,50,"JSON"],[191,77,142,54],[191,78,142,55,"stringify"],[191,87,142,64],[191,88,142,65,"toolCalls"],[191,97,142,74],[192,10,143,8],[192,11,143,9],[192,12,143,10],[193,8,144,6],[194,6,145,4],[195,4,146,2],[196,2,147,0],[198,2,149,0],[199,0,150,0],[200,0,151,0],[201,2,152,0],[201,11,152,9,"addResponsesApiAttributes"],[201,36,152,34,"addResponsesApiAttributes"],[201,37,152,35,"span"],[201,41,152,39],[201,43,152,41,"response"],[201,51,152,49],[201,53,152,51,"recordOutputs"],[201,66,152,64],[201,68,152,66],[202,4,153,2,"setCommonResponseAttributes"],[202,31,153,29],[202,32,153,30,"span"],[202,36,153,34],[202,38,153,36,"response"],[202,46,153,44],[202,47,153,45,"id"],[202,49,153,47],[202,51,153,49,"response"],[202,59,153,57],[202,60,153,58,"model"],[202,65,153,63],[202,67,153,65,"response"],[202,75,153,73],[202,76,153,74,"created_at"],[202,86,153,84],[202,87,153,85],[203,4,154,2],[203,8,154,6,"response"],[203,16,154,14],[203,17,154,15,"status"],[203,23,154,21],[203,25,154,23],[204,6,155,4,"span"],[204,10,155,8],[204,11,155,9,"setAttributes"],[204,24,155,22],[204,25,155,23],[205,8,156,6],[205,9,156,7,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[205,29,156,47],[205,30,156,47,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[205,70,156,47],[205,73,156,50,"JSON"],[205,77,156,54],[205,78,156,55,"stringify"],[205,87,156,64],[205,88,156,65],[205,89,156,66,"response"],[205,97,156,74],[205,98,156,75,"status"],[205,104,156,81],[205,105,156,82],[206,6,157,4],[206,7,157,5],[206,8,157,6],[207,4,158,2],[208,4,159,2],[208,8,159,6,"response"],[208,16,159,14],[208,17,159,15,"usage"],[208,22,159,20],[208,24,159,22],[209,6,160,4,"setTokenUsageAttributes"],[209,29,160,27],[209,30,161,6,"span"],[209,34,161,10],[209,36,162,6,"response"],[209,44,162,14],[209,45,162,15,"usage"],[209,50,162,20],[209,51,162,21,"input_tokens"],[209,63,162,33],[209,65,163,6,"response"],[209,73,163,14],[209,74,163,15,"usage"],[209,79,163,20],[209,80,163,21,"output_tokens"],[209,93,163,34],[209,95,164,6,"response"],[209,103,164,14],[209,104,164,15,"usage"],[209,109,164,20],[209,110,164,21,"total_tokens"],[209,122,165,4],[209,123,165,5],[210,4,166,2],[212,4,168,2],[213,4,169,2],[213,8,169,6,"recordOutputs"],[213,21,169,19],[213,23,169,21],[214,6,170,4],[214,10,170,10,"responseWithOutput"],[214,28,170,28],[214,31,170,31,"response"],[214,39,170,39],[215,6,171,4],[215,10,171,8,"Array"],[215,15,171,13],[215,16,171,14,"isArray"],[215,23,171,21],[215,24,171,22,"responseWithOutput"],[215,42,171,40],[215,43,171,41,"output"],[215,49,171,47],[215,50,171,48],[215,54,171,52,"responseWithOutput"],[215,72,171,70],[215,73,171,71,"output"],[215,79,171,77],[215,80,171,78,"length"],[215,86,171,84],[215,89,171,87],[215,90,171,88],[215,92,171,90],[216,8,172,6],[217,8,173,6],[217,12,173,12,"functionCalls"],[217,25,173,25],[217,28,173,28,"responseWithOutput"],[217,46,173,46],[217,47,173,47,"output"],[217,53,173,53],[217,54,173,54,"filter"],[217,60,173,60],[217,61,174,9,"item"],[217,65,174,13],[217,69,175,10],[217,76,175,17,"item"],[217,80,175,21],[217,85,175,26],[217,93,175,34],[217,97,175,38,"item"],[217,101,175,42],[217,106,175,47],[217,110,175,51],[217,114,175,56,"item"],[217,118,175,60],[217,119,175,63,"type"],[217,123,175,67],[217,128,175,72],[217,143,176,6],[217,144,176,7],[218,8,178,6],[218,12,178,10,"functionCalls"],[218,25,178,23],[218,26,178,24,"length"],[218,32,178,30],[218,35,178,33],[218,36,178,34],[218,38,178,36],[219,10,179,8,"span"],[219,14,179,12],[219,15,179,13,"setAttributes"],[219,28,179,26],[219,29,179,27],[220,12,180,10],[220,13,180,11,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[220,33,180,47],[220,34,180,47,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[220,70,180,47],[220,73,180,50,"JSON"],[220,77,180,54],[220,78,180,55,"stringify"],[220,87,180,64],[220,88,180,65,"functionCalls"],[220,101,180,78],[221,10,181,8],[221,11,181,9],[221,12,181,10],[222,8,182,6],[223,6,183,4],[224,4,184,2],[225,2,185,0],[227,2,187,0],[228,0,188,0],[229,0,189,0],[230,2,190,0],[230,11,190,9,"addEmbeddingsAttributes"],[230,34,190,32,"addEmbeddingsAttributes"],[230,35,190,33,"span"],[230,39,190,37],[230,41,190,39,"response"],[230,49,190,47],[230,51,190,49],[231,4,191,2,"span"],[231,8,191,6],[231,9,191,7,"setAttributes"],[231,22,191,20],[231,23,191,21],[232,6,192,4],[232,7,192,5,"OPENAI_RESPONSE_MODEL_ATTRIBUTE"],[232,27,192,36],[232,28,192,36,"OPENAI_RESPONSE_MODEL_ATTRIBUTE"],[232,59,192,36],[232,62,192,39,"response"],[232,70,192,47],[232,71,192,48,"model"],[232,76,192,53],[233,6,193,4],[233,7,193,5,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[233,27,193,36],[233,28,193,36,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[233,59,193,36],[233,62,193,39,"response"],[233,70,193,47],[233,71,193,48,"model"],[234,4,194,2],[234,5,194,3],[234,6,194,4],[235,4,196,2],[235,8,196,6,"response"],[235,16,196,14],[235,17,196,15,"usage"],[235,22,196,20],[235,24,196,22],[236,6,197,4,"setTokenUsageAttributes"],[236,29,197,27],[236,30,197,28,"span"],[236,34,197,32],[236,36,197,34,"response"],[236,44,197,42],[236,45,197,43,"usage"],[236,50,197,48],[236,51,197,49,"prompt_tokens"],[236,64,197,62],[236,66,197,64,"undefined"],[236,75,197,73],[236,77,197,75,"response"],[236,85,197,83],[236,86,197,84,"usage"],[236,91,197,89],[236,92,197,90,"total_tokens"],[236,104,197,102],[236,105,197,103],[237,4,198,2],[238,2,199,0],[240,2,201,0],[241,0,202,0],[242,0,203,0],[243,0,204,0],[244,0,205,0],[245,0,206,0],[246,0,207,0],[247,2,208,0],[247,11,208,9,"setTokenUsageAttributes"],[247,34,208,32,"setTokenUsageAttributes"],[247,35,209,2,"span"],[247,39,209,6],[247,41,210,2,"promptTokens"],[247,53,210,14],[247,55,211,2,"completionTokens"],[247,71,211,18],[247,73,212,2,"totalTokens"],[247,84,212,13],[247,86,213,2],[248,4,214,2],[248,8,214,6,"promptTokens"],[248,20,214,18],[248,25,214,23,"undefined"],[248,34,214,32],[248,36,214,34],[249,6,215,4,"span"],[249,10,215,8],[249,11,215,9,"setAttributes"],[249,24,215,22],[249,25,215,23],[250,8,216,6],[250,9,216,7,"OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE"],[250,29,216,43],[250,30,216,43,"OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE"],[250,66,216,43],[250,69,216,46,"promptTokens"],[250,81,216,58],[251,8,217,6],[251,9,217,7,"GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE"],[251,29,217,42],[251,30,217,42,"GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE"],[251,65,217,42],[251,68,217,45,"promptTokens"],[252,6,218,4],[252,7,218,5],[252,8,218,6],[253,4,219,2],[254,4,220,2],[254,8,220,6,"completionTokens"],[254,24,220,22],[254,29,220,27,"undefined"],[254,38,220,36],[254,40,220,38],[255,6,221,4,"span"],[255,10,221,8],[255,11,221,9,"setAttributes"],[255,24,221,22],[255,25,221,23],[256,8,222,6],[256,9,222,7,"OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE"],[256,29,222,47],[256,30,222,47,"OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE"],[256,70,222,47],[256,73,222,50,"completionTokens"],[256,89,222,66],[257,8,223,6],[257,9,223,7,"GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE"],[257,29,223,43],[257,30,223,43,"GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE"],[257,66,223,43],[257,69,223,46,"completionTokens"],[258,6,224,4],[258,7,224,5],[258,8,224,6],[259,4,225,2],[260,4,226,2],[260,8,226,6,"totalTokens"],[260,19,226,17],[260,24,226,22,"undefined"],[260,33,226,31],[260,35,226,33],[261,6,227,4,"span"],[261,10,227,8],[261,11,227,9,"setAttributes"],[261,24,227,22],[261,25,227,23],[262,8,228,6],[262,9,228,7,"GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE"],[262,29,228,42],[262,30,228,42,"GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE"],[262,65,228,42],[262,68,228,45,"totalTokens"],[263,6,229,4],[263,7,229,5],[263,8,229,6],[264,4,230,2],[265,2,231,0],[267,2,233,0],[268,0,234,0],[269,0,235,0],[270,0,236,0],[271,0,237,0],[272,0,238,0],[273,0,239,0],[274,2,240,0],[274,11,240,9,"setCommonResponseAttributes"],[274,38,240,36,"setCommonResponseAttributes"],[274,39,240,37,"span"],[274,43,240,41],[274,45,240,43,"id"],[274,47,240,45],[274,49,240,47,"model"],[274,54,240,52],[274,56,240,54,"timestamp"],[274,65,240,63],[274,67,240,65],[275,4,241,2,"span"],[275,8,241,6],[275,9,241,7,"setAttributes"],[275,22,241,20],[275,23,241,21],[276,6,242,4],[276,7,242,5,"OPENAI_RESPONSE_ID_ATTRIBUTE"],[276,27,242,33],[276,28,242,33,"OPENAI_RESPONSE_ID_ATTRIBUTE"],[276,56,242,33],[276,59,242,36,"id"],[276,61,242,38],[277,6,243,4],[277,7,243,5,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[277,27,243,33],[277,28,243,33,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[277,56,243,33],[277,59,243,36,"id"],[278,4,244,2],[278,5,244,3],[278,6,244,4],[279,4,245,2,"span"],[279,8,245,6],[279,9,245,7,"setAttributes"],[279,22,245,20],[279,23,245,21],[280,6,246,4],[280,7,246,5,"OPENAI_RESPONSE_MODEL_ATTRIBUTE"],[280,27,246,36],[280,28,246,36,"OPENAI_RESPONSE_MODEL_ATTRIBUTE"],[280,59,246,36],[280,62,246,39,"model"],[280,67,246,44],[281,6,247,4],[281,7,247,5,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[281,27,247,36],[281,28,247,36,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[281,59,247,36],[281,62,247,39,"model"],[282,4,248,2],[282,5,248,3],[282,6,248,4],[283,4,249,2,"span"],[283,8,249,6],[283,9,249,7,"setAttributes"],[283,22,249,20],[283,23,249,21],[284,6,250,4],[284,7,250,5,"OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[284,27,250,40],[284,28,250,40,"OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[284,63,250,40],[284,66,250,43],[284,70,250,47,"Date"],[284,74,250,51],[284,75,250,52,"timestamp"],[284,84,250,61],[284,87,250,64],[284,91,250,68],[284,92,250,69],[284,93,250,70,"toISOString"],[284,104,250,81],[284,105,250,82],[285,4,251,2],[285,5,251,3],[285,6,251,4],[286,2,252,0],[287,0,252,1],[287,3]],"functionMap":{"names":["<global>","getOperationName","getSpanOperation","shouldInstrument","buildMethodPath","isChatCompletionResponse","isResponsesApiResponse","isEmbeddingsResponse","isResponsesApiStreamEvent","isChatCompletionChunk","addChatCompletionAttributes","response.choices.map$argument_0","response.choices.map.filter$argument_0","addResponsesApiAttributes","responseWithOutput.output.filter$argument_0","addEmbeddingsAttributes","setTokenUsageAttributes","setCommonResponseAttributes"],"mappings":"AAA;ACM;CDW;AEM;CFE;AGK;CHE;AIK;CJE;AKK;CLO;AMK;CNO;AOK;CPU;AQK;CRQ;ASK;CTO;AUK;WCgB,8BD;cEC,2BF;aCU,oCD;gBEC,iDF;CVU;AaK;QCsB;uFDC;CbU;AeK;CfS;AgBS;ChBuB;AiBS;CjBY"},"hasCjsExports":false},"type":"js/module"}]}