{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":85},"end":{"line":3,"column":47,"index":132}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useSubscriptionActions = useSubscriptionActions;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[1], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _reactNativePurchases = require(_dependencyMap[2], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  function useSubscriptionActions(isAvailable, error, refresh, goBack, alertTitle, hasSelectedTier, selectedPkg) {\n    _s();\n    const [purchasing, setPurchasing] = (0, _react.useState)(false);\n    const onSubscribe = (0, _react.useCallback)(async () => {\n      // If already has this tier, treat as \"Done\".\n      if (hasSelectedTier) {\n        goBack();\n        return;\n      }\n      if (!isAvailable) {\n        Alert.default.alert(alertTitle, error || \"Subscriptions are not available right now.\");\n        return;\n      }\n      if (!selectedPkg) {\n        Alert.default.alert(alertTitle, \"Please pick a plan.\");\n        return;\n      }\n      try {\n        setPurchasing(true);\n        await Purchases.default.purchasePackage(selectedPkg);\n        await refresh();\n        goBack();\n      } catch (e) {\n        const cancelled = e?.userCancelled || e?.code === \"PURCHASE_CANCELLED\";\n        if (cancelled) {\n          return;\n        }\n        console.error(e);\n        Alert.default.alert(alertTitle, \"Purchase failed. Please try again.\");\n      } finally {\n        setPurchasing(false);\n      }\n    }, [alertTitle, error, goBack, hasSelectedTier, isAvailable, refresh, selectedPkg]);\n    const onRestore = (0, _react.useCallback)(async () => {\n      if (!isAvailable) {\n        Alert.default.alert(alertTitle, error || \"Subscriptions are not available right now.\");\n        return;\n      }\n      try {\n        setPurchasing(true);\n        await Purchases.default.restorePurchases();\n        await refresh();\n        goBack();\n      } catch (e) {\n        console.error(e);\n        Alert.default.alert(alertTitle, \"Could not restore purchases.\");\n      } finally {\n        setPurchasing(false);\n      }\n    }, [alertTitle, error, goBack, isAvailable, refresh]);\n    return {\n      purchasing,\n      onSubscribe,\n      onRestore\n    };\n  }\n  _s(useSubscriptionActions, \"NNn7nUXjisxPv5OSI6Q05Eikp9Q=\");\n});","lineCount":76,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useSubscriptionActions"],[13,32,5,0],[13,35,5,0,"useSubscriptionActions"],[13,57,5,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,1,46],[15,6,1,46,"_reactNativeWebDistExportsAlert"],[15,37,1,46],[15,40,1,46,"require"],[15,47,1,46],[15,48,1,46,"_dependencyMap"],[15,62,1,46],[16,2,1,46],[16,6,1,46,"Alert"],[16,11,1,46],[16,14,1,46,"_interopDefault"],[16,29,1,46],[16,30,1,46,"_reactNativeWebDistExportsAlert"],[16,61,1,46],[17,2,3,0],[17,6,3,0,"_reactNativePurchases"],[17,27,3,0],[17,30,3,0,"require"],[17,37,3,0],[17,38,3,0,"_dependencyMap"],[17,52,3,0],[18,2,3,0],[18,6,3,0,"Purchases"],[18,15,3,0],[18,18,3,0,"_interopDefault"],[18,33,3,0],[18,34,3,0,"_reactNativePurchases"],[18,55,3,0],[19,2,5,7],[19,11,5,16,"useSubscriptionActions"],[19,33,5,38,"useSubscriptionActions"],[19,34,6,2,"isAvailable"],[19,45,6,13],[19,47,7,2,"error"],[19,52,7,7],[19,54,8,2,"refresh"],[19,61,8,9],[19,63,9,2,"goBack"],[19,69,9,8],[19,71,10,2,"alertTitle"],[19,81,10,12],[19,83,11,2,"hasSelectedTier"],[19,98,11,17],[19,100,12,2,"selectedPkg"],[19,111,12,13],[19,113,13,2],[20,4,13,2,"_s"],[20,6,13,2],[21,4,14,2],[21,10,14,8],[21,11,14,9,"purchasing"],[21,21,14,19],[21,23,14,21,"setPurchasing"],[21,36,14,34],[21,37,14,35],[21,40,14,38],[21,44,14,38,"useState"],[21,50,14,46],[21,51,14,46,"useState"],[21,59,14,46],[21,61,14,47],[21,66,14,52],[21,67,14,53],[22,4,16,2],[22,10,16,8,"onSubscribe"],[22,21,16,19],[22,24,16,22],[22,28,16,22,"useCallback"],[22,34,16,33],[22,35,16,33,"useCallback"],[22,46,16,33],[22,48,16,34],[22,60,16,46],[23,6,17,4],[24,6,18,4],[24,10,18,8,"hasSelectedTier"],[24,25,18,23],[24,27,18,25],[25,8,19,6,"goBack"],[25,14,19,12],[25,15,19,13],[25,16,19,14],[26,8,20,6],[27,6,21,4],[28,6,23,4],[28,10,23,8],[28,11,23,9,"isAvailable"],[28,22,23,20],[28,24,23,22],[29,8,24,6,"Alert"],[29,13,24,11],[29,14,24,11,"default"],[29,21,24,11],[29,22,24,12,"alert"],[29,27,24,17],[29,28,25,8,"alertTitle"],[29,38,25,18],[29,40,26,8,"error"],[29,45,26,13],[29,49,26,17],[29,93,27,6],[29,94,27,7],[30,8,28,6],[31,6,29,4],[32,6,31,4],[32,10,31,8],[32,11,31,9,"selectedPkg"],[32,22,31,20],[32,24,31,22],[33,8,32,6,"Alert"],[33,13,32,11],[33,14,32,11,"default"],[33,21,32,11],[33,22,32,12,"alert"],[33,27,32,17],[33,28,32,18,"alertTitle"],[33,38,32,28],[33,40,32,30],[33,61,32,51],[33,62,32,52],[34,8,33,6],[35,6,34,4],[36,6,36,4],[36,10,36,8],[37,8,37,6,"setPurchasing"],[37,21,37,19],[37,22,37,20],[37,26,37,24],[37,27,37,25],[38,8,38,6],[38,14,38,12,"Purchases"],[38,23,38,21],[38,24,38,21,"default"],[38,31,38,21],[38,32,38,22,"purchasePackage"],[38,47,38,37],[38,48,38,38,"selectedPkg"],[38,59,38,49],[38,60,38,50],[39,8,39,6],[39,14,39,12,"refresh"],[39,21,39,19],[39,22,39,20],[39,23,39,21],[40,8,40,6,"goBack"],[40,14,40,12],[40,15,40,13],[40,16,40,14],[41,6,41,4],[41,7,41,5],[41,8,41,6],[41,15,41,13,"e"],[41,16,41,14],[41,18,41,16],[42,8,42,6],[42,14,42,12,"cancelled"],[42,23,42,21],[42,26,42,24,"e"],[42,27,42,25],[42,29,42,27,"userCancelled"],[42,42,42,40],[42,46,42,44,"e"],[42,47,42,45],[42,49,42,47,"code"],[42,53,42,51],[42,58,42,56],[42,78,42,76],[43,8,43,6],[43,12,43,10,"cancelled"],[43,21,43,19],[43,23,43,21],[44,10,44,8],[45,8,45,6],[46,8,46,6,"console"],[46,15,46,13],[46,16,46,14,"error"],[46,21,46,19],[46,22,46,20,"e"],[46,23,46,21],[46,24,46,22],[47,8,47,6,"Alert"],[47,13,47,11],[47,14,47,11,"default"],[47,21,47,11],[47,22,47,12,"alert"],[47,27,47,17],[47,28,47,18,"alertTitle"],[47,38,47,28],[47,40,47,30],[47,76,47,66],[47,77,47,67],[48,6,48,4],[48,7,48,5],[48,16,48,14],[49,8,49,6,"setPurchasing"],[49,21,49,19],[49,22,49,20],[49,27,49,25],[49,28,49,26],[50,6,50,4],[51,4,51,2],[51,5,51,3],[51,7,51,5],[51,8,52,4,"alertTitle"],[51,18,52,14],[51,20,53,4,"error"],[51,25,53,9],[51,27,54,4,"goBack"],[51,33,54,10],[51,35,55,4,"hasSelectedTier"],[51,50,55,19],[51,52,56,4,"isAvailable"],[51,63,56,15],[51,65,57,4,"refresh"],[51,72,57,11],[51,74,58,4,"selectedPkg"],[51,85,58,15],[51,86,59,3],[51,87,59,4],[52,4,61,2],[52,10,61,8,"onRestore"],[52,19,61,17],[52,22,61,20],[52,26,61,20,"useCallback"],[52,32,61,31],[52,33,61,31,"useCallback"],[52,44,61,31],[52,46,61,32],[52,58,61,44],[53,6,62,4],[53,10,62,8],[53,11,62,9,"isAvailable"],[53,22,62,20],[53,24,62,22],[54,8,63,6,"Alert"],[54,13,63,11],[54,14,63,11,"default"],[54,21,63,11],[54,22,63,12,"alert"],[54,27,63,17],[54,28,64,8,"alertTitle"],[54,38,64,18],[54,40,65,8,"error"],[54,45,65,13],[54,49,65,17],[54,93,66,6],[54,94,66,7],[55,8,67,6],[56,6,68,4],[57,6,70,4],[57,10,70,8],[58,8,71,6,"setPurchasing"],[58,21,71,19],[58,22,71,20],[58,26,71,24],[58,27,71,25],[59,8,72,6],[59,14,72,12,"Purchases"],[59,23,72,21],[59,24,72,21,"default"],[59,31,72,21],[59,32,72,22,"restorePurchases"],[59,48,72,38],[59,49,72,39],[59,50,72,40],[60,8,73,6],[60,14,73,12,"refresh"],[60,21,73,19],[60,22,73,20],[60,23,73,21],[61,8,74,6,"goBack"],[61,14,74,12],[61,15,74,13],[61,16,74,14],[62,6,75,4],[62,7,75,5],[62,8,75,6],[62,15,75,13,"e"],[62,16,75,14],[62,18,75,16],[63,8,76,6,"console"],[63,15,76,13],[63,16,76,14,"error"],[63,21,76,19],[63,22,76,20,"e"],[63,23,76,21],[63,24,76,22],[64,8,77,6,"Alert"],[64,13,77,11],[64,14,77,11,"default"],[64,21,77,11],[64,22,77,12,"alert"],[64,27,77,17],[64,28,77,18,"alertTitle"],[64,38,77,28],[64,40,77,30],[64,70,77,60],[64,71,77,61],[65,6,78,4],[65,7,78,5],[65,16,78,14],[66,8,79,6,"setPurchasing"],[66,21,79,19],[66,22,79,20],[66,27,79,25],[66,28,79,26],[67,6,80,4],[68,4,81,2],[68,5,81,3],[68,7,81,5],[68,8,81,6,"alertTitle"],[68,18,81,16],[68,20,81,18,"error"],[68,25,81,23],[68,27,81,25,"goBack"],[68,33,81,31],[68,35,81,33,"isAvailable"],[68,46,81,44],[68,48,81,46,"refresh"],[68,55,81,53],[68,56,81,54],[68,57,81,55],[69,4,83,2],[69,11,83,9],[70,6,83,11,"purchasing"],[70,16,83,21],[71,6,83,23,"onSubscribe"],[71,17,83,34],[72,6,83,36,"onRestore"],[73,4,83,46],[73,5,83,47],[74,2,84,0],[75,2,84,1,"_s"],[75,4,84,1],[75,5,5,16,"useSubscriptionActions"],[75,27,5,38],[76,0,5,38],[76,3]],"functionMap":{"names":["<global>","useSubscriptionActions","onSubscribe","onRestore"],"mappings":"AAA;OCI;kCCW;GDmC;gCEU;GFoB;CDG"},"hasCjsExports":false},"type":"js/module"}]}