{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":122},"end":{"line":4,"column":30,"index":138}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":33,"index":173},"end":{"line":5,"column":49,"index":189}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./assignRef","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":210},"end":{"line":6,"column":40,"index":232}}],"key":"0yDedR+D9NWGib1l/Ps1QoOehXI=","exportNames":["*"],"imports":1}},{"name":"./useRef","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":249},"end":{"line":7,"column":34,"index":268}}],"key":"DwIkKkzmR+BtI+V7sxjsBpVIVEg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useMergeRefs = void 0;\n  var tslib_1 = require(_dependencyMap[0], \"tslib\");\n  var React = tslib_1.__importStar(require(_dependencyMap[1], \"react\"));\n  var assignRef_1 = require(_dependencyMap[2], \"./assignRef\");\n  var useRef_1 = require(_dependencyMap[3], \"./useRef\");\n  var useIsomorphicLayoutEffect = false ? React.useLayoutEffect : React.useEffect;\n  var currentValues = new WeakMap();\n  /**\n   * Merges two or more refs together providing a single interface to set their value\n   * @param {RefObject|Ref} refs\n   * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n   *\n   * @see {@link mergeRefs} a version without buit-in memoization\n   * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n   * @example\n   * const Component = React.forwardRef((props, ref) => {\n   *   const ownRef = useRef();\n   *   const domRef = useMergeRefs([ref, ownRef]); // ðŸ‘ˆ merge together\n   *   return <div ref={domRef}>...</div>\n   * }\n   */\n  function useMergeRefs(refs, defaultValue) {\n    var callbackRef = (0, useRef_1.useCallbackRef)(defaultValue || null, function (newValue) {\n      return refs.forEach(function (ref) {\n        return (0, assignRef_1.assignRef)(ref, newValue);\n      });\n    });\n    // handle refs changes - added or removed\n    useIsomorphicLayoutEffect(function () {\n      var oldValue = currentValues.get(callbackRef);\n      if (oldValue) {\n        var prevRefs_1 = new Set(oldValue);\n        var nextRefs_1 = new Set(refs);\n        var current_1 = callbackRef.current;\n        prevRefs_1.forEach(function (ref) {\n          if (!nextRefs_1.has(ref)) {\n            (0, assignRef_1.assignRef)(ref, null);\n          }\n        });\n        nextRefs_1.forEach(function (ref) {\n          if (!prevRefs_1.has(ref)) {\n            (0, assignRef_1.assignRef)(ref, current_1);\n          }\n        });\n      }\n      currentValues.set(callbackRef, refs);\n    }, [refs]);\n    return callbackRef;\n  }\n  exports.useMergeRefs = useMergeRefs;\n});","lineCount":57,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"useMergeRefs"],[7,22,3,20],[7,25,3,23],[7,30,3,28],[7,31,3,29],[8,2,4,0],[8,6,4,4,"tslib_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,50,4,29],[8,51,4,30],[9,2,5,0],[9,6,5,4,"React"],[9,11,5,9],[9,14,5,12,"tslib_1"],[9,21,5,19],[9,22,5,20,"__importStar"],[9,34,5,32],[9,35,5,33,"require"],[9,42,5,40],[9,43,5,40,"_dependencyMap"],[9,57,5,40],[9,69,5,48],[9,70,5,49],[9,71,5,50],[10,2,6,0],[10,6,6,4,"assignRef_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,60,6,39],[10,61,6,40],[11,2,7,0],[11,6,7,4,"useRef_1"],[11,14,7,12],[11,17,7,15,"require"],[11,24,7,22],[11,25,7,22,"_dependencyMap"],[11,39,7,22],[11,54,7,33],[11,55,7,34],[12,2,8,0],[12,6,8,4,"useIsomorphicLayoutEffect"],[12,31,8,29],[12,34,8,32],[12,42,8,64,"React"],[12,47,8,69],[12,48,8,70,"useLayoutEffect"],[12,63,8,85],[12,66,8,88,"React"],[12,71,8,93],[12,72,8,94,"useEffect"],[12,81,8,103],[13,2,9,0],[13,6,9,4,"currentValues"],[13,19,9,17],[13,22,9,20],[13,26,9,24,"WeakMap"],[13,33,9,31],[13,34,9,32],[13,35,9,33],[14,2,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[28,2,24,0],[28,11,24,9,"useMergeRefs"],[28,23,24,21,"useMergeRefs"],[28,24,24,22,"refs"],[28,28,24,26],[28,30,24,28,"defaultValue"],[28,42,24,40],[28,44,24,42],[29,4,25,4],[29,8,25,8,"callbackRef"],[29,19,25,19],[29,22,25,22],[29,23,25,23],[29,24,25,24],[29,26,25,26,"useRef_1"],[29,34,25,34],[29,35,25,35,"useCallbackRef"],[29,49,25,49],[29,51,25,51,"defaultValue"],[29,63,25,63],[29,67,25,67],[29,71,25,71],[29,73,25,73],[29,83,25,83,"newValue"],[29,91,25,91],[29,93,25,93],[30,6,26,8],[30,13,26,15,"refs"],[30,17,26,19],[30,18,26,20,"forEach"],[30,25,26,27],[30,26,26,28],[30,36,26,38,"ref"],[30,39,26,41],[30,41,26,43],[31,8,26,45],[31,15,26,52],[31,16,26,53],[31,17,26,54],[31,19,26,56,"assignRef_1"],[31,30,26,67],[31,31,26,68,"assignRef"],[31,40,26,77],[31,42,26,79,"ref"],[31,45,26,82],[31,47,26,84,"newValue"],[31,55,26,92],[31,56,26,93],[32,6,26,95],[32,7,26,96],[32,8,26,97],[33,4,27,4],[33,5,27,5],[33,6,27,6],[34,4,28,4],[35,4,29,4,"useIsomorphicLayoutEffect"],[35,29,29,29],[35,30,29,30],[35,42,29,42],[36,6,30,8],[36,10,30,12,"oldValue"],[36,18,30,20],[36,21,30,23,"currentValues"],[36,34,30,36],[36,35,30,37,"get"],[36,38,30,40],[36,39,30,41,"callbackRef"],[36,50,30,52],[36,51,30,53],[37,6,31,8],[37,10,31,12,"oldValue"],[37,18,31,20],[37,20,31,22],[38,8,32,12],[38,12,32,16,"prevRefs_1"],[38,22,32,26],[38,25,32,29],[38,29,32,33,"Set"],[38,32,32,36],[38,33,32,37,"oldValue"],[38,41,32,45],[38,42,32,46],[39,8,33,12],[39,12,33,16,"nextRefs_1"],[39,22,33,26],[39,25,33,29],[39,29,33,33,"Set"],[39,32,33,36],[39,33,33,37,"refs"],[39,37,33,41],[39,38,33,42],[40,8,34,12],[40,12,34,16,"current_1"],[40,21,34,25],[40,24,34,28,"callbackRef"],[40,35,34,39],[40,36,34,40,"current"],[40,43,34,47],[41,8,35,12,"prevRefs_1"],[41,18,35,22],[41,19,35,23,"forEach"],[41,26,35,30],[41,27,35,31],[41,37,35,41,"ref"],[41,40,35,44],[41,42,35,46],[42,10,36,16],[42,14,36,20],[42,15,36,21,"nextRefs_1"],[42,25,36,31],[42,26,36,32,"has"],[42,29,36,35],[42,30,36,36,"ref"],[42,33,36,39],[42,34,36,40],[42,36,36,42],[43,12,37,20],[43,13,37,21],[43,14,37,22],[43,16,37,24,"assignRef_1"],[43,27,37,35],[43,28,37,36,"assignRef"],[43,37,37,45],[43,39,37,47,"ref"],[43,42,37,50],[43,44,37,52],[43,48,37,56],[43,49,37,57],[44,10,38,16],[45,8,39,12],[45,9,39,13],[45,10,39,14],[46,8,40,12,"nextRefs_1"],[46,18,40,22],[46,19,40,23,"forEach"],[46,26,40,30],[46,27,40,31],[46,37,40,41,"ref"],[46,40,40,44],[46,42,40,46],[47,10,41,16],[47,14,41,20],[47,15,41,21,"prevRefs_1"],[47,25,41,31],[47,26,41,32,"has"],[47,29,41,35],[47,30,41,36,"ref"],[47,33,41,39],[47,34,41,40],[47,36,41,42],[48,12,42,20],[48,13,42,21],[48,14,42,22],[48,16,42,24,"assignRef_1"],[48,27,42,35],[48,28,42,36,"assignRef"],[48,37,42,45],[48,39,42,47,"ref"],[48,42,42,50],[48,44,42,52,"current_1"],[48,53,42,61],[48,54,42,62],[49,10,43,16],[50,8,44,12],[50,9,44,13],[50,10,44,14],[51,6,45,8],[52,6,46,8,"currentValues"],[52,19,46,21],[52,20,46,22,"set"],[52,23,46,25],[52,24,46,26,"callbackRef"],[52,35,46,37],[52,37,46,39,"refs"],[52,41,46,43],[52,42,46,44],[53,4,47,4],[53,5,47,5],[53,7,47,7],[53,8,47,8,"refs"],[53,12,47,12],[53,13,47,13],[53,14,47,14],[54,4,48,4],[54,11,48,11,"callbackRef"],[54,22,48,22],[55,2,49,0],[56,2,50,0,"exports"],[56,9,50,7],[56,10,50,8,"useMergeRefs"],[56,22,50,20],[56,25,50,23,"useMergeRefs"],[56,37,50,35],[57,0,50,36],[57,3]],"functionMap":{"names":["<global>","useMergeRefs","<anonymous>","refs.forEach$argument_0","useIsomorphicLayoutEffect$argument_0","prevRefs_1.forEach$argument_0","nextRefs_1.forEach$argument_0"],"mappings":"AAA;ACuB;yECC;4BCC,oED;KDC;8BGE;+BCM;aDI;+BEC;aFI;KHG;CDE"},"hasCjsExports":true},"type":"js/module"}]}