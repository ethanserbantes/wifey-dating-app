{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":124},"end":{"line":4,"column":30,"index":140}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useCallbackRef = void 0;\n  var react_1 = require(_dependencyMap[0], \"react\");\n  /**\n   * creates a MutableRef with ref change callback\n   * @param initialValue - initial ref value\n   * @param {Function} callback - a callback to run when value changes\n   *\n   * @example\n   * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n   * ref.current = 1;\n   * // prints 0 -> 1\n   *\n   * @see https://reactjs.org/docs/hooks-reference.html#useref\n   * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n   * @returns {MutableRefObject}\n   */\n  function useCallbackRef(initialValue, callback) {\n    var ref = (0, react_1.useState)(function () {\n      return {\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n          get current() {\n            return ref.value;\n          },\n          set current(value) {\n            var last = ref.value;\n            if (last !== value) {\n              ref.value = value;\n              ref.callback(value, last);\n            }\n          }\n        }\n      };\n    })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n  }\n  exports.useCallbackRef = useCallbackRef;\n});","lineCount":50,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"useCallbackRef"],[7,24,3,22],[7,27,3,25],[7,32,3,30],[7,33,3,31],[8,2,4,0],[8,6,4,4,"react_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,50,4,29],[8,51,4,30],[9,2,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,2,19,0],[23,11,19,9,"useCallbackRef"],[23,25,19,23,"useCallbackRef"],[23,26,19,24,"initialValue"],[23,38,19,36],[23,40,19,38,"callback"],[23,48,19,46],[23,50,19,48],[24,4,20,4],[24,8,20,8,"ref"],[24,11,20,11],[24,14,20,14],[24,15,20,15],[24,16,20,16],[24,18,20,18,"react_1"],[24,25,20,25],[24,26,20,26,"useState"],[24,34,20,34],[24,36,20,36],[24,48,20,48],[25,6,20,50],[25,13,20,58],[26,8,21,8],[27,8,22,8,"value"],[27,13,22,13],[27,15,22,15,"initialValue"],[27,27,22,27],[28,8,23,8],[29,8,24,8,"callback"],[29,16,24,16],[29,18,24,18,"callback"],[29,26,24,26],[30,8,25,8],[31,8,26,8,"facade"],[31,14,26,14],[31,16,26,16],[32,10,27,12],[32,14,27,16,"current"],[32,21,27,23,"current"],[32,22,27,23],[32,24,27,26],[33,12,28,16],[33,19,28,23,"ref"],[33,22,28,26],[33,23,28,27,"value"],[33,28,28,32],[34,10,29,12],[34,11,29,13],[35,10,30,12],[35,14,30,16,"current"],[35,21,30,23,"current"],[35,22,30,24,"value"],[35,27,30,29],[35,29,30,31],[36,12,31,16],[36,16,31,20,"last"],[36,20,31,24],[36,23,31,27,"ref"],[36,26,31,30],[36,27,31,31,"value"],[36,32,31,36],[37,12,32,16],[37,16,32,20,"last"],[37,20,32,24],[37,25,32,29,"value"],[37,30,32,34],[37,32,32,36],[38,14,33,20,"ref"],[38,17,33,23],[38,18,33,24,"value"],[38,23,33,29],[38,26,33,32,"value"],[38,31,33,37],[39,14,34,20,"ref"],[39,17,34,23],[39,18,34,24,"callback"],[39,26,34,32],[39,27,34,33,"value"],[39,32,34,38],[39,34,34,40,"last"],[39,38,34,44],[39,39,34,45],[40,12,35,16],[41,10,36,12],[42,8,37,8],[43,6,38,4],[43,7,38,5],[44,4,38,8],[44,5,38,9],[44,6,38,10],[44,7,38,11],[44,8,38,12],[44,9,38,13],[45,4,39,4],[46,4,40,4,"ref"],[46,7,40,7],[46,8,40,8,"callback"],[46,16,40,16],[46,19,40,19,"callback"],[46,27,40,27],[47,4,41,4],[47,11,41,11,"ref"],[47,14,41,14],[47,15,41,15,"facade"],[47,21,41,21],[48,2,42,0],[49,2,43,0,"exports"],[49,9,43,7],[49,10,43,8,"useCallbackRef"],[49,24,43,22],[49,27,43,25,"useCallbackRef"],[49,41,43,39],[50,0,43,40],[50,3]],"functionMap":{"names":["<global>","useCallbackRef","<anonymous>","facade.get__current","facade.set__current"],"mappings":"AAA;ACkB;oCCC;YCO;aDE;YEC;aFM;SDE;CDI"},"hasCjsExports":true},"type":"js/module"}]}