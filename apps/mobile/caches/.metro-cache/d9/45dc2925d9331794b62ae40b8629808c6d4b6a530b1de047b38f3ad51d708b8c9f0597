{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":69,"index":135}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":136},"end":{"line":3,"column":55,"index":191}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMessagesData = useMessagesData;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _tanstackReactQuery = require(_dependencyMap[2], \"@tanstack/react-query\");\n  function useMessagesData({\n    jwt\n  } = {}) {\n    _s();\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [matches, setMatches] = (0, _react.useState)([]);\n    const [pendingMatchCount, setPendingMatchCount] = (0, _react.useState)(0);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [error, setError] = (0, _react.useState)(null);\n    const queryClient = (0, _tanstackReactQuery.useQueryClient)();\n\n    // NEW: safety valve so the Messages tab can never spin forever.\n    const didFinishInitialLoadRef = (0, _react.useRef)(false);\n\n    // NEW: when we have a web-auth JWT (mobile WebView auth), make sure we are\n    // using the correct legacy `users.id`.\n    const ensureLegacyUserFromJwt = (0, _react.useCallback)(async () => {\n      const token = jwt && typeof jwt === \"string\" ? jwt : null;\n      if (!token) return null;\n      try {\n        const resp = await fetch(\"/api/users/ensure\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!resp.ok) {\n          // Non-fatal: fall back to AsyncStorage.\n          return null;\n        }\n        const data = await resp.json().catch(() => null);\n        const ensured = data?.user || null;\n        const ensuredId = Number(ensured?.id);\n        if (!Number.isFinite(ensuredId)) {\n          return null;\n        }\n        return ensured;\n      } catch (e) {\n        console.error(\"/api/users/ensure failed\", e);\n        return null;\n      }\n    }, [jwt]);\n    const markMatchesSeen = (0, _react.useCallback)(async userId => {\n      try {\n        const resp = await fetch(\"/api/matches/mark-seen\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            userId\n          })\n        });\n        if (resp.ok) {\n          queryClient.invalidateQueries({\n            queryKey: [\"matchesForBadge\", userId]\n          });\n          queryClient.invalidateQueries({\n            queryKey: [\"matchesSummary\", userId]\n          });\n        }\n      } catch (e) {\n        console.error(\"Could not mark matches seen\", e);\n      }\n    }, [queryClient]);\n    const fetchWithTimeout = (0, _react.useCallback)(async (url, options, timeoutMs) => {\n      // NOTE: AbortController support varies across RN runtimes.\n      // Promise.race guarantees we never hang on a stuck network call.\n      const controller = typeof AbortController !== \"undefined\" ? new AbortController() : null;\n      let timeoutId = null;\n      const fetchPromise = fetch(url, {\n        ...(options || {}),\n        ...(controller ? {\n          signal: controller.signal\n        } : {})\n      }).finally(() => {\n        if (timeoutId != null) {\n          clearTimeout(timeoutId);\n        }\n      });\n      const timeoutPromise = new Promise((_, reject) => {\n        timeoutId = setTimeout(() => {\n          try {\n            controller?.abort();\n          } catch {\n            // ignore\n          }\n          const err = new Error(`Request timed out after ${timeoutMs}ms`);\n          err.name = \"TimeoutError\";\n          reject(err);\n        }, timeoutMs);\n      });\n      return Promise.race([fetchPromise, timeoutPromise]);\n    }, []);\n    const loadMatches = (0, _react.useCallback)(async userId => {\n      try {\n        setError(null);\n        const response = await fetchWithTimeout(`/api/matches?userId=${userId}`, null, 12000);\n        if (!response.ok) {\n          throw new Error(`When fetching /api/matches, the response was [${response.status}] ${response.statusText}`);\n        }\n        const data = await response.json();\n        const list = data.matches || [];\n        setMatches(list);\n        setPendingMatchCount(Number(data?.pendingMatchCount) || 0);\n        return list;\n      } catch (err) {\n        const isTimeout = String(err?.name || \"\").toLowerCase() === \"timeouterror\";\n        console.error(\"Error loading matches:\", err);\n        setError(isTimeout ? \"Messages are taking too long to load. Please try again.\" : \"Could not load matches. Please try again.\");\n        return [];\n      }\n    }, [fetchWithTimeout]);\n    const loadUserAndMatches = (0, _react.useCallback)(async () => {\n      try {\n        setError(null);\n        const ensured = await ensureLegacyUserFromJwt();\n        const userData = await AsyncStorage.default.getItem(\"user\");\n        const parsedUser = userData ? JSON.parse(userData) : null;\n\n        // Prefer ensured legacy id when available (keeps date credits + matches in sync).\n        let nextUser = parsedUser;\n        if (ensured) {\n          nextUser = {\n            ...(parsedUser || {}),\n            ...ensured,\n            id: ensured.id\n          };\n          try {\n            await AsyncStorage.default.setItem(\"user\", JSON.stringify(nextUser));\n          } catch (e) {\n            console.error(\"Could not persist ensured user\", e);\n          }\n        }\n        if (!nextUser) {\n          setUser(null);\n          setMatches([]);\n          setPendingMatchCount(0);\n          return;\n        }\n        setUser(nextUser);\n        const uid = Number(nextUser?.id);\n        if (!Number.isFinite(uid)) {\n          setError(\"Could not load messages (missing user id). Please sign in again.\");\n          return;\n        }\n\n        // IMPORTANT: never block the whole screen on mark-seen.\n        markMatchesSeen(uid).catch(() => null);\n        await loadMatches(uid);\n      } catch (error) {\n        console.error(\"Error loading user:\", error);\n        setError(\"Could not load messages. Please try again.\");\n      } finally {\n        didFinishInitialLoadRef.current = true;\n        setLoading(false);\n      }\n    }, [ensureLegacyUserFromJwt, loadMatches, markMatchesSeen]);\n    (0, _react.useEffect)(() => {\n      loadUserAndMatches();\n    }, [loadUserAndMatches]);\n    (0, _react.useEffect)(() => {\n      // If something in RN fetch/AsyncStorage ever gets into a weird state,\n      // we still stop the spinner and show an error.\n      const watchdogMs = 15000;\n      const id = setTimeout(() => {\n        if (didFinishInitialLoadRef.current) {\n          return;\n        }\n        console.error(`Messages watchdog fired after ${watchdogMs}ms (forcing loading=false).`);\n        setError(\"Messages are taking too long to load. Please try again.\");\n        setLoading(false);\n      }, watchdogMs);\n      return () => clearTimeout(id);\n    }, []);\n    return {\n      loading,\n      matches,\n      pendingMatchCount,\n      user,\n      error,\n      loadMatches,\n      markMatchesSeen\n    };\n  }\n  _s(useMessagesData, \"z7s32HYgSg1RtlR9tSCoLSgmB/8=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient];\n  });\n});","lineCount":205,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useMessagesData"],[13,25,5,0],[13,28,5,0,"useMessagesData"],[13,43,5,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[15,42,2,0],[15,45,2,0,"require"],[15,52,2,0],[15,53,2,0,"_dependencyMap"],[15,67,2,0],[16,2,2,0],[16,6,2,0,"AsyncStorage"],[16,18,2,0],[16,21,2,0,"_interopDefault"],[16,36,2,0],[16,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,73,2,0],[17,2,3,0],[17,6,3,0,"_tanstackReactQuery"],[17,25,3,0],[17,28,3,0,"require"],[17,35,3,0],[17,36,3,0,"_dependencyMap"],[17,50,3,0],[18,2,5,7],[18,11,5,16,"useMessagesData"],[18,26,5,31,"useMessagesData"],[18,27,5,32],[19,4,5,34,"jwt"],[20,2,5,38],[20,3,5,39],[20,6,5,42],[20,7,5,43],[20,8,5,44],[20,10,5,46],[21,4,5,46,"_s"],[21,6,5,46],[22,4,6,2],[22,10,6,8],[22,11,6,9,"loading"],[22,18,6,16],[22,20,6,18,"setLoading"],[22,30,6,28],[22,31,6,29],[22,34,6,32],[22,38,6,32,"useState"],[22,44,6,40],[22,45,6,40,"useState"],[22,53,6,40],[22,55,6,41],[22,59,6,45],[22,60,6,46],[23,4,7,2],[23,10,7,8],[23,11,7,9,"matches"],[23,18,7,16],[23,20,7,18,"setMatches"],[23,30,7,28],[23,31,7,29],[23,34,7,32],[23,38,7,32,"useState"],[23,44,7,40],[23,45,7,40,"useState"],[23,53,7,40],[23,55,7,41],[23,57,7,43],[23,58,7,44],[24,4,8,2],[24,10,8,8],[24,11,8,9,"pendingMatchCount"],[24,28,8,26],[24,30,8,28,"setPendingMatchCount"],[24,50,8,48],[24,51,8,49],[24,54,8,52],[24,58,8,52,"useState"],[24,64,8,60],[24,65,8,60,"useState"],[24,73,8,60],[24,75,8,61],[24,76,8,62],[24,77,8,63],[25,4,9,2],[25,10,9,8],[25,11,9,9,"user"],[25,15,9,13],[25,17,9,15,"setUser"],[25,24,9,22],[25,25,9,23],[25,28,9,26],[25,32,9,26,"useState"],[25,38,9,34],[25,39,9,34,"useState"],[25,47,9,34],[25,49,9,35],[25,53,9,39],[25,54,9,40],[26,4,10,2],[26,10,10,8],[26,11,10,9,"error"],[26,16,10,14],[26,18,10,16,"setError"],[26,26,10,24],[26,27,10,25],[26,30,10,28],[26,34,10,28,"useState"],[26,40,10,36],[26,41,10,36,"useState"],[26,49,10,36],[26,51,10,37],[26,55,10,41],[26,56,10,42],[27,4,11,2],[27,10,11,8,"queryClient"],[27,21,11,19],[27,24,11,22],[27,28,11,22,"useQueryClient"],[27,47,11,36],[27,48,11,36,"useQueryClient"],[27,62,11,36],[27,64,11,37],[27,65,11,38],[29,4,13,2],[30,4,14,2],[30,10,14,8,"didFinishInitialLoadRef"],[30,33,14,31],[30,36,14,34],[30,40,14,34,"useRef"],[30,46,14,40],[30,47,14,40,"useRef"],[30,53,14,40],[30,55,14,41],[30,60,14,46],[30,61,14,47],[32,4,16,2],[33,4,17,2],[34,4,18,2],[34,10,18,8,"ensureLegacyUserFromJwt"],[34,33,18,31],[34,36,18,34],[34,40,18,34,"useCallback"],[34,46,18,45],[34,47,18,45,"useCallback"],[34,58,18,45],[34,60,18,46],[34,72,18,58],[35,6,19,4],[35,12,19,10,"token"],[35,17,19,15],[35,20,19,18,"jwt"],[35,23,19,21],[35,27,19,25],[35,34,19,32,"jwt"],[35,37,19,35],[35,42,19,40],[35,50,19,48],[35,53,19,51,"jwt"],[35,56,19,54],[35,59,19,57],[35,63,19,61],[36,6,20,4],[36,10,20,8],[36,11,20,9,"token"],[36,16,20,14],[36,18,20,16],[36,25,20,23],[36,29,20,27],[37,6,22,4],[37,10,22,8],[38,8,23,6],[38,14,23,12,"resp"],[38,18,23,16],[38,21,23,19],[38,27,23,25,"fetch"],[38,32,23,30],[38,33,23,31],[38,52,23,50],[38,54,23,52],[39,10,24,8,"headers"],[39,17,24,15],[39,19,24,17],[40,12,24,19,"Authorization"],[40,25,24,32],[40,27,24,34],[40,37,24,44,"token"],[40,42,24,49],[41,10,24,52],[42,8,25,6],[42,9,25,7],[42,10,25,8],[43,8,27,6],[43,12,27,10],[43,13,27,11,"resp"],[43,17,27,15],[43,18,27,16,"ok"],[43,20,27,18],[43,22,27,20],[44,10,28,8],[45,10,29,8],[45,17,29,15],[45,21,29,19],[46,8,30,6],[47,8,32,6],[47,14,32,12,"data"],[47,18,32,16],[47,21,32,19],[47,27,32,25,"resp"],[47,31,32,29],[47,32,32,30,"json"],[47,36,32,34],[47,37,32,35],[47,38,32,36],[47,39,32,37,"catch"],[47,44,32,42],[47,45,32,43],[47,51,32,49],[47,55,32,53],[47,56,32,54],[48,8,33,6],[48,14,33,12,"ensured"],[48,21,33,19],[48,24,33,22,"data"],[48,28,33,26],[48,30,33,28,"user"],[48,34,33,32],[48,38,33,36],[48,42,33,40],[49,8,35,6],[49,14,35,12,"ensuredId"],[49,23,35,21],[49,26,35,24,"Number"],[49,32,35,30],[49,33,35,31,"ensured"],[49,40,35,38],[49,42,35,40,"id"],[49,44,35,42],[49,45,35,43],[50,8,36,6],[50,12,36,10],[50,13,36,11,"Number"],[50,19,36,17],[50,20,36,18,"isFinite"],[50,28,36,26],[50,29,36,27,"ensuredId"],[50,38,36,36],[50,39,36,37],[50,41,36,39],[51,10,37,8],[51,17,37,15],[51,21,37,19],[52,8,38,6],[53,8,40,6],[53,15,40,13,"ensured"],[53,22,40,20],[54,6,41,4],[54,7,41,5],[54,8,41,6],[54,15,41,13,"e"],[54,16,41,14],[54,18,41,16],[55,8,42,6,"console"],[55,15,42,13],[55,16,42,14,"error"],[55,21,42,19],[55,22,42,20],[55,48,42,46],[55,50,42,48,"e"],[55,51,42,49],[55,52,42,50],[56,8,43,6],[56,15,43,13],[56,19,43,17],[57,6,44,4],[58,4,45,2],[58,5,45,3],[58,7,45,5],[58,8,45,6,"jwt"],[58,11,45,9],[58,12,45,10],[58,13,45,11],[59,4,47,2],[59,10,47,8,"markMatchesSeen"],[59,25,47,23],[59,28,47,26],[59,32,47,26,"useCallback"],[59,38,47,37],[59,39,47,37,"useCallback"],[59,50,47,37],[59,52,48,4],[59,58,48,11,"userId"],[59,64,48,17],[59,68,48,22],[60,6,49,6],[60,10,49,10],[61,8,50,8],[61,14,50,14,"resp"],[61,18,50,18],[61,21,50,21],[61,27,50,27,"fetch"],[61,32,50,32],[61,33,50,33],[61,57,50,57],[61,59,50,59],[62,10,51,10,"method"],[62,16,51,16],[62,18,51,18],[62,24,51,24],[63,10,52,10,"headers"],[63,17,52,17],[63,19,52,19],[64,12,52,21],[64,26,52,35],[64,28,52,37],[65,10,52,56],[65,11,52,57],[66,10,53,10,"body"],[66,14,53,14],[66,16,53,16,"JSON"],[66,20,53,20],[66,21,53,21,"stringify"],[66,30,53,30],[66,31,53,31],[67,12,53,33,"userId"],[68,10,53,40],[68,11,53,41],[69,8,54,8],[69,9,54,9],[69,10,54,10],[70,8,55,8],[70,12,55,12,"resp"],[70,16,55,16],[70,17,55,17,"ok"],[70,19,55,19],[70,21,55,21],[71,10,56,10,"queryClient"],[71,21,56,21],[71,22,56,22,"invalidateQueries"],[71,39,56,39],[71,40,56,40],[72,12,57,12,"queryKey"],[72,20,57,20],[72,22,57,22],[72,23,57,23],[72,40,57,40],[72,42,57,42,"userId"],[72,48,57,48],[73,10,58,10],[73,11,58,11],[73,12,58,12],[74,10,59,10,"queryClient"],[74,21,59,21],[74,22,59,22,"invalidateQueries"],[74,39,59,39],[74,40,59,40],[75,12,60,12,"queryKey"],[75,20,60,20],[75,22,60,22],[75,23,60,23],[75,39,60,39],[75,41,60,41,"userId"],[75,47,60,47],[76,10,61,10],[76,11,61,11],[76,12,61,12],[77,8,62,8],[78,6,63,6],[78,7,63,7],[78,8,63,8],[78,15,63,15,"e"],[78,16,63,16],[78,18,63,18],[79,8,64,8,"console"],[79,15,64,15],[79,16,64,16,"error"],[79,21,64,21],[79,22,64,22],[79,51,64,51],[79,53,64,53,"e"],[79,54,64,54],[79,55,64,55],[80,6,65,6],[81,4,66,4],[81,5,66,5],[81,7,67,4],[81,8,67,5,"queryClient"],[81,19,67,16],[81,20,68,2],[81,21,68,3],[82,4,70,2],[82,10,70,8,"fetchWithTimeout"],[82,26,70,24],[82,29,70,27],[82,33,70,27,"useCallback"],[82,39,70,38],[82,40,70,38,"useCallback"],[82,51,70,38],[82,53,70,39],[82,60,70,46,"url"],[82,63,70,49],[82,65,70,51,"options"],[82,72,70,58],[82,74,70,60,"timeoutMs"],[82,83,70,69],[82,88,70,74],[83,6,71,4],[84,6,72,4],[85,6,73,4],[85,12,73,10,"controller"],[85,22,73,20],[85,25,74,6],[85,32,74,13,"AbortController"],[85,47,74,28],[85,52,74,33],[85,63,74,44],[85,66,74,47],[85,70,74,51,"AbortController"],[85,85,74,66],[85,86,74,67],[85,87,74,68],[85,90,74,71],[85,94,74,75],[86,6,76,4],[86,10,76,8,"timeoutId"],[86,19,76,17],[86,22,76,20],[86,26,76,24],[87,6,78,4],[87,12,78,10,"fetchPromise"],[87,24,78,22],[87,27,78,25,"fetch"],[87,32,78,30],[87,33,78,31,"url"],[87,36,78,34],[87,38,78,36],[88,8,79,6],[88,12,79,10,"options"],[88,19,79,17],[88,23,79,21],[88,24,79,22],[88,25,79,23],[88,26,79,24],[89,8,80,6],[89,12,80,10,"controller"],[89,22,80,20],[89,25,80,23],[90,10,80,25,"signal"],[90,16,80,31],[90,18,80,33,"controller"],[90,28,80,43],[90,29,80,44,"signal"],[91,8,80,51],[91,9,80,52],[91,12,80,55],[91,13,80,56],[91,14,80,57],[92,6,81,4],[92,7,81,5],[92,8,81,6],[92,9,81,7,"finally"],[92,16,81,14],[92,17,81,15],[92,23,81,21],[93,8,82,6],[93,12,82,10,"timeoutId"],[93,21,82,19],[93,25,82,23],[93,29,82,27],[93,31,82,29],[94,10,83,8,"clearTimeout"],[94,22,83,20],[94,23,83,21,"timeoutId"],[94,32,83,30],[94,33,83,31],[95,8,84,6],[96,6,85,4],[96,7,85,5],[96,8,85,6],[97,6,87,4],[97,12,87,10,"timeoutPromise"],[97,26,87,24],[97,29,87,27],[97,33,87,31,"Promise"],[97,40,87,38],[97,41,87,39],[97,42,87,40,"_"],[97,43,87,41],[97,45,87,43,"reject"],[97,51,87,49],[97,56,87,54],[98,8,88,6,"timeoutId"],[98,17,88,15],[98,20,88,18,"setTimeout"],[98,30,88,28],[98,31,88,29],[98,37,88,35],[99,10,89,8],[99,14,89,12],[100,12,90,10,"controller"],[100,22,90,20],[100,24,90,22,"abort"],[100,29,90,27],[100,30,90,28],[100,31,90,29],[101,10,91,8],[101,11,91,9],[101,12,91,10],[101,18,91,16],[102,12,92,10],[103,10,92,10],[104,10,94,8],[104,16,94,14,"err"],[104,19,94,17],[104,22,94,20],[104,26,94,24,"Error"],[104,31,94,29],[104,32,94,30],[104,59,94,57,"timeoutMs"],[104,68,94,66],[104,72,94,70],[104,73,94,71],[105,10,95,8,"err"],[105,13,95,11],[105,14,95,12,"name"],[105,18,95,16],[105,21,95,19],[105,35,95,33],[106,10,96,8,"reject"],[106,16,96,14],[106,17,96,15,"err"],[106,20,96,18],[106,21,96,19],[107,8,97,6],[107,9,97,7],[107,11,97,9,"timeoutMs"],[107,20,97,18],[107,21,97,19],[108,6,98,4],[108,7,98,5],[108,8,98,6],[109,6,100,4],[109,13,100,11,"Promise"],[109,20,100,18],[109,21,100,19,"race"],[109,25,100,23],[109,26,100,24],[109,27,100,25,"fetchPromise"],[109,39,100,37],[109,41,100,39,"timeoutPromise"],[109,55,100,53],[109,56,100,54],[109,57,100,55],[110,4,101,2],[110,5,101,3],[110,7,101,5],[110,9,101,7],[110,10,101,8],[111,4,103,2],[111,10,103,8,"loadMatches"],[111,21,103,19],[111,24,103,22],[111,28,103,22,"useCallback"],[111,34,103,33],[111,35,103,33,"useCallback"],[111,46,103,33],[111,48,104,4],[111,54,104,11,"userId"],[111,60,104,17],[111,64,104,22],[112,6,105,6],[112,10,105,10],[113,8,106,8,"setError"],[113,16,106,16],[113,17,106,17],[113,21,106,21],[113,22,106,22],[114,8,107,8],[114,14,107,14,"response"],[114,22,107,22],[114,25,107,25],[114,31,107,31,"fetchWithTimeout"],[114,47,107,47],[114,48,108,10],[114,71,108,33,"userId"],[114,77,108,39],[114,79,108,41],[114,81,109,10],[114,85,109,14],[114,87,110,10],[114,92,111,8],[114,93,111,9],[115,8,112,8],[115,12,112,12],[115,13,112,13,"response"],[115,21,112,21],[115,22,112,22,"ok"],[115,24,112,24],[115,26,112,26],[116,10,113,10],[116,16,113,16],[116,20,113,20,"Error"],[116,25,113,25],[116,26,114,12],[116,75,114,61,"response"],[116,83,114,69],[116,84,114,70,"status"],[116,90,114,76],[116,95,114,81,"response"],[116,103,114,89],[116,104,114,90,"statusText"],[116,114,114,100],[116,116,115,10],[116,117,115,11],[117,8,116,8],[118,8,117,8],[118,14,117,14,"data"],[118,18,117,18],[118,21,117,21],[118,27,117,27,"response"],[118,35,117,35],[118,36,117,36,"json"],[118,40,117,40],[118,41,117,41],[118,42,117,42],[119,8,118,8],[119,14,118,14,"list"],[119,18,118,18],[119,21,118,21,"data"],[119,25,118,25],[119,26,118,26,"matches"],[119,33,118,33],[119,37,118,37],[119,39,118,39],[120,8,119,8,"setMatches"],[120,18,119,18],[120,19,119,19,"list"],[120,23,119,23],[120,24,119,24],[121,8,120,8,"setPendingMatchCount"],[121,28,120,28],[121,29,120,29,"Number"],[121,35,120,35],[121,36,120,36,"data"],[121,40,120,40],[121,42,120,42,"pendingMatchCount"],[121,59,120,59],[121,60,120,60],[121,64,120,64],[121,65,120,65],[121,66,120,66],[122,8,121,8],[122,15,121,15,"list"],[122,19,121,19],[123,6,122,6],[123,7,122,7],[123,8,122,8],[123,15,122,15,"err"],[123,18,122,18],[123,20,122,20],[124,8,123,8],[124,14,123,14,"isTimeout"],[124,23,123,23],[124,26,124,10,"String"],[124,32,124,16],[124,33,124,17,"err"],[124,36,124,20],[124,38,124,22,"name"],[124,42,124,26],[124,46,124,30],[124,48,124,32],[124,49,124,33],[124,50,124,34,"toLowerCase"],[124,61,124,45],[124,62,124,46],[124,63,124,47],[124,68,124,52],[124,82,124,66],[125,8,126,8,"console"],[125,15,126,15],[125,16,126,16,"error"],[125,21,126,21],[125,22,126,22],[125,46,126,46],[125,48,126,48,"err"],[125,51,126,51],[125,52,126,52],[126,8,127,8,"setError"],[126,16,127,16],[126,17,128,10,"isTimeout"],[126,26,128,19],[126,29,129,14],[126,86,129,71],[126,89,130,14],[126,132,131,8],[126,133,131,9],[127,8,132,8],[127,15,132,15],[127,17,132,17],[128,6,133,6],[129,4,134,4],[129,5,134,5],[129,7,135,4],[129,8,135,5,"fetchWithTimeout"],[129,24,135,21],[129,25,136,2],[129,26,136,3],[130,4,138,2],[130,10,138,8,"loadUserAndMatches"],[130,28,138,26],[130,31,138,29],[130,35,138,29,"useCallback"],[130,41,138,40],[130,42,138,40,"useCallback"],[130,53,138,40],[130,55,138,41],[130,67,138,53],[131,6,139,4],[131,10,139,8],[132,8,140,6,"setError"],[132,16,140,14],[132,17,140,15],[132,21,140,19],[132,22,140,20],[133,8,142,6],[133,14,142,12,"ensured"],[133,21,142,19],[133,24,142,22],[133,30,142,28,"ensureLegacyUserFromJwt"],[133,53,142,51],[133,54,142,52],[133,55,142,53],[134,8,144,6],[134,14,144,12,"userData"],[134,22,144,20],[134,25,144,23],[134,31,144,29,"AsyncStorage"],[134,43,144,41],[134,44,144,41,"default"],[134,51,144,41],[134,52,144,42,"getItem"],[134,59,144,49],[134,60,144,50],[134,66,144,56],[134,67,144,57],[135,8,145,6],[135,14,145,12,"parsedUser"],[135,24,145,22],[135,27,145,25,"userData"],[135,35,145,33],[135,38,145,36,"JSON"],[135,42,145,40],[135,43,145,41,"parse"],[135,48,145,46],[135,49,145,47,"userData"],[135,57,145,55],[135,58,145,56],[135,61,145,59],[135,65,145,63],[137,8,147,6],[138,8,148,6],[138,12,148,10,"nextUser"],[138,20,148,18],[138,23,148,21,"parsedUser"],[138,33,148,31],[139,8,149,6],[139,12,149,10,"ensured"],[139,19,149,17],[139,21,149,19],[140,10,150,8,"nextUser"],[140,18,150,16],[140,21,150,19],[141,12,151,10],[141,16,151,14,"parsedUser"],[141,26,151,24],[141,30,151,28],[141,31,151,29],[141,32,151,30],[141,33,151,31],[142,12,152,10],[142,15,152,13,"ensured"],[142,22,152,20],[143,12,153,10,"id"],[143,14,153,12],[143,16,153,14,"ensured"],[143,23,153,21],[143,24,153,22,"id"],[144,10,154,8],[144,11,154,9],[145,10,156,8],[145,14,156,12],[146,12,157,10],[146,18,157,16,"AsyncStorage"],[146,30,157,28],[146,31,157,28,"default"],[146,38,157,28],[146,39,157,29,"setItem"],[146,46,157,36],[146,47,157,37],[146,53,157,43],[146,55,157,45,"JSON"],[146,59,157,49],[146,60,157,50,"stringify"],[146,69,157,59],[146,70,157,60,"nextUser"],[146,78,157,68],[146,79,157,69],[146,80,157,70],[147,10,158,8],[147,11,158,9],[147,12,158,10],[147,19,158,17,"e"],[147,20,158,18],[147,22,158,20],[148,12,159,10,"console"],[148,19,159,17],[148,20,159,18,"error"],[148,25,159,23],[148,26,159,24],[148,58,159,56],[148,60,159,58,"e"],[148,61,159,59],[148,62,159,60],[149,10,160,8],[150,8,161,6],[151,8,163,6],[151,12,163,10],[151,13,163,11,"nextUser"],[151,21,163,19],[151,23,163,21],[152,10,164,8,"setUser"],[152,17,164,15],[152,18,164,16],[152,22,164,20],[152,23,164,21],[153,10,165,8,"setMatches"],[153,20,165,18],[153,21,165,19],[153,23,165,21],[153,24,165,22],[154,10,166,8,"setPendingMatchCount"],[154,30,166,28],[154,31,166,29],[154,32,166,30],[154,33,166,31],[155,10,167,8],[156,8,168,6],[157,8,170,6,"setUser"],[157,15,170,13],[157,16,170,14,"nextUser"],[157,24,170,22],[157,25,170,23],[158,8,172,6],[158,14,172,12,"uid"],[158,17,172,15],[158,20,172,18,"Number"],[158,26,172,24],[158,27,172,25,"nextUser"],[158,35,172,33],[158,37,172,35,"id"],[158,39,172,37],[158,40,172,38],[159,8,173,6],[159,12,173,10],[159,13,173,11,"Number"],[159,19,173,17],[159,20,173,18,"isFinite"],[159,28,173,26],[159,29,173,27,"uid"],[159,32,173,30],[159,33,173,31],[159,35,173,33],[160,10,174,8,"setError"],[160,18,174,16],[160,19,175,10],[160,85,176,8],[160,86,176,9],[161,10,177,8],[162,8,178,6],[164,8,180,6],[165,8,181,6,"markMatchesSeen"],[165,23,181,21],[165,24,181,22,"uid"],[165,27,181,25],[165,28,181,26],[165,29,181,27,"catch"],[165,34,181,32],[165,35,181,33],[165,41,181,39],[165,45,181,43],[165,46,181,44],[166,8,183,6],[166,14,183,12,"loadMatches"],[166,25,183,23],[166,26,183,24,"uid"],[166,29,183,27],[166,30,183,28],[167,6,184,4],[167,7,184,5],[167,8,184,6],[167,15,184,13,"error"],[167,20,184,18],[167,22,184,20],[168,8,185,6,"console"],[168,15,185,13],[168,16,185,14,"error"],[168,21,185,19],[168,22,185,20],[168,43,185,41],[168,45,185,43,"error"],[168,50,185,48],[168,51,185,49],[169,8,186,6,"setError"],[169,16,186,14],[169,17,186,15],[169,61,186,59],[169,62,186,60],[170,6,187,4],[170,7,187,5],[170,16,187,14],[171,8,188,6,"didFinishInitialLoadRef"],[171,31,188,29],[171,32,188,30,"current"],[171,39,188,37],[171,42,188,40],[171,46,188,44],[172,8,189,6,"setLoading"],[172,18,189,16],[172,19,189,17],[172,24,189,22],[172,25,189,23],[173,6,190,4],[174,4,191,2],[174,5,191,3],[174,7,191,5],[174,8,191,6,"ensureLegacyUserFromJwt"],[174,31,191,29],[174,33,191,31,"loadMatches"],[174,44,191,42],[174,46,191,44,"markMatchesSeen"],[174,61,191,59],[174,62,191,60],[174,63,191,61],[175,4,193,2],[175,8,193,2,"useEffect"],[175,14,193,11],[175,15,193,11,"useEffect"],[175,24,193,11],[175,26,193,12],[175,32,193,18],[176,6,194,4,"loadUserAndMatches"],[176,24,194,22],[176,25,194,23],[176,26,194,24],[177,4,195,2],[177,5,195,3],[177,7,195,5],[177,8,195,6,"loadUserAndMatches"],[177,26,195,24],[177,27,195,25],[177,28,195,26],[178,4,197,2],[178,8,197,2,"useEffect"],[178,14,197,11],[178,15,197,11,"useEffect"],[178,24,197,11],[178,26,197,12],[178,32,197,18],[179,6,198,4],[180,6,199,4],[181,6,200,4],[181,12,200,10,"watchdogMs"],[181,22,200,20],[181,25,200,23],[181,30,200,28],[182,6,201,4],[182,12,201,10,"id"],[182,14,201,12],[182,17,201,15,"setTimeout"],[182,27,201,25],[182,28,201,26],[182,34,201,32],[183,8,202,6],[183,12,202,10,"didFinishInitialLoadRef"],[183,35,202,33],[183,36,202,34,"current"],[183,43,202,41],[183,45,202,43],[184,10,203,8],[185,8,204,6],[186,8,205,6,"console"],[186,15,205,13],[186,16,205,14,"error"],[186,21,205,19],[186,22,206,8],[186,55,206,41,"watchdogMs"],[186,65,206,51],[186,94,207,6],[186,95,207,7],[187,8,208,6,"setError"],[187,16,208,14],[187,17,208,15],[187,74,208,72],[187,75,208,73],[188,8,209,6,"setLoading"],[188,18,209,16],[188,19,209,17],[188,24,209,22],[188,25,209,23],[189,6,210,4],[189,7,210,5],[189,9,210,7,"watchdogMs"],[189,19,210,17],[189,20,210,18],[190,6,212,4],[190,13,212,11],[190,19,212,17,"clearTimeout"],[190,31,212,29],[190,32,212,30,"id"],[190,34,212,32],[190,35,212,33],[191,4,213,2],[191,5,213,3],[191,7,213,5],[191,9,213,7],[191,10,213,8],[192,4,215,2],[192,11,215,9],[193,6,216,4,"loading"],[193,13,216,11],[194,6,217,4,"matches"],[194,13,217,11],[195,6,218,4,"pendingMatchCount"],[195,23,218,21],[196,6,219,4,"user"],[196,10,219,8],[197,6,220,4,"error"],[197,11,220,9],[198,6,221,4,"loadMatches"],[198,17,221,15],[199,6,222,4,"markMatchesSeen"],[200,4,223,2],[200,5,223,3],[201,2,224,0],[202,2,224,1,"_s"],[202,4,224,1],[202,5,5,16,"useMessagesData"],[202,20,5,31],[203,4,5,31],[203,12,11,22,"useQueryClient"],[203,31,11,36],[203,32,11,36,"useQueryClient"],[203,46,11,36],[204,2,11,36],[205,0,11,36],[205,3]],"functionMap":{"names":["<global>","useMessagesData","ensureLegacyUserFromJwt","resp.json._catch$argument_0","markMatchesSeen","fetchWithTimeout","fetch._finally$argument_0","Promise$argument_0","setTimeout$argument_0","loadMatches","loadUserAndMatches","markMatchesSeen._catch$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCI;8CCa;2CCc,UD;GDa;IGG;KHkB;uCII;eCW;KDI;uCEE;6BCC;ODS;KFC;GJG;IQG;KR8B;yCSI;iCC2C,UD;GTU;YWE;GXE;YWE;0BJI;KIS;WCE,sBD;GXC;CDW"},"hasCjsExports":false},"type":"js/module"}]}