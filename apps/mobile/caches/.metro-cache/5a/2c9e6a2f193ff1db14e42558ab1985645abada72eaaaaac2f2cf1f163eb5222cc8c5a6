{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":51,"index":126}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":127},"end":{"line":3,"column":47,"index":174}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"@/utils/subscription","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":175},"end":{"line":4,"column":62,"index":237}}],"key":"jUbXHGp0jcOKUUYC/w0fagW62w8=","exportNames":["*"],"imports":1}},{"name":"@/utils/dateCreditsHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":238},"end":{"line":5,"column":88,"index":326}}],"key":"oRWBdvQUhGiyZ/vbJNT/hHj85Fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMessagesCredits = useMessagesCredits;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _reactNativePurchases = require(_dependencyMap[2], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _utilsSubscription = require(_dependencyMap[3], \"@/utils/subscription\");\n  var _utilsDateCreditsHelpers = require(_dependencyMap[4], \"@/utils/dateCreditsHelpers\");\n  function useMessagesCredits({\n    jwt,\n    user,\n    loadMatches\n  }) {\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    const creditsRefreshParam = (0, _react.useMemo)(() => {\n      const raw = params?.creditsRefresh;\n      const v = Array.isArray(raw) ? raw[0] : raw;\n      const s = v != null ? String(v).trim() : \"\";\n      return s || null;\n    }, [params?.creditsRefresh]);\n    const [creditStatus, setCreditStatus] = (0, _react.useState)({\n      credits: 0,\n      maxCredits: 3\n    });\n    const [restoreState, setRestoreState] = (0, _react.useState)({\n      restoring: false,\n      lastError: null\n    });\n    const refreshCredits = (0, _react.useCallback)(async userId => {\n      try {\n        const uid = Number(userId);\n        const hasUid = Number.isFinite(uid);\n        const hasJwt = jwt && typeof jwt === \"string\";\n        if (!hasUid && !hasJwt) {\n          return null;\n        }\n        const url = hasUid ? `/api/date-credits/status?userId=${uid}` : \"/api/date-credits/status\";\n        const resp = await fetch(url, {\n          headers: hasJwt ? {\n            Authorization: `Bearer ${jwt}`\n          } : undefined\n        });\n        if (!resp.ok) {\n          throw new Error(`When fetching /api/date-credits/status, the response was [${resp.status}] ${resp.statusText}`);\n        }\n        const data = await resp.json();\n        const next = {\n          credits: Number(data?.credits || 0),\n          maxCredits: Number(data?.maxCredits || 3)\n        };\n        setCreditStatus(next);\n        return next;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }, [jwt]);\n    const restoreInFlightRef = (0, _react.useRef)(false);\n    const attemptRestoreCredits = (0, _react.useCallback)(async userId => {\n      const hasJwt = jwt && typeof jwt === \"string\";\n      const uid = Number(userId);\n      if (!Number.isFinite(uid)) return null;\n      if (!hasJwt) return null;\n\n      // Don't attempt restore if user already has credits â€” the initial purchase\n      // claim already worked. Restoring here risks double-crediting because\n      // CustomerInfo can return a different transaction ID than what was used\n      // in the original claim.\n      if (creditStatus.credits > 0) return null;\n\n      // Avoid spamming RevenueCat / server\n      if (restoreInFlightRef.current) return null;\n      restoreInFlightRef.current = true;\n      setRestoreState({\n        restoring: true,\n        lastError: null\n      });\n      try {\n        const {\n          ok\n        } = (0, _utilsSubscription.configurePurchasesOnce)();\n        if (!ok) {\n          return null;\n        }\n\n        // Make sure RevenueCat is logged in as this user before syncing.\n        await Purchases.default.logIn(String(uid)).catch(() => null);\n\n        // Ensure RC receipt is synced (helps TestFlight)\n        if (typeof Purchases.default.syncPurchases === \"function\") {\n          await Purchases.default.syncPurchases().catch(() => null);\n        }\n        const info = await Purchases.default.getCustomerInfo().catch(() => null);\n        const latestTxn = (0, _utilsDateCreditsHelpers.extractLatestTransactionIdFromCustomerInfo)(info);\n        if (!latestTxn?.transactionId || !latestTxn?.productId) {\n          return null;\n        }\n\n        // Claim on the backend (idempotent by transaction id)\n        const resp = await fetch(\"/api/date-credits/claim\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${jwt}`\n          },\n          body: JSON.stringify({\n            transactionId: latestTxn.transactionId,\n            productId: latestTxn.productId\n          })\n        });\n        const json = await resp.json().catch(() => null);\n        if (!resp.ok) {\n          throw new Error(json?.error || `Claim failed (${resp.status})`);\n        }\n\n        // Refresh credits after claim\n        const next = await refreshCredits(uid);\n\n        // Also refresh matches so the newly-unlocked section populates immediately\n        if (next?.credits > 0) {\n          loadMatches(uid).catch(() => null);\n        }\n        return next;\n      } catch (e) {\n        console.error(e);\n        setRestoreState({\n          restoring: false,\n          lastError: e?.message || \"Failed\"\n        });\n        return null;\n      } finally {\n        setRestoreState(s => ({\n          ...s,\n          restoring: false\n        }));\n        restoreInFlightRef.current = false;\n      }\n    }, [jwt, loadMatches, refreshCredits, creditStatus.credits]);\n    const lastCreditsRefreshRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      if (!creditsRefreshParam) return;\n      if (!user?.id) return;\n      if (lastCreditsRefreshRef.current === creditsRefreshParam) {\n        return;\n      }\n      lastCreditsRefreshRef.current = creditsRefreshParam;\n      loadMatches(user.id).catch(() => null);\n      refreshCredits(user.id).catch(() => null);\n\n      // NEW: also attempt to restore any just-finished purchase\n      attemptRestoreCredits(user.id).catch(() => null);\n    }, [attemptRestoreCredits, creditsRefreshParam, loadMatches, refreshCredits, user?.id]);\n    return {\n      creditStatus,\n      refreshCredits,\n      attemptRestoreCredits,\n      restoreState\n    };\n  }\n});","lineCount":170,"map":[[12,2,7,0,"exports"],[12,9,7,0],[12,10,7,0,"useMessagesCredits"],[12,28,7,0],[12,31,7,0,"useMessagesCredits"],[12,49,7,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_expoRouter"],[14,17,2,0],[14,20,2,0,"require"],[14,27,2,0],[14,28,2,0,"_dependencyMap"],[14,42,2,0],[15,2,3,0],[15,6,3,0,"_reactNativePurchases"],[15,27,3,0],[15,30,3,0,"require"],[15,37,3,0],[15,38,3,0,"_dependencyMap"],[15,52,3,0],[16,2,3,0],[16,6,3,0,"Purchases"],[16,15,3,0],[16,18,3,0,"_interopDefault"],[16,33,3,0],[16,34,3,0,"_reactNativePurchases"],[16,55,3,0],[17,2,4,0],[17,6,4,0,"_utilsSubscription"],[17,24,4,0],[17,27,4,0,"require"],[17,34,4,0],[17,35,4,0,"_dependencyMap"],[17,49,4,0],[18,2,5,0],[18,6,5,0,"_utilsDateCreditsHelpers"],[18,30,5,0],[18,33,5,0,"require"],[18,40,5,0],[18,41,5,0,"_dependencyMap"],[18,55,5,0],[19,2,7,7],[19,11,7,16,"useMessagesCredits"],[19,29,7,34,"useMessagesCredits"],[19,30,7,35],[20,4,7,37,"jwt"],[20,7,7,40],[21,4,7,42,"user"],[21,8,7,46],[22,4,7,48,"loadMatches"],[23,2,7,60],[23,3,7,61],[23,5,7,63],[24,4,8,2],[24,10,8,8,"params"],[24,16,8,14],[24,19,8,17],[24,23,8,17,"useLocalSearchParams"],[24,34,8,37],[24,35,8,37,"useLocalSearchParams"],[24,55,8,37],[24,57,8,38],[24,58,8,39],[25,4,10,2],[25,10,10,8,"creditsRefreshParam"],[25,29,10,27],[25,32,10,30],[25,36,10,30,"useMemo"],[25,42,10,37],[25,43,10,37,"useMemo"],[25,50,10,37],[25,52,10,38],[25,58,10,44],[26,6,11,4],[26,12,11,10,"raw"],[26,15,11,13],[26,18,11,16,"params"],[26,24,11,22],[26,26,11,24,"creditsRefresh"],[26,40,11,38],[27,6,12,4],[27,12,12,10,"v"],[27,13,12,11],[27,16,12,14,"Array"],[27,21,12,19],[27,22,12,20,"isArray"],[27,29,12,27],[27,30,12,28,"raw"],[27,33,12,31],[27,34,12,32],[27,37,12,35,"raw"],[27,40,12,38],[27,41,12,39],[27,42,12,40],[27,43,12,41],[27,46,12,44,"raw"],[27,49,12,47],[28,6,13,4],[28,12,13,10,"s"],[28,13,13,11],[28,16,13,14,"v"],[28,17,13,15],[28,21,13,19],[28,25,13,23],[28,28,13,26,"String"],[28,34,13,32],[28,35,13,33,"v"],[28,36,13,34],[28,37,13,35],[28,38,13,36,"trim"],[28,42,13,40],[28,43,13,41],[28,44,13,42],[28,47,13,45],[28,49,13,47],[29,6,14,4],[29,13,14,11,"s"],[29,14,14,12],[29,18,14,16],[29,22,14,20],[30,4,15,2],[30,5,15,3],[30,7,15,5],[30,8,15,6,"params"],[30,14,15,12],[30,16,15,14,"creditsRefresh"],[30,30,15,28],[30,31,15,29],[30,32,15,30],[31,4,17,2],[31,10,17,8],[31,11,17,9,"creditStatus"],[31,23,17,21],[31,25,17,23,"setCreditStatus"],[31,40,17,38],[31,41,17,39],[31,44,17,42],[31,48,17,42,"useState"],[31,54,17,50],[31,55,17,50,"useState"],[31,63,17,50],[31,65,17,51],[32,6,18,4,"credits"],[32,13,18,11],[32,15,18,13],[32,16,18,14],[33,6,19,4,"maxCredits"],[33,16,19,14],[33,18,19,16],[34,4,20,2],[34,5,20,3],[34,6,20,4],[35,4,22,2],[35,10,22,8],[35,11,22,9,"restoreState"],[35,23,22,21],[35,25,22,23,"setRestoreState"],[35,40,22,38],[35,41,22,39],[35,44,22,42],[35,48,22,42,"useState"],[35,54,22,50],[35,55,22,50,"useState"],[35,63,22,50],[35,65,22,51],[36,6,23,4,"restoring"],[36,15,23,13],[36,17,23,15],[36,22,23,20],[37,6,24,4,"lastError"],[37,15,24,13],[37,17,24,15],[38,4,25,2],[38,5,25,3],[38,6,25,4],[39,4,27,2],[39,10,27,8,"refreshCredits"],[39,24,27,22],[39,27,27,25],[39,31,27,25,"useCallback"],[39,37,27,36],[39,38,27,36,"useCallback"],[39,49,27,36],[39,51,28,4],[39,57,28,11,"userId"],[39,63,28,17],[39,67,28,22],[40,6,29,6],[40,10,29,10],[41,8,30,8],[41,14,30,14,"uid"],[41,17,30,17],[41,20,30,20,"Number"],[41,26,30,26],[41,27,30,27,"userId"],[41,33,30,33],[41,34,30,34],[42,8,31,8],[42,14,31,14,"hasUid"],[42,20,31,20],[42,23,31,23,"Number"],[42,29,31,29],[42,30,31,30,"isFinite"],[42,38,31,38],[42,39,31,39,"uid"],[42,42,31,42],[42,43,31,43],[43,8,32,8],[43,14,32,14,"hasJwt"],[43,20,32,20],[43,23,32,23,"jwt"],[43,26,32,26],[43,30,32,30],[43,37,32,37,"jwt"],[43,40,32,40],[43,45,32,45],[43,53,32,53],[44,8,34,8],[44,12,34,12],[44,13,34,13,"hasUid"],[44,19,34,19],[44,23,34,23],[44,24,34,24,"hasJwt"],[44,30,34,30],[44,32,34,32],[45,10,35,10],[45,17,35,17],[45,21,35,21],[46,8,36,8],[47,8,38,8],[47,14,38,14,"url"],[47,17,38,17],[47,20,38,20,"hasUid"],[47,26,38,26],[47,29,39,12],[47,64,39,47,"uid"],[47,67,39,50],[47,69,39,52],[47,72,40,12],[47,98,40,38],[48,8,42,8],[48,14,42,14,"resp"],[48,18,42,18],[48,21,42,21],[48,27,42,27,"fetch"],[48,32,42,32],[48,33,42,33,"url"],[48,36,42,36],[48,38,42,38],[49,10,43,10,"headers"],[49,17,43,17],[49,19,43,19,"hasJwt"],[49,25,43,25],[49,28,43,28],[50,12,43,30,"Authorization"],[50,25,43,43],[50,27,43,45],[50,37,43,55,"jwt"],[50,40,43,58],[51,10,43,61],[51,11,43,62],[51,14,43,65,"undefined"],[52,8,44,8],[52,9,44,9],[52,10,44,10],[53,8,46,8],[53,12,46,12],[53,13,46,13,"resp"],[53,17,46,17],[53,18,46,18,"ok"],[53,20,46,20],[53,22,46,22],[54,10,47,10],[54,16,47,16],[54,20,47,20,"Error"],[54,25,47,25],[54,26,48,12],[54,87,48,73,"resp"],[54,91,48,77],[54,92,48,78,"status"],[54,98,48,84],[54,103,48,89,"resp"],[54,107,48,93],[54,108,48,94,"statusText"],[54,118,48,104],[54,120,49,10],[54,121,49,11],[55,8,50,8],[56,8,52,8],[56,14,52,14,"data"],[56,18,52,18],[56,21,52,21],[56,27,52,27,"resp"],[56,31,52,31],[56,32,52,32,"json"],[56,36,52,36],[56,37,52,37],[56,38,52,38],[57,8,53,8],[57,14,53,14,"next"],[57,18,53,18],[57,21,53,21],[58,10,54,10,"credits"],[58,17,54,17],[58,19,54,19,"Number"],[58,25,54,25],[58,26,54,26,"data"],[58,30,54,30],[58,32,54,32,"credits"],[58,39,54,39],[58,43,54,43],[58,44,54,44],[58,45,54,45],[59,10,55,10,"maxCredits"],[59,20,55,20],[59,22,55,22,"Number"],[59,28,55,28],[59,29,55,29,"data"],[59,33,55,33],[59,35,55,35,"maxCredits"],[59,45,55,45],[59,49,55,49],[59,50,55,50],[60,8,56,8],[60,9,56,9],[61,8,58,8,"setCreditStatus"],[61,23,58,23],[61,24,58,24,"next"],[61,28,58,28],[61,29,58,29],[62,8,59,8],[62,15,59,15,"next"],[62,19,59,19],[63,6,60,6],[63,7,60,7],[63,8,60,8],[63,15,60,15,"e"],[63,16,60,16],[63,18,60,18],[64,8,61,8,"console"],[64,15,61,15],[64,16,61,16,"error"],[64,21,61,21],[64,22,61,22,"e"],[64,23,61,23],[64,24,61,24],[65,8,62,8],[65,15,62,15],[65,19,62,19],[66,6,63,6],[67,4,64,4],[67,5,64,5],[67,7,65,4],[67,8,65,5,"jwt"],[67,11,65,8],[67,12,66,2],[67,13,66,3],[68,4,68,2],[68,10,68,8,"restoreInFlightRef"],[68,28,68,26],[68,31,68,29],[68,35,68,29,"useRef"],[68,41,68,35],[68,42,68,35,"useRef"],[68,48,68,35],[68,50,68,36],[68,55,68,41],[68,56,68,42],[69,4,69,2],[69,10,69,8,"attemptRestoreCredits"],[69,31,69,29],[69,34,69,32],[69,38,69,32,"useCallback"],[69,44,69,43],[69,45,69,43,"useCallback"],[69,56,69,43],[69,58,70,4],[69,64,70,11,"userId"],[69,70,70,17],[69,74,70,22],[70,6,71,6],[70,12,71,12,"hasJwt"],[70,18,71,18],[70,21,71,21,"jwt"],[70,24,71,24],[70,28,71,28],[70,35,71,35,"jwt"],[70,38,71,38],[70,43,71,43],[70,51,71,51],[71,6,72,6],[71,12,72,12,"uid"],[71,15,72,15],[71,18,72,18,"Number"],[71,24,72,24],[71,25,72,25,"userId"],[71,31,72,31],[71,32,72,32],[72,6,73,6],[72,10,73,10],[72,11,73,11,"Number"],[72,17,73,17],[72,18,73,18,"isFinite"],[72,26,73,26],[72,27,73,27,"uid"],[72,30,73,30],[72,31,73,31],[72,33,73,33],[72,40,73,40],[72,44,73,44],[73,6,74,6],[73,10,74,10],[73,11,74,11,"hasJwt"],[73,17,74,17],[73,19,74,19],[73,26,74,26],[73,30,74,30],[75,6,76,6],[76,6,77,6],[77,6,78,6],[78,6,79,6],[79,6,80,6],[79,10,80,10,"creditStatus"],[79,22,80,22],[79,23,80,23,"credits"],[79,30,80,30],[79,33,80,33],[79,34,80,34],[79,36,80,36],[79,43,80,43],[79,47,80,47],[81,6,82,6],[82,6,83,6],[82,10,83,10,"restoreInFlightRef"],[82,28,83,28],[82,29,83,29,"current"],[82,36,83,36],[82,38,83,38],[82,45,83,45],[82,49,83,49],[83,6,84,6,"restoreInFlightRef"],[83,24,84,24],[83,25,84,25,"current"],[83,32,84,32],[83,35,84,35],[83,39,84,39],[84,6,85,6,"setRestoreState"],[84,21,85,21],[84,22,85,22],[85,8,85,24,"restoring"],[85,17,85,33],[85,19,85,35],[85,23,85,39],[86,8,85,41,"lastError"],[86,17,85,50],[86,19,85,52],[87,6,85,57],[87,7,85,58],[87,8,85,59],[88,6,87,6],[88,10,87,10],[89,8,88,8],[89,14,88,14],[90,10,88,16,"ok"],[91,8,88,19],[91,9,88,20],[91,12,88,23],[91,16,88,23,"configurePurchasesOnce"],[91,34,88,45],[91,35,88,45,"configurePurchasesOnce"],[91,57,88,45],[91,59,88,46],[91,60,88,47],[92,8,89,8],[92,12,89,12],[92,13,89,13,"ok"],[92,15,89,15],[92,17,89,17],[93,10,90,10],[93,17,90,17],[93,21,90,21],[94,8,91,8],[96,8,93,8],[97,8,94,8],[97,14,94,14,"Purchases"],[97,23,94,23],[97,24,94,23,"default"],[97,31,94,23],[97,32,94,24,"logIn"],[97,37,94,29],[97,38,94,30,"String"],[97,44,94,36],[97,45,94,37,"uid"],[97,48,94,40],[97,49,94,41],[97,50,94,42],[97,51,94,43,"catch"],[97,56,94,48],[97,57,94,49],[97,63,94,55],[97,67,94,59],[97,68,94,60],[99,8,96,8],[100,8,97,8],[100,12,97,12],[100,19,97,19,"Purchases"],[100,28,97,28],[100,29,97,28,"default"],[100,36,97,28],[100,37,97,29,"syncPurchases"],[100,50,97,42],[100,55,97,47],[100,65,97,57],[100,67,97,59],[101,10,98,10],[101,16,98,16,"Purchases"],[101,25,98,25],[101,26,98,25,"default"],[101,33,98,25],[101,34,98,26,"syncPurchases"],[101,47,98,39],[101,48,98,40],[101,49,98,41],[101,50,98,42,"catch"],[101,55,98,47],[101,56,98,48],[101,62,98,54],[101,66,98,58],[101,67,98,59],[102,8,99,8],[103,8,101,8],[103,14,101,14,"info"],[103,18,101,18],[103,21,101,21],[103,27,101,27,"Purchases"],[103,36,101,36],[103,37,101,36,"default"],[103,44,101,36],[103,45,101,37,"getCustomerInfo"],[103,60,101,52],[103,61,101,53],[103,62,101,54],[103,63,101,55,"catch"],[103,68,101,60],[103,69,101,61],[103,75,101,67],[103,79,101,71],[103,80,101,72],[104,8,102,8],[104,14,102,14,"latestTxn"],[104,23,102,23],[104,26,102,26],[104,30,102,26,"extractLatestTransactionIdFromCustomerInfo"],[104,54,102,68],[104,55,102,68,"extractLatestTransactionIdFromCustomerInfo"],[104,97,102,68],[104,99,102,69,"info"],[104,103,102,73],[104,104,102,74],[105,8,104,8],[105,12,104,12],[105,13,104,13,"latestTxn"],[105,22,104,22],[105,24,104,24,"transactionId"],[105,37,104,37],[105,41,104,41],[105,42,104,42,"latestTxn"],[105,51,104,51],[105,53,104,53,"productId"],[105,62,104,62],[105,64,104,64],[106,10,105,10],[106,17,105,17],[106,21,105,21],[107,8,106,8],[109,8,108,8],[110,8,109,8],[110,14,109,14,"resp"],[110,18,109,18],[110,21,109,21],[110,27,109,27,"fetch"],[110,32,109,32],[110,33,109,33],[110,58,109,58],[110,60,109,60],[111,10,110,10,"method"],[111,16,110,16],[111,18,110,18],[111,24,110,24],[112,10,111,10,"headers"],[112,17,111,17],[112,19,111,19],[113,12,112,12],[113,26,112,26],[113,28,112,28],[113,46,112,46],[114,12,113,12,"Authorization"],[114,25,113,25],[114,27,113,27],[114,37,113,37,"jwt"],[114,40,113,40],[115,10,114,10],[115,11,114,11],[116,10,115,10,"body"],[116,14,115,14],[116,16,115,16,"JSON"],[116,20,115,20],[116,21,115,21,"stringify"],[116,30,115,30],[116,31,115,31],[117,12,116,12,"transactionId"],[117,25,116,25],[117,27,116,27,"latestTxn"],[117,36,116,36],[117,37,116,37,"transactionId"],[117,50,116,50],[118,12,117,12,"productId"],[118,21,117,21],[118,23,117,23,"latestTxn"],[118,32,117,32],[118,33,117,33,"productId"],[119,10,118,10],[119,11,118,11],[120,8,119,8],[120,9,119,9],[120,10,119,10],[121,8,121,8],[121,14,121,14,"json"],[121,18,121,18],[121,21,121,21],[121,27,121,27,"resp"],[121,31,121,31],[121,32,121,32,"json"],[121,36,121,36],[121,37,121,37],[121,38,121,38],[121,39,121,39,"catch"],[121,44,121,44],[121,45,121,45],[121,51,121,51],[121,55,121,55],[121,56,121,56],[122,8,122,8],[122,12,122,12],[122,13,122,13,"resp"],[122,17,122,17],[122,18,122,18,"ok"],[122,20,122,20],[122,22,122,22],[123,10,123,10],[123,16,123,16],[123,20,123,20,"Error"],[123,25,123,25],[123,26,123,26,"json"],[123,30,123,30],[123,32,123,32,"error"],[123,37,123,37],[123,41,123,41],[123,58,123,58,"resp"],[123,62,123,62],[123,63,123,63,"status"],[123,69,123,69],[123,72,123,72],[123,73,123,73],[124,8,124,8],[126,8,126,8],[127,8,127,8],[127,14,127,14,"next"],[127,18,127,18],[127,21,127,21],[127,27,127,27,"refreshCredits"],[127,41,127,41],[127,42,127,42,"uid"],[127,45,127,45],[127,46,127,46],[129,8,129,8],[130,8,130,8],[130,12,130,12,"next"],[130,16,130,16],[130,18,130,18,"credits"],[130,25,130,25],[130,28,130,28],[130,29,130,29],[130,31,130,31],[131,10,131,10,"loadMatches"],[131,21,131,21],[131,22,131,22,"uid"],[131,25,131,25],[131,26,131,26],[131,27,131,27,"catch"],[131,32,131,32],[131,33,131,33],[131,39,131,39],[131,43,131,43],[131,44,131,44],[132,8,132,8],[133,8,134,8],[133,15,134,15,"next"],[133,19,134,19],[134,6,135,6],[134,7,135,7],[134,8,135,8],[134,15,135,15,"e"],[134,16,135,16],[134,18,135,18],[135,8,136,8,"console"],[135,15,136,15],[135,16,136,16,"error"],[135,21,136,21],[135,22,136,22,"e"],[135,23,136,23],[135,24,136,24],[136,8,137,8,"setRestoreState"],[136,23,137,23],[136,24,137,24],[137,10,138,10,"restoring"],[137,19,138,19],[137,21,138,21],[137,26,138,26],[138,10,139,10,"lastError"],[138,19,139,19],[138,21,139,21,"e"],[138,22,139,22],[138,24,139,24,"message"],[138,31,139,31],[138,35,139,35],[139,8,140,8],[139,9,140,9],[139,10,140,10],[140,8,141,8],[140,15,141,15],[140,19,141,19],[141,6,142,6],[141,7,142,7],[141,16,142,16],[142,8,143,8,"setRestoreState"],[142,23,143,23],[142,24,143,25,"s"],[142,25,143,26],[142,30,143,32],[143,10,143,34],[143,13,143,37,"s"],[143,14,143,38],[144,10,143,40,"restoring"],[144,19,143,49],[144,21,143,51],[145,8,143,57],[145,9,143,58],[145,10,143,59],[145,11,143,60],[146,8,144,8,"restoreInFlightRef"],[146,26,144,26],[146,27,144,27,"current"],[146,34,144,34],[146,37,144,37],[146,42,144,42],[147,6,145,6],[148,4,146,4],[148,5,146,5],[148,7,147,4],[148,8,147,5,"jwt"],[148,11,147,8],[148,13,147,10,"loadMatches"],[148,24,147,21],[148,26,147,23,"refreshCredits"],[148,40,147,37],[148,42,147,39,"creditStatus"],[148,54,147,51],[148,55,147,52,"credits"],[148,62,147,59],[148,63,148,2],[148,64,148,3],[149,4,150,2],[149,10,150,8,"lastCreditsRefreshRef"],[149,31,150,29],[149,34,150,32],[149,38,150,32,"useRef"],[149,44,150,38],[149,45,150,38,"useRef"],[149,51,150,38],[149,53,150,39],[149,57,150,43],[149,58,150,44],[150,4,151,2],[150,8,151,2,"useEffect"],[150,14,151,11],[150,15,151,11,"useEffect"],[150,24,151,11],[150,26,151,12],[150,32,151,18],[151,6,152,4],[151,10,152,8],[151,11,152,9,"creditsRefreshParam"],[151,30,152,28],[151,32,152,30],[152,6,153,4],[152,10,153,8],[152,11,153,9,"user"],[152,15,153,13],[152,17,153,15,"id"],[152,19,153,17],[152,21,153,19],[153,6,155,4],[153,10,155,8,"lastCreditsRefreshRef"],[153,31,155,29],[153,32,155,30,"current"],[153,39,155,37],[153,44,155,42,"creditsRefreshParam"],[153,63,155,61],[153,65,155,63],[154,8,156,6],[155,6,157,4],[156,6,159,4,"lastCreditsRefreshRef"],[156,27,159,25],[156,28,159,26,"current"],[156,35,159,33],[156,38,159,36,"creditsRefreshParam"],[156,57,159,55],[157,6,161,4,"loadMatches"],[157,17,161,15],[157,18,161,16,"user"],[157,22,161,20],[157,23,161,21,"id"],[157,25,161,23],[157,26,161,24],[157,27,161,25,"catch"],[157,32,161,30],[157,33,161,31],[157,39,161,37],[157,43,161,41],[157,44,161,42],[158,6,162,4,"refreshCredits"],[158,20,162,18],[158,21,162,19,"user"],[158,25,162,23],[158,26,162,24,"id"],[158,28,162,26],[158,29,162,27],[158,30,162,28,"catch"],[158,35,162,33],[158,36,162,34],[158,42,162,40],[158,46,162,44],[158,47,162,45],[160,6,164,4],[161,6,165,4,"attemptRestoreCredits"],[161,27,165,25],[161,28,165,26,"user"],[161,32,165,30],[161,33,165,31,"id"],[161,35,165,33],[161,36,165,34],[161,37,165,35,"catch"],[161,42,165,40],[161,43,165,41],[161,49,165,47],[161,53,165,51],[161,54,165,52],[162,4,166,2],[162,5,166,3],[162,7,166,5],[162,8,167,4,"attemptRestoreCredits"],[162,29,167,25],[162,31,168,4,"creditsRefreshParam"],[162,50,168,23],[162,52,169,4,"loadMatches"],[162,63,169,15],[162,65,170,4,"refreshCredits"],[162,79,170,18],[162,81,171,4,"user"],[162,85,171,8],[162,87,171,10,"id"],[162,89,171,12],[162,90,172,3],[162,91,172,4],[163,4,174,2],[163,11,174,9],[164,6,175,4,"creditStatus"],[164,18,175,16],[165,6,176,4,"refreshCredits"],[165,20,176,18],[166,6,177,4,"attemptRestoreCredits"],[166,27,177,25],[167,6,178,4,"restoreState"],[168,4,179,2],[168,5,179,3],[169,2,180,0],[170,0,180,1],[170,3]],"functionMap":{"names":["<global>","useMessagesCredits","useMemo$argument_0","refreshCredits","attemptRestoreCredits","Purchases.logIn._catch$argument_0","Purchases.syncPurchases._catch$argument_0","Purchases.getCustomerInfo._catch$argument_0","resp.json._catch$argument_0","loadMatches._catch$argument_0","setRestoreState$argument_0","useEffect$argument_0","refreshCredits._catch$argument_0","attemptRestoreCredits._catch$argument_0"],"mappings":"AAA;OCM;sCCG;GDK;IEa;KFoC;IGM;iDCwB,UD;gDEI,UF;6DGG,UH;6CIoB,UJ;iCKU,UL;wBMY,mCN;KHG;YUK;+BFU,UE;kCCC,UD;yCEG,UF;GVC;CDc"},"hasCjsExports":false},"type":"js/module"}]}