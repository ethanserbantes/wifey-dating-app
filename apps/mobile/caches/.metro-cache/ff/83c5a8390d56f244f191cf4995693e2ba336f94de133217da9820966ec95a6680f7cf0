{"dependencies":[{"name":"../debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"rfhktnzi6PvZxT1xtyHWbBktN/w=","exportNames":["*"],"imports":1}},{"name":"../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":131,"index":180}}],"key":"Ovsn9ORXEwSazI36ru//KBDD8LQ=","exportNames":["*"],"imports":1}},{"name":"../utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":181},"end":{"line":3,"column":49,"index":230}}],"key":"bptn1GZFOkS4BOMU8jhPqqHmvAc=","exportNames":["*"],"imports":1}},{"name":"../utils/spanUtils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":231},"end":{"line":4,"column":67,"index":298}}],"key":"UzLeGx1bDOwqjtebNy27AzwV/PI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"setMeasurement\", {\n    enumerable: true,\n    get: function () {\n      return setMeasurement;\n    }\n  });\n  Object.defineProperty(exports, \"timedEventsToMeasurements\", {\n    enumerable: true,\n    get: function () {\n      return timedEventsToMeasurements;\n    }\n  });\n  var _debugBuildJs = require(_dependencyMap[0]);\n  var _semanticAttributesJs = require(_dependencyMap[1]);\n  var _utilsDebugLoggerJs = require(_dependencyMap[2]);\n  var _utilsSpanUtilsJs = require(_dependencyMap[3]);\n  /**\n   * Adds a measurement to the active transaction on the current global scope. You can optionally pass in a different span\n   * as the 4th parameter.\n   */\n  function setMeasurement(name, value, unit) {\n    var activeSpan = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : (0, _utilsSpanUtilsJs.getActiveSpan)();\n    var rootSpan = activeSpan && (0, _utilsSpanUtilsJs.getRootSpan)(activeSpan);\n    if (rootSpan) {\n      _debugBuildJs.DEBUG_BUILD && _utilsDebugLoggerJs.debug.log(`[Measurement] Setting measurement on root span: ${name} = ${value} ${unit}`);\n      rootSpan.addEvent(name, {\n        [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]: value,\n        [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]: unit\n      });\n    }\n  }\n\n  /**\n   * Convert timed events to measurements.\n   */\n  function timedEventsToMeasurements(events) {\n    if (!events || events.length === 0) {\n      return undefined;\n    }\n    var measurements = {};\n    events.forEach(event => {\n      var attributes = event.attributes || {};\n      var unit = attributes[_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT];\n      var value = attributes[_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];\n      if (typeof unit === 'string' && typeof value === 'number') {\n        measurements[event.name] = {\n          value,\n          unit\n        };\n      }\n    });\n    return measurements;\n  }\n});","lineCount":60,"map":[[7,2,44,0,"Object"],[7,8,44,0],[7,9,44,0,"defineProperty"],[7,23,44,0],[7,24,44,0,"exports"],[7,31,44,0],[8,4,44,0,"enumerable"],[8,14,44,0],[9,4,44,0,"get"],[9,7,44,0],[9,18,44,0,"get"],[9,19,44,0],[10,6,44,0],[10,13,44,9,"setMeasurement"],[10,27,44,23],[11,4,44,23],[12,2,44,23],[13,2,44,0,"Object"],[13,8,44,0],[13,9,44,0,"defineProperty"],[13,23,44,0],[13,24,44,0,"exports"],[13,31,44,0],[14,4,44,0,"enumerable"],[14,14,44,0],[15,4,44,0,"get"],[15,7,44,0],[15,18,44,0,"get"],[15,19,44,0],[16,6,44,0],[16,13,44,25,"timedEventsToMeasurements"],[16,38,44,50],[17,4,44,50],[18,2,44,50],[19,2,1,0],[19,6,1,0,"_debugBuildJs"],[19,19,1,0],[19,22,1,0,"require"],[19,29,1,0],[19,30,1,0,"_dependencyMap"],[19,44,1,0],[20,2,2,0],[20,6,2,0,"_semanticAttributesJs"],[20,27,2,0],[20,30,2,0,"require"],[20,37,2,0],[20,38,2,0,"_dependencyMap"],[20,52,2,0],[21,2,3,0],[21,6,3,0,"_utilsDebugLoggerJs"],[21,25,3,0],[21,28,3,0,"require"],[21,35,3,0],[21,36,3,0,"_dependencyMap"],[21,50,3,0],[22,2,4,0],[22,6,4,0,"_utilsSpanUtilsJs"],[22,23,4,0],[22,26,4,0,"require"],[22,33,4,0],[22,34,4,0,"_dependencyMap"],[22,48,4,0],[23,2,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,2,10,0],[27,11,10,9,"setMeasurement"],[27,25,10,23,"setMeasurement"],[27,26,10,24,"name"],[27,30,10,28],[27,32,10,30,"value"],[27,37,10,35],[27,39,10,37,"unit"],[27,43,10,41],[27,45,10,73],[28,4,10,73],[28,8,10,43,"activeSpan"],[28,18,10,53],[28,21,10,53,"arguments"],[28,30,10,53],[28,31,10,53,"length"],[28,37,10,53],[28,45,10,53,"arguments"],[28,54,10,53],[28,62,10,53,"undefined"],[28,71,10,53],[28,74,10,53,"arguments"],[28,83,10,53],[28,89,10,56],[28,93,10,56,"getActiveSpan"],[28,110,10,69],[28,111,10,69,"getActiveSpan"],[28,124,10,69],[28,126,10,70],[28,127,10,71],[29,4,11,2],[29,8,11,8,"rootSpan"],[29,16,11,16],[29,19,11,19,"activeSpan"],[29,29,11,29],[29,33,11,33],[29,37,11,33,"getRootSpan"],[29,54,11,44],[29,55,11,44,"getRootSpan"],[29,66,11,44],[29,68,11,45,"activeSpan"],[29,78,11,55],[29,79,11,56],[30,4,13,2],[30,8,13,6,"rootSpan"],[30,16,13,14],[30,18,13,16],[31,6,14,4,"DEBUG_BUILD"],[31,19,14,15],[31,20,14,15,"DEBUG_BUILD"],[31,31,14,15],[31,35,14,19,"debug"],[31,54,14,24],[31,55,14,24,"debug"],[31,60,14,24],[31,61,14,25,"log"],[31,64,14,28],[31,65,14,29],[31,116,14,80,"name"],[31,120,14,84],[31,126,14,90,"value"],[31,131,14,95],[31,135,14,99,"unit"],[31,139,14,103],[31,141,14,105],[31,142,14,106],[32,6,15,4,"rootSpan"],[32,14,15,12],[32,15,15,13,"addEvent"],[32,23,15,21],[32,24,15,22,"name"],[32,28,15,26],[32,30,15,28],[33,8,16,6],[33,9,16,7,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[33,30,16,50],[33,31,16,50,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[33,74,16,50],[33,77,16,53,"value"],[33,82,16,58],[34,8,17,6],[34,9,17,7,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[34,30,17,49],[34,31,17,49,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[34,73,17,49],[34,76,17,52,"unit"],[35,6,18,4],[35,7,18,5],[35,8,18,6],[36,4,19,2],[37,2,20,0],[39,2,22,0],[40,0,23,0],[41,0,24,0],[42,2,25,0],[42,11,25,9,"timedEventsToMeasurements"],[42,36,25,34,"timedEventsToMeasurements"],[42,37,25,35,"events"],[42,43,25,41],[42,45,25,43],[43,4,26,2],[43,8,26,6],[43,9,26,7,"events"],[43,15,26,13],[43,19,26,17,"events"],[43,25,26,23],[43,26,26,24,"length"],[43,32,26,30],[43,37,26,35],[43,38,26,36],[43,40,26,38],[44,6,27,4],[44,13,27,11,"undefined"],[44,22,27,20],[45,4,28,2],[46,4,30,2],[46,8,30,8,"measurements"],[46,20,30,20],[46,23,30,23],[46,24,30,24],[46,25,30,25],[47,4,31,2,"events"],[47,10,31,8],[47,11,31,9,"forEach"],[47,18,31,16],[47,19,31,17,"event"],[47,24,31,22],[47,28,31,26],[48,6,32,4],[48,10,32,10,"attributes"],[48,20,32,20],[48,23,32,23,"event"],[48,28,32,28],[48,29,32,29,"attributes"],[48,39,32,39],[48,43,32,43],[48,44,32,44],[48,45,32,45],[49,6,33,4],[49,10,33,10,"unit"],[49,14,33,14],[49,17,33,17,"attributes"],[49,27,33,27],[49,28,33,28,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[49,49,33,70],[49,50,33,70,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[49,92,33,70],[49,93,33,71],[50,6,34,4],[50,10,34,10,"value"],[50,15,34,15],[50,18,34,18,"attributes"],[50,28,34,28],[50,29,34,29,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[50,50,34,72],[50,51,34,72,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[50,94,34,72],[50,95,34,73],[51,6,36,4],[51,10,36,8],[51,17,36,15,"unit"],[51,21,36,19],[51,26,36,24],[51,34,36,32],[51,38,36,36],[51,45,36,43,"value"],[51,50,36,48],[51,55,36,53],[51,63,36,61],[51,65,36,63],[52,8,37,6,"measurements"],[52,20,37,18],[52,21,37,19,"event"],[52,26,37,24],[52,27,37,25,"name"],[52,31,37,29],[52,32,37,30],[52,35,37,33],[53,10,37,35,"value"],[53,15,37,40],[54,10,37,42,"unit"],[55,8,37,47],[55,9,37,48],[56,6,38,4],[57,4,39,2],[57,5,39,3],[57,6,39,4],[58,4,41,2],[58,11,41,9,"measurements"],[58,23,41,21],[59,2,42,0],[60,0,42,1],[60,3]],"functionMap":{"names":["<global>","setMeasurement","timedEventsToMeasurements","events.forEach$argument_0"],"mappings":"AAA;ACS;CDU;AEK;iBCM;GDQ;CFG"},"hasCjsExports":false},"type":"js/module"}]}