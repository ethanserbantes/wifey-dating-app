{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":51,"index":126}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":127},"end":{"line":3,"column":47,"index":174}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"@/utils/subscription","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":175},"end":{"line":4,"column":62,"index":237}}],"key":"jUbXHGp0jcOKUUYC/w0fagW62w8=","exportNames":["*"],"imports":1}},{"name":"@/utils/dateCreditsHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":238},"end":{"line":5,"column":88,"index":326}}],"key":"oRWBdvQUhGiyZ/vbJNT/hHj85Fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMessagesCredits = useMessagesCredits;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _reactNativePurchases = require(_dependencyMap[2], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _utilsSubscription = require(_dependencyMap[3], \"@/utils/subscription\");\n  var _utilsDateCreditsHelpers = require(_dependencyMap[4], \"@/utils/dateCreditsHelpers\");\n  function useMessagesCredits({\n    jwt,\n    user,\n    loadMatches\n  }) {\n    _s();\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    const creditsRefreshParam = (0, _react.useMemo)(() => {\n      const raw = params?.creditsRefresh;\n      const v = Array.isArray(raw) ? raw[0] : raw;\n      const s = v != null ? String(v).trim() : \"\";\n      return s || null;\n    }, [params?.creditsRefresh]);\n    const [creditStatus, setCreditStatus] = (0, _react.useState)({\n      credits: 0,\n      maxCredits: 3\n    });\n    const [restoreState, setRestoreState] = (0, _react.useState)({\n      restoring: false,\n      lastError: null\n    });\n    const refreshCredits = (0, _react.useCallback)(async userId => {\n      try {\n        const uid = Number(userId);\n        const hasUid = Number.isFinite(uid);\n        const hasJwt = jwt && typeof jwt === \"string\";\n        if (!hasUid && !hasJwt) {\n          return null;\n        }\n        const url = hasUid ? `/api/date-credits/status?userId=${uid}` : \"/api/date-credits/status\";\n        const resp = await fetch(url, {\n          headers: hasJwt ? {\n            Authorization: `Bearer ${jwt}`\n          } : undefined\n        });\n        if (!resp.ok) {\n          throw new Error(`When fetching /api/date-credits/status, the response was [${resp.status}] ${resp.statusText}`);\n        }\n        const data = await resp.json();\n        const next = {\n          credits: Number(data?.credits || 0),\n          maxCredits: Number(data?.maxCredits || 3)\n        };\n        setCreditStatus(next);\n        return next;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }, [jwt]);\n    const restoreInFlightRef = (0, _react.useRef)(false);\n    const attemptRestoreCredits = (0, _react.useCallback)(async userId => {\n      const hasJwt = jwt && typeof jwt === \"string\";\n      const uid = Number(userId);\n      if (!Number.isFinite(uid)) return null;\n      if (!hasJwt) return null;\n\n      // Don't attempt restore if user already has credits â€” the initial purchase\n      // claim already worked. Restoring here risks double-crediting because\n      // CustomerInfo can return a different transaction ID than what was used\n      // in the original claim.\n      if (creditStatus.credits > 0) return null;\n\n      // Avoid spamming RevenueCat / server\n      if (restoreInFlightRef.current) return null;\n      restoreInFlightRef.current = true;\n      setRestoreState({\n        restoring: true,\n        lastError: null\n      });\n      try {\n        const {\n          ok\n        } = (0, _utilsSubscription.configurePurchasesOnce)();\n        if (!ok) {\n          return null;\n        }\n\n        // Make sure RevenueCat is logged in as this user before syncing.\n        await Purchases.default.logIn(String(uid)).catch(() => null);\n\n        // Ensure RC receipt is synced (helps TestFlight)\n        if (typeof Purchases.default.syncPurchases === \"function\") {\n          await Purchases.default.syncPurchases().catch(() => null);\n        }\n        const info = await Purchases.default.getCustomerInfo().catch(() => null);\n        const latestTxn = (0, _utilsDateCreditsHelpers.extractLatestTransactionIdFromCustomerInfo)(info);\n        if (!latestTxn?.transactionId || !latestTxn?.productId) {\n          return null;\n        }\n\n        // Claim on the backend (idempotent by transaction id)\n        const resp = await fetch(\"/api/date-credits/claim\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${jwt}`\n          },\n          body: JSON.stringify({\n            transactionId: latestTxn.transactionId,\n            productId: latestTxn.productId\n          })\n        });\n        const json = await resp.json().catch(() => null);\n        if (!resp.ok) {\n          throw new Error(json?.error || `Claim failed (${resp.status})`);\n        }\n\n        // Refresh credits after claim\n        const next = await refreshCredits(uid);\n\n        // Also refresh matches so the newly-unlocked section populates immediately\n        if (next?.credits > 0) {\n          loadMatches(uid).catch(() => null);\n        }\n        return next;\n      } catch (e) {\n        console.error(e);\n        setRestoreState({\n          restoring: false,\n          lastError: e?.message || \"Failed\"\n        });\n        return null;\n      } finally {\n        setRestoreState(s => ({\n          ...s,\n          restoring: false\n        }));\n        restoreInFlightRef.current = false;\n      }\n    }, [jwt, loadMatches, refreshCredits, creditStatus.credits]);\n    const lastCreditsRefreshRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      if (!creditsRefreshParam) return;\n      if (!user?.id) return;\n      if (lastCreditsRefreshRef.current === creditsRefreshParam) {\n        return;\n      }\n      lastCreditsRefreshRef.current = creditsRefreshParam;\n      loadMatches(user.id).catch(() => null);\n      refreshCredits(user.id).catch(() => null);\n\n      // NEW: also attempt to restore any just-finished purchase\n      attemptRestoreCredits(user.id).catch(() => null);\n    }, [attemptRestoreCredits, creditsRefreshParam, loadMatches, refreshCredits, user?.id]);\n    return {\n      creditStatus,\n      refreshCredits,\n      attemptRestoreCredits,\n      restoreState\n    };\n  }\n  _s(useMessagesCredits, \"BRVSssVDW6/3VDoG4P1sj56D02Q=\", false, function () {\n    return [_expoRouter.useLocalSearchParams];\n  });\n});","lineCount":175,"map":[[13,2,7,0,"exports"],[13,9,7,0],[13,10,7,0,"useMessagesCredits"],[13,28,7,0],[13,31,7,0,"useMessagesCredits"],[13,49,7,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_expoRouter"],[15,17,2,0],[15,20,2,0,"require"],[15,27,2,0],[15,28,2,0,"_dependencyMap"],[15,42,2,0],[16,2,3,0],[16,6,3,0,"_reactNativePurchases"],[16,27,3,0],[16,30,3,0,"require"],[16,37,3,0],[16,38,3,0,"_dependencyMap"],[16,52,3,0],[17,2,3,0],[17,6,3,0,"Purchases"],[17,15,3,0],[17,18,3,0,"_interopDefault"],[17,33,3,0],[17,34,3,0,"_reactNativePurchases"],[17,55,3,0],[18,2,4,0],[18,6,4,0,"_utilsSubscription"],[18,24,4,0],[18,27,4,0,"require"],[18,34,4,0],[18,35,4,0,"_dependencyMap"],[18,49,4,0],[19,2,5,0],[19,6,5,0,"_utilsDateCreditsHelpers"],[19,30,5,0],[19,33,5,0,"require"],[19,40,5,0],[19,41,5,0,"_dependencyMap"],[19,55,5,0],[20,2,7,7],[20,11,7,16,"useMessagesCredits"],[20,29,7,34,"useMessagesCredits"],[20,30,7,35],[21,4,7,37,"jwt"],[21,7,7,40],[22,4,7,42,"user"],[22,8,7,46],[23,4,7,48,"loadMatches"],[24,2,7,60],[24,3,7,61],[24,5,7,63],[25,4,7,63,"_s"],[25,6,7,63],[26,4,8,2],[26,10,8,8,"params"],[26,16,8,14],[26,19,8,17],[26,23,8,17,"useLocalSearchParams"],[26,34,8,37],[26,35,8,37,"useLocalSearchParams"],[26,55,8,37],[26,57,8,38],[26,58,8,39],[27,4,10,2],[27,10,10,8,"creditsRefreshParam"],[27,29,10,27],[27,32,10,30],[27,36,10,30,"useMemo"],[27,42,10,37],[27,43,10,37,"useMemo"],[27,50,10,37],[27,52,10,38],[27,58,10,44],[28,6,11,4],[28,12,11,10,"raw"],[28,15,11,13],[28,18,11,16,"params"],[28,24,11,22],[28,26,11,24,"creditsRefresh"],[28,40,11,38],[29,6,12,4],[29,12,12,10,"v"],[29,13,12,11],[29,16,12,14,"Array"],[29,21,12,19],[29,22,12,20,"isArray"],[29,29,12,27],[29,30,12,28,"raw"],[29,33,12,31],[29,34,12,32],[29,37,12,35,"raw"],[29,40,12,38],[29,41,12,39],[29,42,12,40],[29,43,12,41],[29,46,12,44,"raw"],[29,49,12,47],[30,6,13,4],[30,12,13,10,"s"],[30,13,13,11],[30,16,13,14,"v"],[30,17,13,15],[30,21,13,19],[30,25,13,23],[30,28,13,26,"String"],[30,34,13,32],[30,35,13,33,"v"],[30,36,13,34],[30,37,13,35],[30,38,13,36,"trim"],[30,42,13,40],[30,43,13,41],[30,44,13,42],[30,47,13,45],[30,49,13,47],[31,6,14,4],[31,13,14,11,"s"],[31,14,14,12],[31,18,14,16],[31,22,14,20],[32,4,15,2],[32,5,15,3],[32,7,15,5],[32,8,15,6,"params"],[32,14,15,12],[32,16,15,14,"creditsRefresh"],[32,30,15,28],[32,31,15,29],[32,32,15,30],[33,4,17,2],[33,10,17,8],[33,11,17,9,"creditStatus"],[33,23,17,21],[33,25,17,23,"setCreditStatus"],[33,40,17,38],[33,41,17,39],[33,44,17,42],[33,48,17,42,"useState"],[33,54,17,50],[33,55,17,50,"useState"],[33,63,17,50],[33,65,17,51],[34,6,18,4,"credits"],[34,13,18,11],[34,15,18,13],[34,16,18,14],[35,6,19,4,"maxCredits"],[35,16,19,14],[35,18,19,16],[36,4,20,2],[36,5,20,3],[36,6,20,4],[37,4,22,2],[37,10,22,8],[37,11,22,9,"restoreState"],[37,23,22,21],[37,25,22,23,"setRestoreState"],[37,40,22,38],[37,41,22,39],[37,44,22,42],[37,48,22,42,"useState"],[37,54,22,50],[37,55,22,50,"useState"],[37,63,22,50],[37,65,22,51],[38,6,23,4,"restoring"],[38,15,23,13],[38,17,23,15],[38,22,23,20],[39,6,24,4,"lastError"],[39,15,24,13],[39,17,24,15],[40,4,25,2],[40,5,25,3],[40,6,25,4],[41,4,27,2],[41,10,27,8,"refreshCredits"],[41,24,27,22],[41,27,27,25],[41,31,27,25,"useCallback"],[41,37,27,36],[41,38,27,36,"useCallback"],[41,49,27,36],[41,51,28,4],[41,57,28,11,"userId"],[41,63,28,17],[41,67,28,22],[42,6,29,6],[42,10,29,10],[43,8,30,8],[43,14,30,14,"uid"],[43,17,30,17],[43,20,30,20,"Number"],[43,26,30,26],[43,27,30,27,"userId"],[43,33,30,33],[43,34,30,34],[44,8,31,8],[44,14,31,14,"hasUid"],[44,20,31,20],[44,23,31,23,"Number"],[44,29,31,29],[44,30,31,30,"isFinite"],[44,38,31,38],[44,39,31,39,"uid"],[44,42,31,42],[44,43,31,43],[45,8,32,8],[45,14,32,14,"hasJwt"],[45,20,32,20],[45,23,32,23,"jwt"],[45,26,32,26],[45,30,32,30],[45,37,32,37,"jwt"],[45,40,32,40],[45,45,32,45],[45,53,32,53],[46,8,34,8],[46,12,34,12],[46,13,34,13,"hasUid"],[46,19,34,19],[46,23,34,23],[46,24,34,24,"hasJwt"],[46,30,34,30],[46,32,34,32],[47,10,35,10],[47,17,35,17],[47,21,35,21],[48,8,36,8],[49,8,38,8],[49,14,38,14,"url"],[49,17,38,17],[49,20,38,20,"hasUid"],[49,26,38,26],[49,29,39,12],[49,64,39,47,"uid"],[49,67,39,50],[49,69,39,52],[49,72,40,12],[49,98,40,38],[50,8,42,8],[50,14,42,14,"resp"],[50,18,42,18],[50,21,42,21],[50,27,42,27,"fetch"],[50,32,42,32],[50,33,42,33,"url"],[50,36,42,36],[50,38,42,38],[51,10,43,10,"headers"],[51,17,43,17],[51,19,43,19,"hasJwt"],[51,25,43,25],[51,28,43,28],[52,12,43,30,"Authorization"],[52,25,43,43],[52,27,43,45],[52,37,43,55,"jwt"],[52,40,43,58],[53,10,43,61],[53,11,43,62],[53,14,43,65,"undefined"],[54,8,44,8],[54,9,44,9],[54,10,44,10],[55,8,46,8],[55,12,46,12],[55,13,46,13,"resp"],[55,17,46,17],[55,18,46,18,"ok"],[55,20,46,20],[55,22,46,22],[56,10,47,10],[56,16,47,16],[56,20,47,20,"Error"],[56,25,47,25],[56,26,48,12],[56,87,48,73,"resp"],[56,91,48,77],[56,92,48,78,"status"],[56,98,48,84],[56,103,48,89,"resp"],[56,107,48,93],[56,108,48,94,"statusText"],[56,118,48,104],[56,120,49,10],[56,121,49,11],[57,8,50,8],[58,8,52,8],[58,14,52,14,"data"],[58,18,52,18],[58,21,52,21],[58,27,52,27,"resp"],[58,31,52,31],[58,32,52,32,"json"],[58,36,52,36],[58,37,52,37],[58,38,52,38],[59,8,53,8],[59,14,53,14,"next"],[59,18,53,18],[59,21,53,21],[60,10,54,10,"credits"],[60,17,54,17],[60,19,54,19,"Number"],[60,25,54,25],[60,26,54,26,"data"],[60,30,54,30],[60,32,54,32,"credits"],[60,39,54,39],[60,43,54,43],[60,44,54,44],[60,45,54,45],[61,10,55,10,"maxCredits"],[61,20,55,20],[61,22,55,22,"Number"],[61,28,55,28],[61,29,55,29,"data"],[61,33,55,33],[61,35,55,35,"maxCredits"],[61,45,55,45],[61,49,55,49],[61,50,55,50],[62,8,56,8],[62,9,56,9],[63,8,58,8,"setCreditStatus"],[63,23,58,23],[63,24,58,24,"next"],[63,28,58,28],[63,29,58,29],[64,8,59,8],[64,15,59,15,"next"],[64,19,59,19],[65,6,60,6],[65,7,60,7],[65,8,60,8],[65,15,60,15,"e"],[65,16,60,16],[65,18,60,18],[66,8,61,8,"console"],[66,15,61,15],[66,16,61,16,"error"],[66,21,61,21],[66,22,61,22,"e"],[66,23,61,23],[66,24,61,24],[67,8,62,8],[67,15,62,15],[67,19,62,19],[68,6,63,6],[69,4,64,4],[69,5,64,5],[69,7,65,4],[69,8,65,5,"jwt"],[69,11,65,8],[69,12,66,2],[69,13,66,3],[70,4,68,2],[70,10,68,8,"restoreInFlightRef"],[70,28,68,26],[70,31,68,29],[70,35,68,29,"useRef"],[70,41,68,35],[70,42,68,35,"useRef"],[70,48,68,35],[70,50,68,36],[70,55,68,41],[70,56,68,42],[71,4,69,2],[71,10,69,8,"attemptRestoreCredits"],[71,31,69,29],[71,34,69,32],[71,38,69,32,"useCallback"],[71,44,69,43],[71,45,69,43,"useCallback"],[71,56,69,43],[71,58,70,4],[71,64,70,11,"userId"],[71,70,70,17],[71,74,70,22],[72,6,71,6],[72,12,71,12,"hasJwt"],[72,18,71,18],[72,21,71,21,"jwt"],[72,24,71,24],[72,28,71,28],[72,35,71,35,"jwt"],[72,38,71,38],[72,43,71,43],[72,51,71,51],[73,6,72,6],[73,12,72,12,"uid"],[73,15,72,15],[73,18,72,18,"Number"],[73,24,72,24],[73,25,72,25,"userId"],[73,31,72,31],[73,32,72,32],[74,6,73,6],[74,10,73,10],[74,11,73,11,"Number"],[74,17,73,17],[74,18,73,18,"isFinite"],[74,26,73,26],[74,27,73,27,"uid"],[74,30,73,30],[74,31,73,31],[74,33,73,33],[74,40,73,40],[74,44,73,44],[75,6,74,6],[75,10,74,10],[75,11,74,11,"hasJwt"],[75,17,74,17],[75,19,74,19],[75,26,74,26],[75,30,74,30],[77,6,76,6],[78,6,77,6],[79,6,78,6],[80,6,79,6],[81,6,80,6],[81,10,80,10,"creditStatus"],[81,22,80,22],[81,23,80,23,"credits"],[81,30,80,30],[81,33,80,33],[81,34,80,34],[81,36,80,36],[81,43,80,43],[81,47,80,47],[83,6,82,6],[84,6,83,6],[84,10,83,10,"restoreInFlightRef"],[84,28,83,28],[84,29,83,29,"current"],[84,36,83,36],[84,38,83,38],[84,45,83,45],[84,49,83,49],[85,6,84,6,"restoreInFlightRef"],[85,24,84,24],[85,25,84,25,"current"],[85,32,84,32],[85,35,84,35],[85,39,84,39],[86,6,85,6,"setRestoreState"],[86,21,85,21],[86,22,85,22],[87,8,85,24,"restoring"],[87,17,85,33],[87,19,85,35],[87,23,85,39],[88,8,85,41,"lastError"],[88,17,85,50],[88,19,85,52],[89,6,85,57],[89,7,85,58],[89,8,85,59],[90,6,87,6],[90,10,87,10],[91,8,88,8],[91,14,88,14],[92,10,88,16,"ok"],[93,8,88,19],[93,9,88,20],[93,12,88,23],[93,16,88,23,"configurePurchasesOnce"],[93,34,88,45],[93,35,88,45,"configurePurchasesOnce"],[93,57,88,45],[93,59,88,46],[93,60,88,47],[94,8,89,8],[94,12,89,12],[94,13,89,13,"ok"],[94,15,89,15],[94,17,89,17],[95,10,90,10],[95,17,90,17],[95,21,90,21],[96,8,91,8],[98,8,93,8],[99,8,94,8],[99,14,94,14,"Purchases"],[99,23,94,23],[99,24,94,23,"default"],[99,31,94,23],[99,32,94,24,"logIn"],[99,37,94,29],[99,38,94,30,"String"],[99,44,94,36],[99,45,94,37,"uid"],[99,48,94,40],[99,49,94,41],[99,50,94,42],[99,51,94,43,"catch"],[99,56,94,48],[99,57,94,49],[99,63,94,55],[99,67,94,59],[99,68,94,60],[101,8,96,8],[102,8,97,8],[102,12,97,12],[102,19,97,19,"Purchases"],[102,28,97,28],[102,29,97,28,"default"],[102,36,97,28],[102,37,97,29,"syncPurchases"],[102,50,97,42],[102,55,97,47],[102,65,97,57],[102,67,97,59],[103,10,98,10],[103,16,98,16,"Purchases"],[103,25,98,25],[103,26,98,25,"default"],[103,33,98,25],[103,34,98,26,"syncPurchases"],[103,47,98,39],[103,48,98,40],[103,49,98,41],[103,50,98,42,"catch"],[103,55,98,47],[103,56,98,48],[103,62,98,54],[103,66,98,58],[103,67,98,59],[104,8,99,8],[105,8,101,8],[105,14,101,14,"info"],[105,18,101,18],[105,21,101,21],[105,27,101,27,"Purchases"],[105,36,101,36],[105,37,101,36,"default"],[105,44,101,36],[105,45,101,37,"getCustomerInfo"],[105,60,101,52],[105,61,101,53],[105,62,101,54],[105,63,101,55,"catch"],[105,68,101,60],[105,69,101,61],[105,75,101,67],[105,79,101,71],[105,80,101,72],[106,8,102,8],[106,14,102,14,"latestTxn"],[106,23,102,23],[106,26,102,26],[106,30,102,26,"extractLatestTransactionIdFromCustomerInfo"],[106,54,102,68],[106,55,102,68,"extractLatestTransactionIdFromCustomerInfo"],[106,97,102,68],[106,99,102,69,"info"],[106,103,102,73],[106,104,102,74],[107,8,104,8],[107,12,104,12],[107,13,104,13,"latestTxn"],[107,22,104,22],[107,24,104,24,"transactionId"],[107,37,104,37],[107,41,104,41],[107,42,104,42,"latestTxn"],[107,51,104,51],[107,53,104,53,"productId"],[107,62,104,62],[107,64,104,64],[108,10,105,10],[108,17,105,17],[108,21,105,21],[109,8,106,8],[111,8,108,8],[112,8,109,8],[112,14,109,14,"resp"],[112,18,109,18],[112,21,109,21],[112,27,109,27,"fetch"],[112,32,109,32],[112,33,109,33],[112,58,109,58],[112,60,109,60],[113,10,110,10,"method"],[113,16,110,16],[113,18,110,18],[113,24,110,24],[114,10,111,10,"headers"],[114,17,111,17],[114,19,111,19],[115,12,112,12],[115,26,112,26],[115,28,112,28],[115,46,112,46],[116,12,113,12,"Authorization"],[116,25,113,25],[116,27,113,27],[116,37,113,37,"jwt"],[116,40,113,40],[117,10,114,10],[117,11,114,11],[118,10,115,10,"body"],[118,14,115,14],[118,16,115,16,"JSON"],[118,20,115,20],[118,21,115,21,"stringify"],[118,30,115,30],[118,31,115,31],[119,12,116,12,"transactionId"],[119,25,116,25],[119,27,116,27,"latestTxn"],[119,36,116,36],[119,37,116,37,"transactionId"],[119,50,116,50],[120,12,117,12,"productId"],[120,21,117,21],[120,23,117,23,"latestTxn"],[120,32,117,32],[120,33,117,33,"productId"],[121,10,118,10],[121,11,118,11],[122,8,119,8],[122,9,119,9],[122,10,119,10],[123,8,121,8],[123,14,121,14,"json"],[123,18,121,18],[123,21,121,21],[123,27,121,27,"resp"],[123,31,121,31],[123,32,121,32,"json"],[123,36,121,36],[123,37,121,37],[123,38,121,38],[123,39,121,39,"catch"],[123,44,121,44],[123,45,121,45],[123,51,121,51],[123,55,121,55],[123,56,121,56],[124,8,122,8],[124,12,122,12],[124,13,122,13,"resp"],[124,17,122,17],[124,18,122,18,"ok"],[124,20,122,20],[124,22,122,22],[125,10,123,10],[125,16,123,16],[125,20,123,20,"Error"],[125,25,123,25],[125,26,123,26,"json"],[125,30,123,30],[125,32,123,32,"error"],[125,37,123,37],[125,41,123,41],[125,58,123,58,"resp"],[125,62,123,62],[125,63,123,63,"status"],[125,69,123,69],[125,72,123,72],[125,73,123,73],[126,8,124,8],[128,8,126,8],[129,8,127,8],[129,14,127,14,"next"],[129,18,127,18],[129,21,127,21],[129,27,127,27,"refreshCredits"],[129,41,127,41],[129,42,127,42,"uid"],[129,45,127,45],[129,46,127,46],[131,8,129,8],[132,8,130,8],[132,12,130,12,"next"],[132,16,130,16],[132,18,130,18,"credits"],[132,25,130,25],[132,28,130,28],[132,29,130,29],[132,31,130,31],[133,10,131,10,"loadMatches"],[133,21,131,21],[133,22,131,22,"uid"],[133,25,131,25],[133,26,131,26],[133,27,131,27,"catch"],[133,32,131,32],[133,33,131,33],[133,39,131,39],[133,43,131,43],[133,44,131,44],[134,8,132,8],[135,8,134,8],[135,15,134,15,"next"],[135,19,134,19],[136,6,135,6],[136,7,135,7],[136,8,135,8],[136,15,135,15,"e"],[136,16,135,16],[136,18,135,18],[137,8,136,8,"console"],[137,15,136,15],[137,16,136,16,"error"],[137,21,136,21],[137,22,136,22,"e"],[137,23,136,23],[137,24,136,24],[138,8,137,8,"setRestoreState"],[138,23,137,23],[138,24,137,24],[139,10,138,10,"restoring"],[139,19,138,19],[139,21,138,21],[139,26,138,26],[140,10,139,10,"lastError"],[140,19,139,19],[140,21,139,21,"e"],[140,22,139,22],[140,24,139,24,"message"],[140,31,139,31],[140,35,139,35],[141,8,140,8],[141,9,140,9],[141,10,140,10],[142,8,141,8],[142,15,141,15],[142,19,141,19],[143,6,142,6],[143,7,142,7],[143,16,142,16],[144,8,143,8,"setRestoreState"],[144,23,143,23],[144,24,143,25,"s"],[144,25,143,26],[144,30,143,32],[145,10,143,34],[145,13,143,37,"s"],[145,14,143,38],[146,10,143,40,"restoring"],[146,19,143,49],[146,21,143,51],[147,8,143,57],[147,9,143,58],[147,10,143,59],[147,11,143,60],[148,8,144,8,"restoreInFlightRef"],[148,26,144,26],[148,27,144,27,"current"],[148,34,144,34],[148,37,144,37],[148,42,144,42],[149,6,145,6],[150,4,146,4],[150,5,146,5],[150,7,147,4],[150,8,147,5,"jwt"],[150,11,147,8],[150,13,147,10,"loadMatches"],[150,24,147,21],[150,26,147,23,"refreshCredits"],[150,40,147,37],[150,42,147,39,"creditStatus"],[150,54,147,51],[150,55,147,52,"credits"],[150,62,147,59],[150,63,148,2],[150,64,148,3],[151,4,150,2],[151,10,150,8,"lastCreditsRefreshRef"],[151,31,150,29],[151,34,150,32],[151,38,150,32,"useRef"],[151,44,150,38],[151,45,150,38,"useRef"],[151,51,150,38],[151,53,150,39],[151,57,150,43],[151,58,150,44],[152,4,151,2],[152,8,151,2,"useEffect"],[152,14,151,11],[152,15,151,11,"useEffect"],[152,24,151,11],[152,26,151,12],[152,32,151,18],[153,6,152,4],[153,10,152,8],[153,11,152,9,"creditsRefreshParam"],[153,30,152,28],[153,32,152,30],[154,6,153,4],[154,10,153,8],[154,11,153,9,"user"],[154,15,153,13],[154,17,153,15,"id"],[154,19,153,17],[154,21,153,19],[155,6,155,4],[155,10,155,8,"lastCreditsRefreshRef"],[155,31,155,29],[155,32,155,30,"current"],[155,39,155,37],[155,44,155,42,"creditsRefreshParam"],[155,63,155,61],[155,65,155,63],[156,8,156,6],[157,6,157,4],[158,6,159,4,"lastCreditsRefreshRef"],[158,27,159,25],[158,28,159,26,"current"],[158,35,159,33],[158,38,159,36,"creditsRefreshParam"],[158,57,159,55],[159,6,161,4,"loadMatches"],[159,17,161,15],[159,18,161,16,"user"],[159,22,161,20],[159,23,161,21,"id"],[159,25,161,23],[159,26,161,24],[159,27,161,25,"catch"],[159,32,161,30],[159,33,161,31],[159,39,161,37],[159,43,161,41],[159,44,161,42],[160,6,162,4,"refreshCredits"],[160,20,162,18],[160,21,162,19,"user"],[160,25,162,23],[160,26,162,24,"id"],[160,28,162,26],[160,29,162,27],[160,30,162,28,"catch"],[160,35,162,33],[160,36,162,34],[160,42,162,40],[160,46,162,44],[160,47,162,45],[162,6,164,4],[163,6,165,4,"attemptRestoreCredits"],[163,27,165,25],[163,28,165,26,"user"],[163,32,165,30],[163,33,165,31,"id"],[163,35,165,33],[163,36,165,34],[163,37,165,35,"catch"],[163,42,165,40],[163,43,165,41],[163,49,165,47],[163,53,165,51],[163,54,165,52],[164,4,166,2],[164,5,166,3],[164,7,166,5],[164,8,167,4,"attemptRestoreCredits"],[164,29,167,25],[164,31,168,4,"creditsRefreshParam"],[164,50,168,23],[164,52,169,4,"loadMatches"],[164,63,169,15],[164,65,170,4,"refreshCredits"],[164,79,170,18],[164,81,171,4,"user"],[164,85,171,8],[164,87,171,10,"id"],[164,89,171,12],[164,90,172,3],[164,91,172,4],[165,4,174,2],[165,11,174,9],[166,6,175,4,"creditStatus"],[166,18,175,16],[167,6,176,4,"refreshCredits"],[167,20,176,18],[168,6,177,4,"attemptRestoreCredits"],[168,27,177,25],[169,6,178,4,"restoreState"],[170,4,179,2],[170,5,179,3],[171,2,180,0],[172,2,180,1,"_s"],[172,4,180,1],[172,5,7,16,"useMessagesCredits"],[172,23,7,34],[173,4,7,34],[173,12,8,17,"useLocalSearchParams"],[173,23,8,37],[173,24,8,37,"useLocalSearchParams"],[173,44,8,37],[174,2,8,37],[175,0,8,37],[175,3]],"functionMap":{"names":["<global>","useMessagesCredits","useMemo$argument_0","refreshCredits","attemptRestoreCredits","Purchases.logIn._catch$argument_0","Purchases.syncPurchases._catch$argument_0","Purchases.getCustomerInfo._catch$argument_0","resp.json._catch$argument_0","loadMatches._catch$argument_0","setRestoreState$argument_0","useEffect$argument_0","refreshCredits._catch$argument_0","attemptRestoreCredits._catch$argument_0"],"mappings":"AAA;OCM;sCCG;GDK;IEa;KFoC;IGM;iDCwB,UD;gDEI,UF;6DGG,UH;6CIoB,UJ;iCKU,UL;wBMY,mCN;KHG;YUK;+BFU,UE;kCCC,UD;yCEG,UF;GVC;CDc"},"hasCjsExports":false},"type":"js/module"}]}