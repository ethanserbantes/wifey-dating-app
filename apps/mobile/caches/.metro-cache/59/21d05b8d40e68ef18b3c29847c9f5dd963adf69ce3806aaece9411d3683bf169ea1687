{"dependencies":[{"name":"./currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"K7iI+PRtR1yDAq2Cd5P/ht8ORfQ=","exportNames":["*"],"imports":1}},{"name":"./utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":67},"end":{"line":2,"column":57,"index":124}}],"key":"/2lWjUciKC30HANSgrpZFMawp8E=","exportNames":["*"],"imports":1}},{"name":"./utils/time.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":125},"end":{"line":3,"column":57,"index":182}}],"key":"jkg47XoPT2ikUhcJR617GeQNnco=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"addBreadcrumb\", {\n    enumerable: true,\n    get: function () {\n      return addBreadcrumb;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0]);\n  var _utilsDebugLoggerJs = require(_dependencyMap[1]);\n  var _utilsTimeJs = require(_dependencyMap[2]);\n  /**\n   * Default maximum number of breadcrumbs added to an event. Can be overwritten\n   * with {@link Options.maxBreadcrumbs}.\n   */\n  var DEFAULT_BREADCRUMBS = 100;\n\n  /**\n   * Records a new breadcrumb which will be attached to future events.\n   *\n   * Breadcrumbs will be added to subsequent events to provide more context on\n   * user's actions prior to an error or crash.\n   */\n  function addBreadcrumb(breadcrumb, hint) {\n    var client = (0, _currentScopesJs.getClient)();\n    var isolationScope = (0, _currentScopesJs.getIsolationScope)();\n    if (!client) return;\n    var _client$getOptions = client.getOptions(),\n      _client$getOptions$be = _client$getOptions.beforeBreadcrumb,\n      beforeBreadcrumb = _client$getOptions$be === undefined ? null : _client$getOptions$be,\n      _client$getOptions$ma = _client$getOptions.maxBreadcrumbs,\n      maxBreadcrumbs = _client$getOptions$ma === undefined ? DEFAULT_BREADCRUMBS : _client$getOptions$ma;\n    if (maxBreadcrumbs <= 0) return;\n    var timestamp = (0, _utilsTimeJs.dateTimestampInSeconds)();\n    var mergedBreadcrumb = {\n      timestamp,\n      ...breadcrumb\n    };\n    var finalBreadcrumb = beforeBreadcrumb ? (0, _utilsDebugLoggerJs.consoleSandbox)(() => beforeBreadcrumb(mergedBreadcrumb, hint)) : mergedBreadcrumb;\n    if (finalBreadcrumb === null) return;\n    if (client.emit) {\n      client.emit('beforeAddBreadcrumb', finalBreadcrumb, hint);\n    }\n    isolationScope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n  }\n});","lineCount":50,"map":[[7,2,42,0,"Object"],[7,8,42,0],[7,9,42,0,"defineProperty"],[7,23,42,0],[7,24,42,0,"exports"],[7,31,42,0],[8,4,42,0,"enumerable"],[8,14,42,0],[9,4,42,0,"get"],[9,7,42,0],[9,18,42,0,"get"],[9,19,42,0],[10,6,42,0],[10,13,42,9,"addBreadcrumb"],[10,26,42,22],[11,4,42,22],[12,2,42,22],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_utilsDebugLoggerJs"],[14,25,2,0],[14,28,2,0,"require"],[14,35,2,0],[14,36,2,0,"_dependencyMap"],[14,50,2,0],[15,2,3,0],[15,6,3,0,"_utilsTimeJs"],[15,18,3,0],[15,21,3,0,"require"],[15,28,3,0],[15,29,3,0,"_dependencyMap"],[15,43,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,2,9,0],[20,6,9,6,"DEFAULT_BREADCRUMBS"],[20,25,9,25],[20,28,9,28],[20,31,9,31],[22,2,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,2,17,0],[28,11,17,9,"addBreadcrumb"],[28,24,17,22,"addBreadcrumb"],[28,25,17,23,"breadcrumb"],[28,35,17,33],[28,37,17,35,"hint"],[28,41,17,39],[28,43,17,41],[29,4,18,2],[29,8,18,8,"client"],[29,14,18,14],[29,17,18,17],[29,21,18,17,"getClient"],[29,37,18,26],[29,38,18,26,"getClient"],[29,47,18,26],[29,49,18,27],[29,50,18,28],[30,4,19,2],[30,8,19,8,"isolationScope"],[30,22,19,22],[30,25,19,25],[30,29,19,25,"getIsolationScope"],[30,45,19,42],[30,46,19,42,"getIsolationScope"],[30,63,19,42],[30,65,19,43],[30,66,19,44],[31,4,21,2],[31,8,21,6],[31,9,21,7,"client"],[31,15,21,13],[31,17,21,15],[32,4,23,2],[32,8,23,2,"_client$getOptions"],[32,26,23,2],[32,29,23,76,"client"],[32,35,23,82],[32,36,23,83,"getOptions"],[32,46,23,93],[32,47,23,94],[32,48,23,95],[33,6,23,95,"_client$getOptions$be"],[33,27,23,95],[33,30,23,95,"_client$getOptions"],[33,48,23,95],[33,49,23,10,"beforeBreadcrumb"],[33,65,23,26],[34,6,23,10,"beforeBreadcrumb"],[34,22,23,26],[34,25,23,26,"_client$getOptions$be"],[34,46,23,26],[34,51,23,26,"undefined"],[34,60,23,26],[34,63,23,29],[34,67,23,33],[34,70,23,33,"_client$getOptions$be"],[34,91,23,33],[35,6,23,33,"_client$getOptions$ma"],[35,27,23,33],[35,30,23,33,"_client$getOptions"],[35,48,23,33],[35,49,23,35,"maxBreadcrumbs"],[35,63,23,49],[36,6,23,35,"maxBreadcrumbs"],[36,20,23,49],[36,23,23,49,"_client$getOptions$ma"],[36,44,23,49],[36,49,23,49,"undefined"],[36,58,23,49],[36,61,23,52,"DEFAULT_BREADCRUMBS"],[36,80,23,71],[36,83,23,71,"_client$getOptions$ma"],[36,104,23,71],[37,4,25,2],[37,8,25,6,"maxBreadcrumbs"],[37,22,25,20],[37,26,25,24],[37,27,25,25],[37,29,25,27],[38,4,27,2],[38,8,27,8,"timestamp"],[38,17,27,17],[38,20,27,20],[38,24,27,20,"dateTimestampInSeconds"],[38,36,27,42],[38,37,27,42,"dateTimestampInSeconds"],[38,59,27,42],[38,61,27,43],[38,62,27,44],[39,4,28,2],[39,8,28,8,"mergedBreadcrumb"],[39,24,28,24],[39,27,28,27],[40,6,28,29,"timestamp"],[40,15,28,38],[41,6,28,40],[41,9,28,43,"breadcrumb"],[42,4,28,54],[42,5,28,55],[43,4,29,2],[43,8,29,8,"finalBreadcrumb"],[43,23,29,23],[43,26,29,26,"beforeBreadcrumb"],[43,42,29,42],[43,45,30,6],[43,49,30,6,"consoleSandbox"],[43,68,30,20],[43,69,30,20,"consoleSandbox"],[43,83,30,20],[43,85,30,21],[43,91,30,27,"beforeBreadcrumb"],[43,107,30,43],[43,108,30,44,"mergedBreadcrumb"],[43,124,30,60],[43,126,30,62,"hint"],[43,130,30,66],[43,131,30,67],[43,132,30,68],[43,135,31,6,"mergedBreadcrumb"],[43,151,31,22],[44,4,33,2],[44,8,33,6,"finalBreadcrumb"],[44,23,33,21],[44,28,33,26],[44,32,33,30],[44,34,33,32],[45,4,35,2],[45,8,35,6,"client"],[45,14,35,12],[45,15,35,13,"emit"],[45,19,35,17],[45,21,35,19],[46,6,36,4,"client"],[46,12,36,10],[46,13,36,11,"emit"],[46,17,36,15],[46,18,36,16],[46,39,36,37],[46,41,36,39,"finalBreadcrumb"],[46,56,36,54],[46,58,36,56,"hint"],[46,62,36,60],[46,63,36,61],[47,4,37,2],[48,4,39,2,"isolationScope"],[48,18,39,16],[48,19,39,17,"addBreadcrumb"],[48,32,39,30],[48,33,39,31,"finalBreadcrumb"],[48,48,39,46],[48,50,39,48,"maxBreadcrumbs"],[48,64,39,62],[48,65,39,63],[49,2,40,0],[50,0,40,1],[50,3]],"functionMap":{"names":["<global>","addBreadcrumb","consoleSandbox$argument_0"],"mappings":"AAA;ACgB;qBCa,8CD;CDU"},"hasCjsExports":false},"type":"js/module"}]}