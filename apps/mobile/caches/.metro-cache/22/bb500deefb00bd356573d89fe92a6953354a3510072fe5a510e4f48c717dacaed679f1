{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":47,"index":131}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"@/utils/dateCreditsHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":7,"column":36,"index":230}}],"key":"oRWBdvQUhGiyZ/vbJNT/hHj85Fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useDateCreditsActions = useDateCreditsActions;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[1], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _reactNativePurchases = require(_dependencyMap[2], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _utilsDateCreditsHelpers = require(_dependencyMap[3], \"@/utils/dateCreditsHelpers\");\n  function useDateCreditsActions({\n    userId,\n    setUserId,\n    jwt,\n    tier,\n    matchIdParam,\n    returnToParam,\n    router,\n    refresh,\n    credits,\n    setCredits,\n    maxCredits,\n    setMaxCredits,\n    balanceCents,\n    setBalanceCents,\n    isDevRuntime\n  }) {\n    const stockedUp = (0, _react.useMemo)(() => {\n      const c = Number(credits || 0);\n      const m = Number(maxCredits || 0);\n      if (!Number.isFinite(c) || !Number.isFinite(m)) return false;\n      if (m <= 0) return false;\n      return c >= m;\n    }, [credits, maxCredits]);\n    const goBack = (0, _react.useCallback)((opts = {}) => {\n      let next = returnToParam;\n      const purchaseStateRaw = opts?.purchaseState;\n      const purchaseState = purchaseStateRaw != null ? String(purchaseStateRaw).trim() : \"\";\n\n      // Add a nonce so the Messages screen can reliably refresh credits/matches\n      const refreshNonce = String(Date.now());\n      const appendParam = (url, key, value) => {\n        const joiner = url.includes(\"?\") ? \"&\" : \"?\";\n        return `${url}${joiner}${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      };\n      next = appendParam(next, \"creditsRefresh\", refreshNonce);\n      if (purchaseState) {\n        next = appendParam(next, \"purchaseState\", purchaseState);\n      }\n      if (matchIdParam) {\n        const isMessagesList = String(returnToParam || \"\").split(\"?\")[0] === \"/messages\";\n        if (isMessagesList) {\n          next = appendParam(next, \"matchId\", matchIdParam);\n        }\n      }\n      router.replace(next);\n    }, [matchIdParam, returnToParam, router]);\n\n    // NEW: link the RevenueCat app user id (often $RCAnonymousID:...) to our numeric user id.\n    // This makes the webhook able to credit the right wallet reliably.\n    const linkRevenueCatToUser = (0, _react.useCallback)(async uid => {\n      const idNum = Number(uid);\n      const hasJwt = jwt && typeof jwt === \"string\";\n      if (!Number.isFinite(idNum) && !hasJwt) return;\n      try {\n        const info = await Purchases.default.getCustomerInfo();\n        const candidates = [info?.appUserID, info?.appUserId, info?.originalAppUserId, info?.originalAppUserID].map(v => v != null ? String(v).trim() : \"\").filter(Boolean);\n\n        // De-dupe\n        const uniq = Array.from(new Set(candidates));\n        if (!uniq.length) return;\n        const headers = {\n          \"Content-Type\": \"application/json\"\n        };\n        if (hasJwt) {\n          headers.Authorization = `Bearer ${jwt}`;\n        }\n\n        // v2 API: can link multiple app user ids in one request.\n        await fetch(\"/api/revenuecat/link\", {\n          method: \"POST\",\n          headers,\n          body: JSON.stringify({\n            userId: Number.isFinite(idNum) ? idNum : undefined,\n            appUserIds: uniq\n          })\n        }).catch(() => null);\n      } catch (e) {\n        // Not fatal â€” purchases can still work; this just improves webhook mapping.\n        console.error(e);\n      }\n    }, [jwt]);\n    const devGrantOneCredit = (0, _react.useCallback)(async () => {\n      if (!isDevRuntime) {\n        Alert.default.alert(\"Not available\", \"This is only available in development.\");\n        return {\n          ok: false,\n          skipped: true\n        };\n      }\n      if (!userId) {\n        Alert.default.alert(\"Sign in\", \"Please sign in again.\");\n        return {\n          ok: false,\n          error: \"Missing userId\"\n        };\n      }\n      try {\n        const resp = await fetch(\"/api/dev/date-credits/grant\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            userId: Number(userId),\n            amountCents: 3000\n          })\n        });\n        if (!resp.ok) {\n          const text = await resp.text().catch(() => \"\");\n          throw new Error(`Dev grant failed: [${resp.status}] ${resp.statusText} ${text}`);\n        }\n        await refresh(userId);\n        return {\n          ok: true\n        };\n      } catch (e) {\n        console.error(e);\n        Alert.default.alert(\"Error\", \"Could not add a dev credit.\");\n        return {\n          ok: false,\n          error: e?.message || \"Dev grant failed\"\n        };\n      }\n    }, [isDevRuntime, refresh, userId]);\n    const claimCreditFromClient = (0, _react.useCallback)(async ({\n      transactionId,\n      productId\n    }) => {\n      // IMPORTANT:\n      // We require *some* auth token here so the backend can map the claim to a user.\n      // This can be either:\n      // - Web auth JWT (NextAuth) OR\n      // - OTP apiJwt (issued by /api/auth/otp/verify)\n      if (!jwt || typeof jwt !== \"string\") {\n        return {\n          ok: false,\n          skipped: true\n        };\n      }\n      const resp = await fetch(\"/api/date-credits/claim\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${jwt}`\n        },\n        body: JSON.stringify({\n          transactionId,\n          productId\n        })\n      });\n      const json = await resp.json().catch(() => null);\n      if (!resp.ok) {\n        throw new Error(json?.error || `Claim failed (${resp.status})`);\n      }\n\n      // If claim ensured a new legacy user id, adopt it.\n      const resolvedUserId = Number(json?.userId);\n      if (Number.isFinite(resolvedUserId)) {\n        setUserId(resolvedUserId);\n        const existing = (await (0, _utilsDateCreditsHelpers.safeReadUserFromStorage)()) || {};\n        await (0, _utilsDateCreditsHelpers.safeWriteUserToStorage)({\n          ...existing,\n          id: resolvedUserId\n        });\n      }\n\n      // NEW: apply returned wallet status immediately so the UI can unblock\n      // even if the next status poll is slow.\n      const nextCredits = Number(json?.credits);\n      const nextMaxCredits = Number(json?.maxCredits);\n      const nextBalance = Number(json?.balanceCents);\n      if (Number.isFinite(nextCredits)) setCredits(nextCredits);\n      if (Number.isFinite(nextMaxCredits)) setMaxCredits(nextMaxCredits);\n      if (Number.isFinite(nextBalance)) setBalanceCents(nextBalance);\n      return {\n        ok: true,\n        response: json\n      };\n    }, [jwt, setUserId, setCredits, setMaxCredits, setBalanceCents]);\n    return {\n      stockedUp,\n      goBack,\n      linkRevenueCatToUser,\n      devGrantOneCredit,\n      claimCreditFromClient\n    };\n  }\n});","lineCount":207,"map":[[12,2,9,0,"exports"],[12,9,9,0],[12,10,9,0,"useDateCreditsActions"],[12,31,9,0],[12,34,9,0,"useDateCreditsActions"],[12,55,9,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,1,45],[14,6,1,45,"_reactNativeWebDistExportsAlert"],[14,37,1,45],[14,40,1,45,"require"],[14,47,1,45],[14,48,1,45,"_dependencyMap"],[14,62,1,45],[15,2,1,45],[15,6,1,45,"Alert"],[15,11,1,45],[15,14,1,45,"_interopDefault"],[15,29,1,45],[15,30,1,45,"_reactNativeWebDistExportsAlert"],[15,61,1,45],[16,2,3,0],[16,6,3,0,"_reactNativePurchases"],[16,27,3,0],[16,30,3,0,"require"],[16,37,3,0],[16,38,3,0,"_dependencyMap"],[16,52,3,0],[17,2,3,0],[17,6,3,0,"Purchases"],[17,15,3,0],[17,18,3,0,"_interopDefault"],[17,33,3,0],[17,34,3,0,"_reactNativePurchases"],[17,55,3,0],[18,2,4,0],[18,6,4,0,"_utilsDateCreditsHelpers"],[18,30,4,0],[18,33,4,0,"require"],[18,40,4,0],[18,41,4,0,"_dependencyMap"],[18,55,4,0],[19,2,9,7],[19,11,9,16,"useDateCreditsActions"],[19,32,9,37,"useDateCreditsActions"],[19,33,9,38],[20,4,10,2,"userId"],[20,10,10,8],[21,4,11,2,"setUserId"],[21,13,11,11],[22,4,12,2,"jwt"],[22,7,12,5],[23,4,13,2,"tier"],[23,8,13,6],[24,4,14,2,"matchIdParam"],[24,16,14,14],[25,4,15,2,"returnToParam"],[25,17,15,15],[26,4,16,2,"router"],[26,10,16,8],[27,4,17,2,"refresh"],[27,11,17,9],[28,4,18,2,"credits"],[28,11,18,9],[29,4,19,2,"setCredits"],[29,14,19,12],[30,4,20,2,"maxCredits"],[30,14,20,12],[31,4,21,2,"setMaxCredits"],[31,17,21,15],[32,4,22,2,"balanceCents"],[32,16,22,14],[33,4,23,2,"setBalanceCents"],[33,19,23,17],[34,4,24,2,"isDevRuntime"],[35,2,25,0],[35,3,25,1],[35,5,25,3],[36,4,26,2],[36,10,26,8,"stockedUp"],[36,19,26,17],[36,22,26,20],[36,26,26,20,"useMemo"],[36,32,26,27],[36,33,26,27,"useMemo"],[36,40,26,27],[36,42,26,28],[36,48,26,34],[37,6,27,4],[37,12,27,10,"c"],[37,13,27,11],[37,16,27,14,"Number"],[37,22,27,20],[37,23,27,21,"credits"],[37,30,27,28],[37,34,27,32],[37,35,27,33],[37,36,27,34],[38,6,28,4],[38,12,28,10,"m"],[38,13,28,11],[38,16,28,14,"Number"],[38,22,28,20],[38,23,28,21,"maxCredits"],[38,33,28,31],[38,37,28,35],[38,38,28,36],[38,39,28,37],[39,6,29,4],[39,10,29,8],[39,11,29,9,"Number"],[39,17,29,15],[39,18,29,16,"isFinite"],[39,26,29,24],[39,27,29,25,"c"],[39,28,29,26],[39,29,29,27],[39,33,29,31],[39,34,29,32,"Number"],[39,40,29,38],[39,41,29,39,"isFinite"],[39,49,29,47],[39,50,29,48,"m"],[39,51,29,49],[39,52,29,50],[39,54,29,52],[39,61,29,59],[39,66,29,64],[40,6,30,4],[40,10,30,8,"m"],[40,11,30,9],[40,15,30,13],[40,16,30,14],[40,18,30,16],[40,25,30,23],[40,30,30,28],[41,6,31,4],[41,13,31,11,"c"],[41,14,31,12],[41,18,31,16,"m"],[41,19,31,17],[42,4,32,2],[42,5,32,3],[42,7,32,5],[42,8,32,6,"credits"],[42,15,32,13],[42,17,32,15,"maxCredits"],[42,27,32,25],[42,28,32,26],[42,29,32,27],[43,4,34,2],[43,10,34,8,"goBack"],[43,16,34,14],[43,19,34,17],[43,23,34,17,"useCallback"],[43,29,34,28],[43,30,34,28,"useCallback"],[43,41,34,28],[43,43,35,4],[43,44,35,5,"opts"],[43,48,35,9],[43,51,35,12],[43,52,35,13],[43,53,35,14],[43,58,35,19],[44,6,36,6],[44,10,36,10,"next"],[44,14,36,14],[44,17,36,17,"returnToParam"],[44,30,36,30],[45,6,38,6],[45,12,38,12,"purchaseStateRaw"],[45,28,38,28],[45,31,38,31,"opts"],[45,35,38,35],[45,37,38,37,"purchaseState"],[45,50,38,50],[46,6,39,6],[46,12,39,12,"purchaseState"],[46,25,39,25],[46,28,40,8,"purchaseStateRaw"],[46,44,40,24],[46,48,40,28],[46,52,40,32],[46,55,40,35,"String"],[46,61,40,41],[46,62,40,42,"purchaseStateRaw"],[46,78,40,58],[46,79,40,59],[46,80,40,60,"trim"],[46,84,40,64],[46,85,40,65],[46,86,40,66],[46,89,40,69],[46,91,40,71],[48,6,42,6],[49,6,43,6],[49,12,43,12,"refreshNonce"],[49,24,43,24],[49,27,43,27,"String"],[49,33,43,33],[49,34,43,34,"Date"],[49,38,43,38],[49,39,43,39,"now"],[49,42,43,42],[49,43,43,43],[49,44,43,44],[49,45,43,45],[50,6,45,6],[50,12,45,12,"appendParam"],[50,23,45,23],[50,26,45,26,"appendParam"],[50,27,45,27,"url"],[50,30,45,30],[50,32,45,32,"key"],[50,35,45,35],[50,37,45,37,"value"],[50,42,45,42],[50,47,45,47],[51,8,46,8],[51,14,46,14,"joiner"],[51,20,46,20],[51,23,46,23,"url"],[51,26,46,26],[51,27,46,27,"includes"],[51,35,46,35],[51,36,46,36],[51,39,46,39],[51,40,46,40],[51,43,46,43],[51,46,46,46],[51,49,46,49],[51,52,46,52],[52,8,47,8],[52,15,47,15],[52,18,47,18,"url"],[52,21,47,21],[52,24,47,24,"joiner"],[52,30,47,30],[52,33,47,33,"encodeURIComponent"],[52,51,47,51],[52,52,47,52,"key"],[52,55,47,55],[52,56,47,56],[52,60,47,60,"encodeURIComponent"],[52,78,47,78],[52,79,47,79,"value"],[52,84,47,84],[52,85,47,85],[52,87,47,87],[53,6,48,6],[53,7,48,7],[54,6,50,6,"next"],[54,10,50,10],[54,13,50,13,"appendParam"],[54,24,50,24],[54,25,50,25,"next"],[54,29,50,29],[54,31,50,31],[54,47,50,47],[54,49,50,49,"refreshNonce"],[54,61,50,61],[54,62,50,62],[55,6,52,6],[55,10,52,10,"purchaseState"],[55,23,52,23],[55,25,52,25],[56,8,53,8,"next"],[56,12,53,12],[56,15,53,15,"appendParam"],[56,26,53,26],[56,27,53,27,"next"],[56,31,53,31],[56,33,53,33],[56,48,53,48],[56,50,53,50,"purchaseState"],[56,63,53,63],[56,64,53,64],[57,6,54,6],[58,6,56,6],[58,10,56,10,"matchIdParam"],[58,22,56,22],[58,24,56,24],[59,8,57,8],[59,14,57,14,"isMessagesList"],[59,28,57,28],[59,31,58,10,"String"],[59,37,58,16],[59,38,58,17,"returnToParam"],[59,51,58,30],[59,55,58,34],[59,57,58,36],[59,58,58,37],[59,59,58,38,"split"],[59,64,58,43],[59,65,58,44],[59,68,58,47],[59,69,58,48],[59,70,58,49],[59,71,58,50],[59,72,58,51],[59,77,58,56],[59,88,58,67],[60,8,59,8],[60,12,59,12,"isMessagesList"],[60,26,59,26],[60,28,59,28],[61,10,60,10,"next"],[61,14,60,14],[61,17,60,17,"appendParam"],[61,28,60,28],[61,29,60,29,"next"],[61,33,60,33],[61,35,60,35],[61,44,60,44],[61,46,60,46,"matchIdParam"],[61,58,60,58],[61,59,60,59],[62,8,61,8],[63,6,62,6],[64,6,64,6,"router"],[64,12,64,12],[64,13,64,13,"replace"],[64,20,64,20],[64,21,64,21,"next"],[64,25,64,25],[64,26,64,26],[65,4,65,4],[65,5,65,5],[65,7,66,4],[65,8,66,5,"matchIdParam"],[65,20,66,17],[65,22,66,19,"returnToParam"],[65,35,66,32],[65,37,66,34,"router"],[65,43,66,40],[65,44,67,2],[65,45,67,3],[67,4,69,2],[68,4,70,2],[69,4,71,2],[69,10,71,8,"linkRevenueCatToUser"],[69,30,71,28],[69,33,71,31],[69,37,71,31,"useCallback"],[69,43,71,42],[69,44,71,42,"useCallback"],[69,55,71,42],[69,57,72,4],[69,63,72,11,"uid"],[69,66,72,14],[69,70,72,19],[70,6,73,6],[70,12,73,12,"idNum"],[70,17,73,17],[70,20,73,20,"Number"],[70,26,73,26],[70,27,73,27,"uid"],[70,30,73,30],[70,31,73,31],[71,6,74,6],[71,12,74,12,"hasJwt"],[71,18,74,18],[71,21,74,21,"jwt"],[71,24,74,24],[71,28,74,28],[71,35,74,35,"jwt"],[71,38,74,38],[71,43,74,43],[71,51,74,51],[72,6,75,6],[72,10,75,10],[72,11,75,11,"Number"],[72,17,75,17],[72,18,75,18,"isFinite"],[72,26,75,26],[72,27,75,27,"idNum"],[72,32,75,32],[72,33,75,33],[72,37,75,37],[72,38,75,38,"hasJwt"],[72,44,75,44],[72,46,75,46],[73,6,77,6],[73,10,77,10],[74,8,78,8],[74,14,78,14,"info"],[74,18,78,18],[74,21,78,21],[74,27,78,27,"Purchases"],[74,36,78,36],[74,37,78,36,"default"],[74,44,78,36],[74,45,78,37,"getCustomerInfo"],[74,60,78,52],[74,61,78,53],[74,62,78,54],[75,8,79,8],[75,14,79,14,"candidates"],[75,24,79,24],[75,27,79,27],[75,28,80,10,"info"],[75,32,80,14],[75,34,80,16,"appUserID"],[75,43,80,25],[75,45,81,10,"info"],[75,49,81,14],[75,51,81,16,"appUserId"],[75,60,81,25],[75,62,82,10,"info"],[75,66,82,14],[75,68,82,16,"originalAppUserId"],[75,85,82,33],[75,87,83,10,"info"],[75,91,83,14],[75,93,83,16,"originalAppUserID"],[75,110,83,33],[75,111,84,9],[75,112,85,11,"map"],[75,115,85,14],[75,116,85,16,"v"],[75,117,85,17],[75,121,85,23,"v"],[75,122,85,24],[75,126,85,28],[75,130,85,32],[75,133,85,35,"String"],[75,139,85,41],[75,140,85,42,"v"],[75,141,85,43],[75,142,85,44],[75,143,85,45,"trim"],[75,147,85,49],[75,148,85,50],[75,149,85,51],[75,152,85,54],[75,154,85,57],[75,155,85,58],[75,156,86,11,"filter"],[75,162,86,17],[75,163,86,18,"Boolean"],[75,170,86,25],[75,171,86,26],[77,8,88,8],[78,8,89,8],[78,14,89,14,"uniq"],[78,18,89,18],[78,21,89,21,"Array"],[78,26,89,26],[78,27,89,27,"from"],[78,31,89,31],[78,32,89,32],[78,36,89,36,"Set"],[78,39,89,39],[78,40,89,40,"candidates"],[78,50,89,50],[78,51,89,51],[78,52,89,52],[79,8,90,8],[79,12,90,12],[79,13,90,13,"uniq"],[79,17,90,17],[79,18,90,18,"length"],[79,24,90,24],[79,26,90,26],[80,8,92,8],[80,14,92,14,"headers"],[80,21,92,21],[80,24,92,24],[81,10,92,26],[81,24,92,40],[81,26,92,42],[82,8,92,61],[82,9,92,62],[83,8,93,8],[83,12,93,12,"hasJwt"],[83,18,93,18],[83,20,93,20],[84,10,94,10,"headers"],[84,17,94,17],[84,18,94,18,"Authorization"],[84,31,94,31],[84,34,94,34],[84,44,94,44,"jwt"],[84,47,94,47],[84,49,94,49],[85,8,95,8],[87,8,97,8],[88,8,98,8],[88,14,98,14,"fetch"],[88,19,98,19],[88,20,98,20],[88,42,98,42],[88,44,98,44],[89,10,99,10,"method"],[89,16,99,16],[89,18,99,18],[89,24,99,24],[90,10,100,10,"headers"],[90,17,100,17],[91,10,101,10,"body"],[91,14,101,14],[91,16,101,16,"JSON"],[91,20,101,20],[91,21,101,21,"stringify"],[91,30,101,30],[91,31,101,31],[92,12,102,12,"userId"],[92,18,102,18],[92,20,102,20,"Number"],[92,26,102,26],[92,27,102,27,"isFinite"],[92,35,102,35],[92,36,102,36,"idNum"],[92,41,102,41],[92,42,102,42],[92,45,102,45,"idNum"],[92,50,102,50],[92,53,102,53,"undefined"],[92,62,102,62],[93,12,103,12,"appUserIds"],[93,22,103,22],[93,24,103,24,"uniq"],[94,10,104,10],[94,11,104,11],[95,8,105,8],[95,9,105,9],[95,10,105,10],[95,11,105,11,"catch"],[95,16,105,16],[95,17,105,17],[95,23,105,23],[95,27,105,27],[95,28,105,28],[96,6,106,6],[96,7,106,7],[96,8,106,8],[96,15,106,15,"e"],[96,16,106,16],[96,18,106,18],[97,8,107,8],[98,8,108,8,"console"],[98,15,108,15],[98,16,108,16,"error"],[98,21,108,21],[98,22,108,22,"e"],[98,23,108,23],[98,24,108,24],[99,6,109,6],[100,4,110,4],[100,5,110,5],[100,7,111,4],[100,8,111,5,"jwt"],[100,11,111,8],[100,12,112,2],[100,13,112,3],[101,4,114,2],[101,10,114,8,"devGrantOneCredit"],[101,27,114,25],[101,30,114,28],[101,34,114,28,"useCallback"],[101,40,114,39],[101,41,114,39,"useCallback"],[101,52,114,39],[101,54,114,40],[101,66,114,52],[102,6,115,4],[102,10,115,8],[102,11,115,9,"isDevRuntime"],[102,23,115,21],[102,25,115,23],[103,8,116,6,"Alert"],[103,13,116,11],[103,14,116,11,"default"],[103,21,116,11],[103,22,116,12,"alert"],[103,27,116,17],[103,28,116,18],[103,43,116,33],[103,45,116,35],[103,85,116,75],[103,86,116,76],[104,8,117,6],[104,15,117,13],[105,10,117,15,"ok"],[105,12,117,17],[105,14,117,19],[105,19,117,24],[106,10,117,26,"skipped"],[106,17,117,33],[106,19,117,35],[107,8,117,40],[107,9,117,41],[108,6,118,4],[109,6,120,4],[109,10,120,8],[109,11,120,9,"userId"],[109,17,120,15],[109,19,120,17],[110,8,121,6,"Alert"],[110,13,121,11],[110,14,121,11,"default"],[110,21,121,11],[110,22,121,12,"alert"],[110,27,121,17],[110,28,121,18],[110,37,121,27],[110,39,121,29],[110,62,121,52],[110,63,121,53],[111,8,122,6],[111,15,122,13],[112,10,122,15,"ok"],[112,12,122,17],[112,14,122,19],[112,19,122,24],[113,10,122,26,"error"],[113,15,122,31],[113,17,122,33],[114,8,122,50],[114,9,122,51],[115,6,123,4],[116,6,125,4],[116,10,125,8],[117,8,126,6],[117,14,126,12,"resp"],[117,18,126,16],[117,21,126,19],[117,27,126,25,"fetch"],[117,32,126,30],[117,33,126,31],[117,62,126,60],[117,64,126,62],[118,10,127,8,"method"],[118,16,127,14],[118,18,127,16],[118,24,127,22],[119,10,128,8,"headers"],[119,17,128,15],[119,19,128,17],[120,12,128,19],[120,26,128,33],[120,28,128,35],[121,10,128,54],[121,11,128,55],[122,10,129,8,"body"],[122,14,129,12],[122,16,129,14,"JSON"],[122,20,129,18],[122,21,129,19,"stringify"],[122,30,129,28],[122,31,129,29],[123,12,129,31,"userId"],[123,18,129,37],[123,20,129,39,"Number"],[123,26,129,45],[123,27,129,46,"userId"],[123,33,129,52],[123,34,129,53],[124,12,129,55,"amountCents"],[124,23,129,66],[124,25,129,68],[125,10,129,73],[125,11,129,74],[126,8,130,6],[126,9,130,7],[126,10,130,8],[127,8,132,6],[127,12,132,10],[127,13,132,11,"resp"],[127,17,132,15],[127,18,132,16,"ok"],[127,20,132,18],[127,22,132,20],[128,10,133,8],[128,16,133,14,"text"],[128,20,133,18],[128,23,133,21],[128,29,133,27,"resp"],[128,33,133,31],[128,34,133,32,"text"],[128,38,133,36],[128,39,133,37],[128,40,133,38],[128,41,133,39,"catch"],[128,46,133,44],[128,47,133,45],[128,53,133,51],[128,55,133,53],[128,56,133,54],[129,10,134,8],[129,16,134,14],[129,20,134,18,"Error"],[129,25,134,23],[129,26,135,10],[129,48,135,32,"resp"],[129,52,135,36],[129,53,135,37,"status"],[129,59,135,43],[129,64,135,48,"resp"],[129,68,135,52],[129,69,135,53,"statusText"],[129,79,135,63],[129,83,135,67,"text"],[129,87,135,71],[129,89,136,8],[129,90,136,9],[130,8,137,6],[131,8,139,6],[131,14,139,12,"refresh"],[131,21,139,19],[131,22,139,20,"userId"],[131,28,139,26],[131,29,139,27],[132,8,140,6],[132,15,140,13],[133,10,140,15,"ok"],[133,12,140,17],[133,14,140,19],[134,8,140,24],[134,9,140,25],[135,6,141,4],[135,7,141,5],[135,8,141,6],[135,15,141,13,"e"],[135,16,141,14],[135,18,141,16],[136,8,142,6,"console"],[136,15,142,13],[136,16,142,14,"error"],[136,21,142,19],[136,22,142,20,"e"],[136,23,142,21],[136,24,142,22],[137,8,143,6,"Alert"],[137,13,143,11],[137,14,143,11,"default"],[137,21,143,11],[137,22,143,12,"alert"],[137,27,143,17],[137,28,143,18],[137,35,143,25],[137,37,143,27],[137,66,143,56],[137,67,143,57],[138,8,144,6],[138,15,144,13],[139,10,144,15,"ok"],[139,12,144,17],[139,14,144,19],[139,19,144,24],[140,10,144,26,"error"],[140,15,144,31],[140,17,144,33,"e"],[140,18,144,34],[140,20,144,36,"message"],[140,27,144,43],[140,31,144,47],[141,8,144,66],[141,9,144,67],[142,6,145,4],[143,4,146,2],[143,5,146,3],[143,7,146,5],[143,8,146,6,"isDevRuntime"],[143,20,146,18],[143,22,146,20,"refresh"],[143,29,146,27],[143,31,146,29,"userId"],[143,37,146,35],[143,38,146,36],[143,39,146,37],[144,4,148,2],[144,10,148,8,"claimCreditFromClient"],[144,31,148,29],[144,34,148,32],[144,38,148,32,"useCallback"],[144,44,148,43],[144,45,148,43,"useCallback"],[144,56,148,43],[144,58,149,4],[144,65,149,11],[145,6,149,13,"transactionId"],[145,19,149,26],[146,6,149,28,"productId"],[147,4,149,38],[147,5,149,39],[147,10,149,44],[148,6,150,6],[149,6,151,6],[150,6,152,6],[151,6,153,6],[152,6,154,6],[153,6,155,6],[153,10,155,10],[153,11,155,11,"jwt"],[153,14,155,14],[153,18,155,18],[153,25,155,25,"jwt"],[153,28,155,28],[153,33,155,33],[153,41,155,41],[153,43,155,43],[154,8,156,8],[154,15,156,15],[155,10,156,17,"ok"],[155,12,156,19],[155,14,156,21],[155,19,156,26],[156,10,156,28,"skipped"],[156,17,156,35],[156,19,156,37],[157,8,156,42],[157,9,156,43],[158,6,157,6],[159,6,159,6],[159,12,159,12,"resp"],[159,16,159,16],[159,19,159,19],[159,25,159,25,"fetch"],[159,30,159,30],[159,31,159,31],[159,56,159,56],[159,58,159,58],[160,8,160,8,"method"],[160,14,160,14],[160,16,160,16],[160,22,160,22],[161,8,161,8,"headers"],[161,15,161,15],[161,17,161,17],[162,10,162,10],[162,24,162,24],[162,26,162,26],[162,44,162,44],[163,10,163,10,"Authorization"],[163,23,163,23],[163,25,163,25],[163,35,163,35,"jwt"],[163,38,163,38],[164,8,164,8],[164,9,164,9],[165,8,165,8,"body"],[165,12,165,12],[165,14,165,14,"JSON"],[165,18,165,18],[165,19,165,19,"stringify"],[165,28,165,28],[165,29,165,29],[166,10,165,31,"transactionId"],[166,23,165,44],[167,10,165,46,"productId"],[168,8,165,56],[168,9,165,57],[169,6,166,6],[169,7,166,7],[169,8,166,8],[170,6,168,6],[170,12,168,12,"json"],[170,16,168,16],[170,19,168,19],[170,25,168,25,"resp"],[170,29,168,29],[170,30,168,30,"json"],[170,34,168,34],[170,35,168,35],[170,36,168,36],[170,37,168,37,"catch"],[170,42,168,42],[170,43,168,43],[170,49,168,49],[170,53,168,53],[170,54,168,54],[171,6,169,6],[171,10,169,10],[171,11,169,11,"resp"],[171,15,169,15],[171,16,169,16,"ok"],[171,18,169,18],[171,20,169,20],[172,8,170,8],[172,14,170,14],[172,18,170,18,"Error"],[172,23,170,23],[172,24,170,24,"json"],[172,28,170,28],[172,30,170,30,"error"],[172,35,170,35],[172,39,170,39],[172,56,170,56,"resp"],[172,60,170,60],[172,61,170,61,"status"],[172,67,170,67],[172,70,170,70],[172,71,170,71],[173,6,171,6],[175,6,173,6],[176,6,174,6],[176,12,174,12,"resolvedUserId"],[176,26,174,26],[176,29,174,29,"Number"],[176,35,174,35],[176,36,174,36,"json"],[176,40,174,40],[176,42,174,42,"userId"],[176,48,174,48],[176,49,174,49],[177,6,175,6],[177,10,175,10,"Number"],[177,16,175,16],[177,17,175,17,"isFinite"],[177,25,175,25],[177,26,175,26,"resolvedUserId"],[177,40,175,40],[177,41,175,41],[177,43,175,43],[178,8,176,8,"setUserId"],[178,17,176,17],[178,18,176,18,"resolvedUserId"],[178,32,176,32],[178,33,176,33],[179,8,177,8],[179,14,177,14,"existing"],[179,22,177,22],[179,25,177,25],[179,26,177,26],[179,32,177,32],[179,36,177,32,"safeReadUserFromStorage"],[179,60,177,55],[179,61,177,55,"safeReadUserFromStorage"],[179,84,177,55],[179,86,177,56],[179,87,177,57],[179,92,177,62],[179,93,177,63],[179,94,177,64],[180,8,178,8],[180,14,178,14],[180,18,178,14,"safeWriteUserToStorage"],[180,42,178,36],[180,43,178,36,"safeWriteUserToStorage"],[180,65,178,36],[180,67,178,37],[181,10,178,39],[181,13,178,42,"existing"],[181,21,178,50],[182,10,178,52,"id"],[182,12,178,54],[182,14,178,56,"resolvedUserId"],[183,8,178,71],[183,9,178,72],[183,10,178,73],[184,6,179,6],[186,6,181,6],[187,6,182,6],[188,6,183,6],[188,12,183,12,"nextCredits"],[188,23,183,23],[188,26,183,26,"Number"],[188,32,183,32],[188,33,183,33,"json"],[188,37,183,37],[188,39,183,39,"credits"],[188,46,183,46],[188,47,183,47],[189,6,184,6],[189,12,184,12,"nextMaxCredits"],[189,26,184,26],[189,29,184,29,"Number"],[189,35,184,35],[189,36,184,36,"json"],[189,40,184,40],[189,42,184,42,"maxCredits"],[189,52,184,52],[189,53,184,53],[190,6,185,6],[190,12,185,12,"nextBalance"],[190,23,185,23],[190,26,185,26,"Number"],[190,32,185,32],[190,33,185,33,"json"],[190,37,185,37],[190,39,185,39,"balanceCents"],[190,51,185,51],[190,52,185,52],[191,6,186,6],[191,10,186,10,"Number"],[191,16,186,16],[191,17,186,17,"isFinite"],[191,25,186,25],[191,26,186,26,"nextCredits"],[191,37,186,37],[191,38,186,38],[191,40,186,40,"setCredits"],[191,50,186,50],[191,51,186,51,"nextCredits"],[191,62,186,62],[191,63,186,63],[192,6,187,6],[192,10,187,10,"Number"],[192,16,187,16],[192,17,187,17,"isFinite"],[192,25,187,25],[192,26,187,26,"nextMaxCredits"],[192,40,187,40],[192,41,187,41],[192,43,187,43,"setMaxCredits"],[192,56,187,56],[192,57,187,57,"nextMaxCredits"],[192,71,187,71],[192,72,187,72],[193,6,188,6],[193,10,188,10,"Number"],[193,16,188,16],[193,17,188,17,"isFinite"],[193,25,188,25],[193,26,188,26,"nextBalance"],[193,37,188,37],[193,38,188,38],[193,40,188,40,"setBalanceCents"],[193,55,188,55],[193,56,188,56,"nextBalance"],[193,67,188,67],[193,68,188,68],[194,6,190,6],[194,13,190,13],[195,8,190,15,"ok"],[195,10,190,17],[195,12,190,19],[195,16,190,23],[196,8,190,25,"response"],[196,16,190,33],[196,18,190,35,"json"],[197,6,190,40],[197,7,190,41],[198,4,191,4],[198,5,191,5],[198,7,192,4],[198,8,192,5,"jwt"],[198,11,192,8],[198,13,192,10,"setUserId"],[198,22,192,19],[198,24,192,21,"setCredits"],[198,34,192,31],[198,36,192,33,"setMaxCredits"],[198,49,192,46],[198,51,192,48,"setBalanceCents"],[198,66,192,63],[198,67,193,2],[198,68,193,3],[199,4,195,2],[199,11,195,9],[200,6,196,4,"stockedUp"],[200,15,196,13],[201,6,197,4,"goBack"],[201,12,197,10],[202,6,198,4,"linkRevenueCatToUser"],[202,26,198,24],[203,6,199,4,"devGrantOneCredit"],[203,23,199,21],[204,6,200,4,"claimCreditFromClient"],[205,4,201,2],[205,5,201,3],[206,2,202,0],[207,0,202,1],[207,3]],"functionMap":{"names":["<global>","useDateCreditsActions","useMemo$argument_0","goBack","appendParam","linkRevenueCatToUser","map$argument_0","fetch._catch$argument_0","devGrantOneCredit","resp.text._catch$argument_0","claimCreditFromClient","resp.json._catch$argument_0"],"mappings":"AAA;OCQ;4BCiB;GDM;IEG;0BCU;ODG;KFiB;IIO;eCa,0CD;iBEoB,UF;KJK;wCOI;6CCmB,QD;GPa;ISG;2CCmB,UD;KTuB;CDW"},"hasCjsExports":false},"type":"js/module"}]}