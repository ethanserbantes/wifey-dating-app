{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":166,"index":166}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../../../debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":167},"end":{"line":2,"column":54,"index":221}}],"key":"ICtV6jFYCSAzqvGpRIHaV/Jobv0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"unleashIntegration\", {\n    enumerable: true,\n    get: function () {\n      return unleashIntegration;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _debugBuildJs = require(_dependencyMap[1], \"../../../debug-build.js\");\n  /**\n   * Sentry integration for capturing feature flag evaluations from the Unleash SDK.\n   *\n   * See the [feature flag documentation](https://develop.sentry.dev/sdk/expected-features/#feature-flags) for more information.\n   *\n   * @example\n   * ```\n   * import { UnleashClient } from 'unleash-proxy-client';\n   * import * as Sentry from '@sentry/browser';\n   *\n   * Sentry.init({\n   *   dsn: '___PUBLIC_DSN___',\n   *   integrations: [Sentry.unleashIntegration({featureFlagClientClass: UnleashClient})],\n   * });\n   *\n   * const unleash = new UnleashClient(...);\n   * unleash.start();\n   *\n   * unleash.isEnabled('my-feature');\n   * Sentry.captureException(new Error('something went wrong'));\n   * ```\n   */\n  var unleashIntegration = (0, _sentryCore.defineIntegration)(_ref => {\n    var unleashClientClass = _ref.featureFlagClientClass;\n    return {\n      name: 'Unleash',\n      setupOnce() {\n        var unleashClientPrototype = unleashClientClass.prototype;\n        (0, _sentryCore.fill)(unleashClientPrototype, 'isEnabled', _wrappedIsEnabled);\n      },\n      processEvent(event, _hint, _client) {\n        return (0, _sentryCore._INTERNAL_copyFlagsFromScopeToEvent)(event);\n      }\n    };\n  });\n\n  /**\n   * Wraps the UnleashClient.isEnabled method to capture feature flag evaluations. Its only side effect is writing to Sentry scope.\n   *\n   * This wrapper is safe for all isEnabled signatures. If the signature does not match (this: UnleashClient, toggleName: string, ...args: unknown[]) => boolean,\n   * we log an error and return the original result.\n   *\n   * @param original - The original method.\n   * @returns Wrapped method. Results should match the original.\n   */\n  function _wrappedIsEnabled(original) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var toggleName = args[0];\n      var result = original.apply(this, args);\n      if (typeof toggleName === 'string' && typeof result === 'boolean') {\n        (0, _sentryCore._INTERNAL_insertFlagToScope)(toggleName, result);\n        (0, _sentryCore._INTERNAL_addFeatureFlagToActiveSpan)(toggleName, result);\n      } else if (_debugBuildJs.DEBUG_BUILD) {\n        _sentryCore.debug.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${toggleName} (${typeof toggleName}), result: ${result} (${typeof result})`);\n      }\n      return result;\n    };\n  }\n});","lineCount":76,"map":[[7,2,71,0,"Object"],[7,8,71,0],[7,9,71,0,"defineProperty"],[7,23,71,0],[7,24,71,0,"exports"],[7,31,71,0],[8,4,71,0,"enumerable"],[8,14,71,0],[9,4,71,0,"get"],[9,7,71,0],[9,18,71,0,"get"],[9,19,71,0],[10,6,71,0],[10,13,71,9,"unleashIntegration"],[10,31,71,27],[11,4,71,27],[12,2,71,27],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_debugBuildJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,0,19,0],[31,0,20,0],[32,0,21,0],[33,0,22,0],[34,0,23,0],[35,0,24,0],[36,0,25,0],[37,2,26,0],[37,6,26,6,"unleashIntegration"],[37,24,26,24],[37,27,26,27],[37,31,26,27,"defineIntegration"],[37,42,26,44],[37,43,26,44,"defineIntegration"],[37,60,26,44],[37,62,27,2,"_ref"],[37,66,27,2],[37,70,27,54],[38,4,27,54],[38,8,27,29,"unleashClientClass"],[38,26,27,47],[38,29,27,47,"_ref"],[38,33,27,47],[38,34,27,5,"featureFlagClientClass"],[38,56,27,27],[39,4,28,4],[39,11,28,11],[40,6,29,6,"name"],[40,10,29,10],[40,12,29,12],[40,21,29,21],[41,6,31,6,"setupOnce"],[41,15,31,15,"setupOnce"],[41,16,31,15],[41,18,31,18],[42,8,32,8],[42,12,32,14,"unleashClientPrototype"],[42,34,32,36],[42,37,32,39,"unleashClientClass"],[42,55,32,57],[42,56,32,58,"prototype"],[42,65,32,67],[43,8,33,8],[43,12,33,8,"fill"],[43,23,33,12],[43,24,33,12,"fill"],[43,28,33,12],[43,30,33,13,"unleashClientPrototype"],[43,52,33,35],[43,54,33,37],[43,65,33,48],[43,67,33,50,"_wrappedIsEnabled"],[43,84,33,67],[43,85,33,68],[44,6,34,6],[44,7,34,7],[45,6,36,6,"processEvent"],[45,18,36,18,"processEvent"],[45,19,36,19,"event"],[45,24,36,24],[45,26,36,26,"_hint"],[45,31,36,31],[45,33,36,33,"_client"],[45,40,36,40],[45,42,36,42],[46,8,37,8],[46,15,37,15],[46,19,37,15,"_INTERNAL_copyFlagsFromScopeToEvent"],[46,30,37,50],[46,31,37,50,"_INTERNAL_copyFlagsFromScopeToEvent"],[46,66,37,50],[46,68,37,51,"event"],[46,73,37,56],[46,74,37,57],[47,6,38,6],[48,4,39,4],[48,5,39,5],[49,2,40,2],[49,3,41,0],[49,4,41,1],[51,2,43,0],[52,0,44,0],[53,0,45,0],[54,0,46,0],[55,0,47,0],[56,0,48,0],[57,0,49,0],[58,0,50,0],[59,0,51,0],[60,2,52,0],[60,11,52,9,"_wrappedIsEnabled"],[60,28,52,26,"_wrappedIsEnabled"],[60,29,53,2,"original"],[60,37,53,10],[60,39,54,2],[61,4,55,2],[61,11,55,9],[61,23,55,29],[62,6,55,29],[62,15,55,29,"_len"],[62,19,55,29],[62,22,55,29,"arguments"],[62,31,55,29],[62,32,55,29,"length"],[62,38,55,29],[62,40,55,23,"args"],[62,44,55,27],[62,51,55,27,"Array"],[62,56,55,27],[62,57,55,27,"_len"],[62,61,55,27],[62,64,55,27,"_key"],[62,68,55,27],[62,74,55,27,"_key"],[62,78,55,27],[62,81,55,27,"_len"],[62,85,55,27],[62,87,55,27,"_key"],[62,91,55,27],[63,8,55,23,"args"],[63,12,55,27],[63,13,55,27,"_key"],[63,17,55,27],[63,21,55,27,"arguments"],[63,30,55,27],[63,31,55,27,"_key"],[63,35,55,27],[64,6,55,27],[65,6,56,4],[65,10,56,10,"toggleName"],[65,20,56,20],[65,23,56,23,"args"],[65,27,56,27],[65,28,56,28],[65,29,56,29],[65,30,56,30],[66,6,57,4],[66,10,57,10,"result"],[66,16,57,16],[66,19,57,19,"original"],[66,27,57,27],[66,28,57,28,"apply"],[66,33,57,33],[66,34,57,34],[66,38,57,38],[66,40,57,40,"args"],[66,44,57,44],[66,45,57,45],[67,6,59,4],[67,10,59,8],[67,17,59,15,"toggleName"],[67,27,59,25],[67,32,59,30],[67,40,59,38],[67,44,59,42],[67,51,59,49,"result"],[67,57,59,55],[67,62,59,60],[67,71,59,69],[67,73,59,71],[68,8,60,6],[68,12,60,6,"_INTERNAL_insertFlagToScope"],[68,23,60,33],[68,24,60,33,"_INTERNAL_insertFlagToScope"],[68,51,60,33],[68,53,60,34,"toggleName"],[68,63,60,44],[68,65,60,46,"result"],[68,71,60,52],[68,72,60,53],[69,8,61,6],[69,12,61,6,"_INTERNAL_addFeatureFlagToActiveSpan"],[69,23,61,42],[69,24,61,42,"_INTERNAL_addFeatureFlagToActiveSpan"],[69,60,61,42],[69,62,61,43,"toggleName"],[69,72,61,53],[69,74,61,55,"result"],[69,80,61,61],[69,81,61,62],[70,6,62,4],[70,7,62,5],[70,13,62,11],[70,17,62,15,"DEBUG_BUILD"],[70,30,62,26],[70,31,62,26,"DEBUG_BUILD"],[70,42,62,26],[70,44,62,28],[71,8,63,6,"debug"],[71,19,63,11],[71,20,63,11,"debug"],[71,25,63,11],[71,26,63,12,"error"],[71,31,63,17],[71,32,64,8],[71,116,64,92,"toggleName"],[71,126,64,102],[71,131,64,107],[71,138,64,114,"toggleName"],[71,148,64,124],[71,162,64,138,"result"],[71,168,64,144],[71,173,64,149],[71,180,64,156,"result"],[71,186,64,162],[71,189,65,6],[71,190,65,7],[72,6,66,4],[73,6,67,4],[73,13,67,11,"result"],[73,19,67,17],[74,4,68,2],[74,5,68,3],[75,2,69,0],[76,0,69,1],[76,3]],"functionMap":{"names":["<global>","defineIntegration$argument_0","setupOnce","processEvent","_wrappedIsEnabled","<anonymous>"],"mappings":"AAA;EC0B;MCI;ODG;MEE;OFE;GDE;AIY;SCG;GDa;CJC"},"hasCjsExports":false},"type":"js/module"}]}