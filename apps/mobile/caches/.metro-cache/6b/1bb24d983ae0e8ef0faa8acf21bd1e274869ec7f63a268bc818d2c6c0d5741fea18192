{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"EZPmsHt7bn9JJ4Y0grXw/CrOow0=","exportNames":["*"],"imports":1}},{"name":"../../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":109,"index":162}}],"key":"Nj05aHw7DkcWLBmtaT73GikC0NY=","exportNames":["*"],"imports":1}},{"name":"../spanstatus.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":163},"end":{"line":3,"column":53,"index":216}}],"key":"oo3PNTzeCFGehsy4DLcuUh8qvTg=","exportNames":["*"],"imports":1}},{"name":"../trace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":217},"end":{"line":4,"column":40,"index":257}}],"key":"s7B8neP9S1JcGnLMVRoTknJTEMM=","exportNames":["*"],"imports":1}},{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":258},"end":{"line":5,"column":256,"index":514}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"../ai/messageTruncation.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":515},"end":{"line":6,"column":67,"index":582}}],"key":"iXEMVT1RyP6hV85C/5qrM/qoPBQ=","exportNames":["*"],"imports":1}},{"name":"../langchain/utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":583},"end":{"line":7,"column":67,"index":650}}],"key":"U+3mH+ozIZB/fwAyJFIDyLjjrBI=","exportNames":["*"],"imports":1}},{"name":"./constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":651},"end":{"line":8,"column":50,"index":701}}],"key":"46QfplZMuoT7/1B4GqMDknw8q/g=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":702},"end":{"line":9,"column":82,"index":784}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"instrumentLangGraph\", {\n    enumerable: true,\n    get: function () {\n      return instrumentLangGraph;\n    }\n  });\n  Object.defineProperty(exports, \"instrumentStateGraphCompile\", {\n    enumerable: true,\n    get: function () {\n      return instrumentStateGraphCompile;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _exportsJs = require(_dependencyMap[1], \"../../exports.js\");\n  var _semanticAttributesJs = require(_dependencyMap[2], \"../../semanticAttributes.js\");\n  var _spanstatusJs = require(_dependencyMap[3], \"../spanstatus.js\");\n  var _traceJs = require(_dependencyMap[4], \"../trace.js\");\n  var _aiGenAiAttributesJs = require(_dependencyMap[5], \"../ai/gen-ai-attributes.js\");\n  var _aiMessageTruncationJs = require(_dependencyMap[6], \"../ai/messageTruncation.js\");\n  var _langchainUtilsJs = require(_dependencyMap[7], \"../langchain/utils.js\");\n  var _constantsJs = require(_dependencyMap[8], \"./constants.js\");\n  var _utilsJs = require(_dependencyMap[9], \"./utils.js\");\n  /**\n   * Instruments StateGraph's compile method to create spans for agent creation and invocation\n   *\n   * Wraps the compile() method to:\n   * - Create a `gen_ai.create_agent` span when compile() is called\n   * - Automatically wrap the invoke() method on the returned compiled graph with a `gen_ai.invoke_agent` span\n   *\n   */\n  function instrumentStateGraphCompile(originalCompile, options) {\n    return new Proxy(originalCompile, {\n      apply(target, thisArg, args) {\n        return (0, _traceJs.startSpan)({\n          op: 'gen_ai.create_agent',\n          name: 'create_agent',\n          attributes: {\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: _constantsJs.LANGGRAPH_ORIGIN,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'gen_ai.create_agent',\n            [_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE]: 'create_agent'\n          }\n        }, span => {\n          try {\n            var compiledGraph = Reflect.apply(target, thisArg, args);\n            var compileOptions = args.length > 0 ? args[0] : {};\n\n            // Extract graph name\n            if (compileOptions?.name && typeof compileOptions.name === 'string') {\n              span.setAttribute(_aiGenAiAttributesJs.GEN_AI_AGENT_NAME_ATTRIBUTE, compileOptions.name);\n              span.updateName(`create_agent ${compileOptions.name}`);\n            }\n\n            // Instrument agent invoke method on the compiled graph\n            var originalInvoke = compiledGraph.invoke;\n            if (originalInvoke && typeof originalInvoke === 'function') {\n              compiledGraph.invoke = instrumentCompiledGraphInvoke(originalInvoke.bind(compiledGraph), compiledGraph, compileOptions, options);\n            }\n            return compiledGraph;\n          } catch (error) {\n            span.setStatus({\n              code: _spanstatusJs.SPAN_STATUS_ERROR,\n              message: 'internal_error'\n            });\n            (0, _exportsJs.captureException)(error, {\n              mechanism: {\n                handled: false,\n                type: 'auto.ai.langgraph.error'\n              }\n            });\n            throw error;\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Instruments CompiledGraph's invoke method to create spans for agent invocation\n   *\n   * Creates a `gen_ai.invoke_agent` span when invoke() is called\n   */\n  function instrumentCompiledGraphInvoke(originalInvoke, graphInstance, compileOptions, options) {\n    return new Proxy(originalInvoke, {\n      apply(target, thisArg, args) {\n        return (0, _traceJs.startSpan)({\n          op: 'gen_ai.invoke_agent',\n          name: 'invoke_agent',\n          attributes: {\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: _constantsJs.LANGGRAPH_ORIGIN,\n            [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_OP]: _aiGenAiAttributesJs.GEN_AI_INVOKE_AGENT_OPERATION_ATTRIBUTE,\n            [_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE]: 'invoke_agent'\n          }\n        }, /*#__PURE__*/function () {\n          var _ref = (0, _asyncToGenerator.default)(function* (span) {\n            try {\n              var graphName = compileOptions?.name;\n              if (graphName && typeof graphName === 'string') {\n                span.setAttribute(_aiGenAiAttributesJs.GEN_AI_PIPELINE_NAME_ATTRIBUTE, graphName);\n                span.setAttribute(_aiGenAiAttributesJs.GEN_AI_AGENT_NAME_ATTRIBUTE, graphName);\n                span.updateName(`invoke_agent ${graphName}`);\n              }\n\n              // Extract available tools from the graph instance\n              var tools = (0, _utilsJs.extractToolsFromCompiledGraph)(graphInstance);\n              if (tools) {\n                span.setAttribute(_aiGenAiAttributesJs.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE, JSON.stringify(tools));\n              }\n\n              // Parse input messages\n              var recordInputs = options.recordInputs;\n              var recordOutputs = options.recordOutputs;\n              var inputMessages = args.length > 0 ? args[0].messages ?? [] : [];\n              if (inputMessages && recordInputs) {\n                var normalizedMessages = (0, _langchainUtilsJs.normalizeLangChainMessages)(inputMessages);\n                var truncatedMessages = (0, _aiMessageTruncationJs.truncateGenAiMessages)(normalizedMessages);\n                span.setAttribute(_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE, JSON.stringify(truncatedMessages));\n              }\n\n              // Call original invoke\n              var result = yield Reflect.apply(target, thisArg, args);\n\n              // Set response attributes\n              if (recordOutputs) {\n                (0, _utilsJs.setResponseAttributes)(span, inputMessages ?? null, result);\n              }\n              return result;\n            } catch (error) {\n              span.setStatus({\n                code: _spanstatusJs.SPAN_STATUS_ERROR,\n                message: 'internal_error'\n              });\n              (0, _exportsJs.captureException)(error, {\n                mechanism: {\n                  handled: false,\n                  type: 'auto.ai.langgraph.error'\n                }\n              });\n              throw error;\n            }\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      }\n    });\n  }\n\n  /**\n   * Directly instruments a StateGraph instance to add tracing spans\n   *\n   * This function can be used to manually instrument LangGraph StateGraph instances\n   * in environments where automatic instrumentation is not available or desired.\n   *\n   * @param stateGraph - The StateGraph instance to instrument\n   * @param options - Optional configuration for recording inputs/outputs\n   *\n   * @example\n   * ```typescript\n   * import { instrumentLangGraph } from '@sentry/cloudflare';\n   * import { StateGraph } from '@langchain/langgraph';\n   *\n   * const graph = new StateGraph(MessagesAnnotation)\n   *   .addNode('agent', mockLlm)\n   *   .addEdge(START, 'agent')\n   *   .addEdge('agent', END);\n   *\n   * instrumentLangGraph(graph, { recordInputs: true, recordOutputs: true });\n   * const compiled = graph.compile({ name: 'my_agent' });\n   * ```\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function instrumentLangGraph(stateGraph, options) {\n    var _options = options || {};\n    stateGraph.compile = instrumentStateGraphCompile(stateGraph.compile.bind(stateGraph), _options);\n    return stateGraph;\n  }\n});","lineCount":190,"map":[[12,2,185,0,"Object"],[12,8,185,0],[12,9,185,0,"defineProperty"],[12,23,185,0],[12,24,185,0,"exports"],[12,31,185,0],[13,4,185,0,"enumerable"],[13,14,185,0],[14,4,185,0,"get"],[14,7,185,0],[14,18,185,0,"get"],[14,19,185,0],[15,6,185,0],[15,13,185,9,"instrumentLangGraph"],[15,32,185,28],[16,4,185,28],[17,2,185,28],[18,2,185,0,"Object"],[18,8,185,0],[18,9,185,0,"defineProperty"],[18,23,185,0],[18,24,185,0,"exports"],[18,31,185,0],[19,4,185,0,"enumerable"],[19,14,185,0],[20,4,185,0,"get"],[20,7,185,0],[20,18,185,0,"get"],[20,19,185,0],[21,6,185,0],[21,13,185,30,"instrumentStateGraphCompile"],[21,40,185,57],[22,4,185,57],[23,2,185,57],[24,2,185,60],[24,6,185,60,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,185,60],[24,45,185,60,"require"],[24,52,185,60],[24,53,185,60,"_dependencyMap"],[24,67,185,60],[25,2,185,60],[25,6,185,60,"_asyncToGenerator"],[25,23,185,60],[25,26,185,60,"_interopDefault"],[25,41,185,60],[25,42,185,60,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,185,60],[26,2,1,0],[26,6,1,0,"_exportsJs"],[26,16,1,0],[26,19,1,0,"require"],[26,26,1,0],[26,27,1,0,"_dependencyMap"],[26,41,1,0],[27,2,2,0],[27,6,2,0,"_semanticAttributesJs"],[27,27,2,0],[27,30,2,0,"require"],[27,37,2,0],[27,38,2,0,"_dependencyMap"],[27,52,2,0],[28,2,3,0],[28,6,3,0,"_spanstatusJs"],[28,19,3,0],[28,22,3,0,"require"],[28,29,3,0],[28,30,3,0,"_dependencyMap"],[28,44,3,0],[29,2,4,0],[29,6,4,0,"_traceJs"],[29,14,4,0],[29,17,4,0,"require"],[29,24,4,0],[29,25,4,0,"_dependencyMap"],[29,39,4,0],[30,2,5,0],[30,6,5,0,"_aiGenAiAttributesJs"],[30,26,5,0],[30,29,5,0,"require"],[30,36,5,0],[30,37,5,0,"_dependencyMap"],[30,51,5,0],[31,2,6,0],[31,6,6,0,"_aiMessageTruncationJs"],[31,28,6,0],[31,31,6,0,"require"],[31,38,6,0],[31,39,6,0,"_dependencyMap"],[31,53,6,0],[32,2,7,0],[32,6,7,0,"_langchainUtilsJs"],[32,23,7,0],[32,26,7,0,"require"],[32,33,7,0],[32,34,7,0,"_dependencyMap"],[32,48,7,0],[33,2,8,0],[33,6,8,0,"_constantsJs"],[33,18,8,0],[33,21,8,0,"require"],[33,28,8,0],[33,29,8,0,"_dependencyMap"],[33,43,8,0],[34,2,9,0],[34,6,9,0,"_utilsJs"],[34,14,9,0],[34,17,9,0,"require"],[34,24,9,0],[34,25,9,0,"_dependencyMap"],[34,39,9,0],[35,2,11,0],[36,0,12,0],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[41,0,17,0],[42,0,18,0],[43,2,19,0],[43,11,19,9,"instrumentStateGraphCompile"],[43,38,19,36,"instrumentStateGraphCompile"],[43,39,20,2,"originalCompile"],[43,54,20,17],[43,56,21,2,"options"],[43,63,21,9],[43,65,22,2],[44,4,23,2],[44,11,23,9],[44,15,23,13,"Proxy"],[44,20,23,18],[44,21,23,19,"originalCompile"],[44,36,23,34],[44,38,23,36],[45,6,24,4,"apply"],[45,11,24,9,"apply"],[45,12,24,10,"target"],[45,18,24,16],[45,20,24,18,"thisArg"],[45,27,24,25],[45,29,24,27,"args"],[45,33,24,31],[45,35,24,33],[46,8,25,6],[46,15,25,13],[46,19,25,13,"startSpan"],[46,27,25,22],[46,28,25,22,"startSpan"],[46,37,25,22],[46,39,26,8],[47,10,27,10,"op"],[47,12,27,12],[47,14,27,14],[47,35,27,35],[48,10,28,10,"name"],[48,14,28,14],[48,16,28,16],[48,30,28,30],[49,10,29,10,"attributes"],[49,20,29,20],[49,22,29,22],[50,12,30,12],[50,13,30,13,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[50,34,30,45],[50,35,30,45,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[50,67,30,45],[50,70,30,48,"LANGGRAPH_ORIGIN"],[50,82,30,64],[50,83,30,64,"LANGGRAPH_ORIGIN"],[50,99,30,64],[51,12,31,12],[51,13,31,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[51,34,31,41],[51,35,31,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[51,63,31,41],[51,66,31,44],[51,87,31,65],[52,12,32,12],[52,13,32,13,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[52,33,32,44],[52,34,32,44,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[52,65,32,44],[52,68,32,47],[53,10,33,10],[54,8,34,8],[54,9,34,9],[54,11,35,8,"span"],[54,15,35,12],[54,19,35,16],[55,10,36,10],[55,14,36,14],[56,12,37,12],[56,16,37,18,"compiledGraph"],[56,29,37,31],[56,32,37,34,"Reflect"],[56,39,37,41],[56,40,37,42,"apply"],[56,45,37,47],[56,46,37,48,"target"],[56,52,37,54],[56,54,37,56,"thisArg"],[56,61,37,63],[56,63,37,65,"args"],[56,67,37,69],[56,68,37,70],[57,12,38,12],[57,16,38,18,"compileOptions"],[57,30,38,32],[57,33,38,35,"args"],[57,37,38,39],[57,38,38,40,"length"],[57,44,38,46],[57,47,38,49],[57,48,38,50],[57,51,38,54,"args"],[57,55,38,58],[57,56,38,59],[57,57,38,60],[57,58,38,61],[57,61,38,66],[57,62,38,67],[57,63,38,68],[59,12,40,12],[60,12,41,12],[60,16,41,16,"compileOptions"],[60,30,41,30],[60,32,41,32,"name"],[60,36,41,36],[60,40,41,40],[60,47,41,47,"compileOptions"],[60,61,41,61],[60,62,41,62,"name"],[60,66,41,66],[60,71,41,71],[60,79,41,79],[60,81,41,81],[61,14,42,14,"span"],[61,18,42,18],[61,19,42,19,"setAttribute"],[61,31,42,31],[61,32,42,32,"GEN_AI_AGENT_NAME_ATTRIBUTE"],[61,52,42,59],[61,53,42,59,"GEN_AI_AGENT_NAME_ATTRIBUTE"],[61,80,42,59],[61,82,42,61,"compileOptions"],[61,96,42,75],[61,97,42,76,"name"],[61,101,42,80],[61,102,42,81],[62,14,43,14,"span"],[62,18,43,18],[62,19,43,19,"updateName"],[62,29,43,29],[62,30,43,30],[62,46,43,46,"compileOptions"],[62,60,43,60],[62,61,43,61,"name"],[62,65,43,65],[62,67,43,67],[62,68,43,68],[63,12,44,12],[65,12,46,12],[66,12,47,12],[66,16,47,18,"originalInvoke"],[66,30,47,32],[66,33,47,35,"compiledGraph"],[66,46,47,48],[66,47,47,49,"invoke"],[66,53,47,55],[67,12,48,12],[67,16,48,16,"originalInvoke"],[67,30,48,30],[67,34,48,34],[67,41,48,41,"originalInvoke"],[67,55,48,55],[67,60,48,60],[67,70,48,70],[67,72,48,72],[68,14,49,14,"compiledGraph"],[68,27,49,27],[68,28,49,28,"invoke"],[68,34,49,34],[68,37,49,37,"instrumentCompiledGraphInvoke"],[68,66,49,66],[68,67,50,16,"originalInvoke"],[68,81,50,30],[68,82,50,31,"bind"],[68,86,50,35],[68,87,50,36,"compiledGraph"],[68,100,50,49],[68,101,50,50],[68,103,51,16,"compiledGraph"],[68,116,51,29],[68,118,52,16,"compileOptions"],[68,132,52,30],[68,134,53,16,"options"],[68,141,54,14],[68,142,54,15],[69,12,55,12],[70,12,57,12],[70,19,57,19,"compiledGraph"],[70,32,57,32],[71,10,58,10],[71,11,58,11],[71,12,58,12],[71,19,58,19,"error"],[71,24,58,24],[71,26,58,26],[72,12,59,12,"span"],[72,16,59,16],[72,17,59,17,"setStatus"],[72,26,59,26],[72,27,59,27],[73,14,59,29,"code"],[73,18,59,33],[73,20,59,35,"SPAN_STATUS_ERROR"],[73,33,59,52],[73,34,59,52,"SPAN_STATUS_ERROR"],[73,51,59,52],[74,14,59,54,"message"],[74,21,59,61],[74,23,59,63],[75,12,59,80],[75,13,59,81],[75,14,59,82],[76,12,60,12],[76,16,60,12,"captureException"],[76,26,60,28],[76,27,60,28,"captureException"],[76,43,60,28],[76,45,60,29,"error"],[76,50,60,34],[76,52,60,36],[77,14,61,14,"mechanism"],[77,23,61,23],[77,25,61,25],[78,16,62,16,"handled"],[78,23,62,23],[78,25,62,25],[78,30,62,30],[79,16,63,16,"type"],[79,20,63,20],[79,22,63,22],[80,14,64,14],[81,12,65,12],[81,13,65,13],[81,14,65,14],[82,12,66,12],[82,18,66,18,"error"],[82,23,66,23],[83,10,67,10],[84,8,68,8],[84,9,69,6],[84,10,69,7],[85,6,70,4],[86,4,71,2],[86,5,71,3],[86,6,71,4],[87,2,72,0],[89,2,74,0],[90,0,75,0],[91,0,76,0],[92,0,77,0],[93,0,78,0],[94,2,79,0],[94,11,79,9,"instrumentCompiledGraphInvoke"],[94,40,79,38,"instrumentCompiledGraphInvoke"],[94,41,80,2,"originalInvoke"],[94,55,80,16],[94,57,81,2,"graphInstance"],[94,70,81,15],[94,72,82,2,"compileOptions"],[94,86,82,16],[94,88,83,2,"options"],[94,95,83,9],[94,97,84,2],[95,4,85,2],[95,11,85,9],[95,15,85,13,"Proxy"],[95,20,85,18],[95,21,85,19,"originalInvoke"],[95,35,85,33],[95,37,85,35],[96,6,86,4,"apply"],[96,11,86,9,"apply"],[96,12,86,10,"target"],[96,18,86,16],[96,20,86,18,"thisArg"],[96,27,86,25],[96,29,86,27,"args"],[96,33,86,31],[96,35,86,33],[97,8,87,6],[97,15,87,13],[97,19,87,13,"startSpan"],[97,27,87,22],[97,28,87,22,"startSpan"],[97,37,87,22],[97,39,88,8],[98,10,89,10,"op"],[98,12,89,12],[98,14,89,14],[98,35,89,35],[99,10,90,10,"name"],[99,14,90,14],[99,16,90,16],[99,30,90,30],[100,10,91,10,"attributes"],[100,20,91,20],[100,22,91,22],[101,12,92,12],[101,13,92,13,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[101,34,92,45],[101,35,92,45,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[101,67,92,45],[101,70,92,48,"LANGGRAPH_ORIGIN"],[101,82,92,64],[101,83,92,64,"LANGGRAPH_ORIGIN"],[101,99,92,64],[102,12,93,12],[102,13,93,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[102,34,93,41],[102,35,93,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[102,63,93,41],[102,66,93,44,"GEN_AI_INVOKE_AGENT_OPERATION_ATTRIBUTE"],[102,86,93,83],[102,87,93,83,"GEN_AI_INVOKE_AGENT_OPERATION_ATTRIBUTE"],[102,126,93,83],[103,12,94,12],[103,13,94,13,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[103,33,94,44],[103,34,94,44,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[103,65,94,44],[103,68,94,47],[104,10,95,10],[105,8,96,8],[105,9,96,9],[106,10,96,9],[106,14,96,9,"_ref"],[106,18,96,9],[106,25,96,9,"_asyncToGenerator"],[106,42,96,9],[106,43,96,9,"default"],[106,50,96,9],[106,52,97,8],[106,63,97,14,"span"],[106,67,97,18],[106,69,97,22],[107,12,98,10],[107,16,98,14],[108,14,99,12],[108,18,99,18,"graphName"],[108,27,99,27],[108,30,99,30,"compileOptions"],[108,44,99,44],[108,46,99,46,"name"],[108,50,99,50],[109,14,101,12],[109,18,101,16,"graphName"],[109,27,101,25],[109,31,101,29],[109,38,101,36,"graphName"],[109,47,101,45],[109,52,101,50],[109,60,101,58],[109,62,101,60],[110,16,102,14,"span"],[110,20,102,18],[110,21,102,19,"setAttribute"],[110,33,102,31],[110,34,102,32,"GEN_AI_PIPELINE_NAME_ATTRIBUTE"],[110,54,102,62],[110,55,102,62,"GEN_AI_PIPELINE_NAME_ATTRIBUTE"],[110,85,102,62],[110,87,102,64,"graphName"],[110,96,102,73],[110,97,102,74],[111,16,103,14,"span"],[111,20,103,18],[111,21,103,19,"setAttribute"],[111,33,103,31],[111,34,103,32,"GEN_AI_AGENT_NAME_ATTRIBUTE"],[111,54,103,59],[111,55,103,59,"GEN_AI_AGENT_NAME_ATTRIBUTE"],[111,82,103,59],[111,84,103,61,"graphName"],[111,93,103,70],[111,94,103,71],[112,16,104,14,"span"],[112,20,104,18],[112,21,104,19,"updateName"],[112,31,104,29],[112,32,104,30],[112,48,104,46,"graphName"],[112,57,104,55],[112,59,104,57],[112,60,104,58],[113,14,105,12],[115,14,107,12],[116,14,108,12],[116,18,108,18,"tools"],[116,23,108,23],[116,26,108,26],[116,30,108,26,"extractToolsFromCompiledGraph"],[116,38,108,55],[116,39,108,55,"extractToolsFromCompiledGraph"],[116,68,108,55],[116,70,108,56,"graphInstance"],[116,83,108,69],[116,84,108,70],[117,14,109,12],[117,18,109,16,"tools"],[117,23,109,21],[117,25,109,23],[118,16,110,14,"span"],[118,20,110,18],[118,21,110,19,"setAttribute"],[118,33,110,31],[118,34,110,32,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[118,54,110,72],[118,55,110,72,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[118,95,110,72],[118,97,110,74,"JSON"],[118,101,110,78],[118,102,110,79,"stringify"],[118,111,110,88],[118,112,110,89,"tools"],[118,117,110,94],[118,118,110,95],[118,119,110,96],[119,14,111,12],[121,14,113,12],[122,14,114,12],[122,18,114,18,"recordInputs"],[122,30,114,30],[122,33,114,33,"options"],[122,40,114,40],[122,41,114,41,"recordInputs"],[122,53,114,53],[123,14,115,12],[123,18,115,18,"recordOutputs"],[123,31,115,31],[123,34,115,34,"options"],[123,41,115,41],[123,42,115,42,"recordOutputs"],[123,55,115,55],[124,14,116,12],[124,18,116,18,"inputMessages"],[124,31,116,31],[124,34,117,14,"args"],[124,38,117,18],[124,39,117,19,"length"],[124,45,117,25],[124,48,117,28],[124,49,117,29],[124,52,117,34,"args"],[124,56,117,38],[124,57,117,39],[124,58,117,40],[124,59,117,41],[124,60,117,44,"messages"],[124,68,117,52],[124,72,117,56],[124,74,117,58],[124,77,117,62],[124,79,117,64],[125,14,119,12],[125,18,119,16,"inputMessages"],[125,31,119,29],[125,35,119,33,"recordInputs"],[125,47,119,45],[125,49,119,47],[126,16,120,14],[126,20,120,20,"normalizedMessages"],[126,38,120,38],[126,41,120,41],[126,45,120,41,"normalizeLangChainMessages"],[126,62,120,67],[126,63,120,67,"normalizeLangChainMessages"],[126,89,120,67],[126,91,120,68,"inputMessages"],[126,104,120,81],[126,105,120,82],[127,16,121,14],[127,20,121,20,"truncatedMessages"],[127,37,121,37],[127,40,121,40],[127,44,121,40,"truncateGenAiMessages"],[127,66,121,61],[127,67,121,61,"truncateGenAiMessages"],[127,88,121,61],[127,90,121,62,"normalizedMessages"],[127,108,121,80],[127,109,121,81],[128,16,122,14,"span"],[128,20,122,18],[128,21,122,19,"setAttribute"],[128,33,122,31],[128,34,122,32,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[128,54,122,65],[128,55,122,65,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[128,88,122,65],[128,90,122,67,"JSON"],[128,94,122,71],[128,95,122,72,"stringify"],[128,104,122,81],[128,105,122,82,"truncatedMessages"],[128,122,122,99],[128,123,122,100],[128,124,122,101],[129,14,123,12],[131,14,125,12],[132,14,126,12],[132,18,126,18,"result"],[132,24,126,24],[132,33,126,33,"Reflect"],[132,40,126,40],[132,41,126,41,"apply"],[132,46,126,46],[132,47,126,47,"target"],[132,53,126,53],[132,55,126,55,"thisArg"],[132,62,126,62],[132,64,126,64,"args"],[132,68,126,68],[132,69,126,69],[134,14,128,12],[135,14,129,12],[135,18,129,16,"recordOutputs"],[135,31,129,29],[135,33,129,31],[136,16,130,14],[136,20,130,14,"setResponseAttributes"],[136,28,130,35],[136,29,130,35,"setResponseAttributes"],[136,50,130,35],[136,52,130,36,"span"],[136,56,130,40],[136,58,130,42,"inputMessages"],[136,71,130,55],[136,75,130,59],[136,79,130,63],[136,81,130,65,"result"],[136,87,130,71],[136,88,130,72],[137,14,131,12],[138,14,133,12],[138,21,133,19,"result"],[138,27,133,25],[139,12,134,10],[139,13,134,11],[139,14,134,12],[139,21,134,19,"error"],[139,26,134,24],[139,28,134,26],[140,14,135,12,"span"],[140,18,135,16],[140,19,135,17,"setStatus"],[140,28,135,26],[140,29,135,27],[141,16,135,29,"code"],[141,20,135,33],[141,22,135,35,"SPAN_STATUS_ERROR"],[141,35,135,52],[141,36,135,52,"SPAN_STATUS_ERROR"],[141,53,135,52],[142,16,135,54,"message"],[142,23,135,61],[142,25,135,63],[143,14,135,80],[143,15,135,81],[143,16,135,82],[144,14,136,12],[144,18,136,12,"captureException"],[144,28,136,28],[144,29,136,28,"captureException"],[144,45,136,28],[144,47,136,29,"error"],[144,52,136,34],[144,54,136,36],[145,16,137,14,"mechanism"],[145,25,137,23],[145,27,137,25],[146,18,138,16,"handled"],[146,25,138,23],[146,27,138,25],[146,32,138,30],[147,18,139,16,"type"],[147,22,139,20],[147,24,139,22],[148,16,140,14],[149,14,141,12],[149,15,141,13],[149,16,141,14],[150,14,142,12],[150,20,142,18,"error"],[150,25,142,23],[151,12,143,10],[152,10,144,8],[152,11,144,9],[153,10,144,9],[153,27,144,9,"_x"],[153,29,144,9],[154,12,144,9],[154,19,144,9,"_ref"],[154,23,144,9],[154,24,144,9,"apply"],[154,29,144,9],[154,36,144,9,"arguments"],[154,45,144,9],[155,10,144,9],[156,8,144,9],[156,11,145,6],[156,12,145,7],[157,6,146,4],[158,4,147,2],[158,5,147,3],[158,6,147,4],[159,2,148,0],[161,2,150,0],[162,0,151,0],[163,0,152,0],[164,0,153,0],[165,0,154,0],[166,0,155,0],[167,0,156,0],[168,0,157,0],[169,0,158,0],[170,0,159,0],[171,0,160,0],[172,0,161,0],[173,0,162,0],[174,0,163,0],[175,0,164,0],[176,0,165,0],[177,0,166,0],[178,0,167,0],[179,0,168,0],[180,0,169,0],[181,0,170,0],[182,0,171,0],[183,0,172,0],[184,2,173,0],[185,2,174,0],[185,11,174,9,"instrumentLangGraph"],[185,30,174,28,"instrumentLangGraph"],[185,31,175,2,"stateGraph"],[185,41,175,12],[185,43,176,2,"options"],[185,50,176,9],[185,52,177,2],[186,4,178,2],[186,8,178,8,"_options"],[186,16,178,16],[186,19,178,19,"options"],[186,26,178,26],[186,30,178,30],[186,31,178,31],[186,32,178,32],[187,4,180,2,"stateGraph"],[187,14,180,12],[187,15,180,13,"compile"],[187,22,180,20],[187,25,180,23,"instrumentStateGraphCompile"],[187,52,180,50],[187,53,180,51,"stateGraph"],[187,63,180,61],[187,64,180,62,"compile"],[187,71,180,69],[187,72,180,70,"bind"],[187,76,180,74],[187,77,180,75,"stateGraph"],[187,87,180,85],[187,88,180,86],[187,90,180,88,"_options"],[187,98,180,96],[187,99,180,97],[188,4,182,2],[188,11,182,9,"stateGraph"],[188,21,182,19],[189,2,183,0],[190,0,183,1],[190,3]],"functionMap":{"names":["<global>","instrumentStateGraphCompile","Proxy$argument_1.apply","startSpan$argument_1","instrumentCompiledGraphInvoke","instrumentLangGraph"],"mappings":"AAA;ACkB;ICK;QCW;SDiC;KDE;CDE;AIO;IFO;QCW;SD+C;KEE;CJE;AK0B;CLS"},"hasCjsExports":false},"type":"js/module"}]}