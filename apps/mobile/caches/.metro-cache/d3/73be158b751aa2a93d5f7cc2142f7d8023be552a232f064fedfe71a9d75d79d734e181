{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":37,"index":74}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useQuizApi = useQuizApi;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var PHASE_TRANSITIONS = {\n    phase_2: \"Let's keep going\",\n    phase_3: \"You're making progress\",\n    phase_4: \"Almost there\"\n  };\n  function useQuizApi(_ref) {\n    _s();\n    var apiUrl = _ref.apiUrl,\n      auth = _ref.auth,\n      authReady = _ref.authReady,\n      isAuthenticated = _ref.isAuthenticated,\n      setUser = _ref.setUser,\n      setQuestion = _ref.setQuestion,\n      setProgress = _ref.setProgress,\n      setError = _ref.setError,\n      setLoading = _ref.setLoading,\n      setTransitionMessage = _ref.setTransitionMessage,\n      setTransitionDurationMs = _ref.setTransitionDurationMs,\n      setPendingOutcomeNav = _ref.setPendingOutcomeNav,\n      setShowingTransition = _ref.setShowingTransition,\n      setPendingQuestion = _ref.setPendingQuestion,\n      setPendingProgress = _ref.setPendingProgress,\n      progress = _ref.progress,\n      router = _ref.router,\n      setAudienceGenderUsed = _ref.setAudienceGenderUsed;\n    var resetToOnboarding = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        yield AsyncStorage.default.removeItem(\"user\");\n        yield AsyncStorage.default.removeItem(\"onboarding_seen\");\n      } catch (e) {\n        console.error(e);\n      }\n      router.replace(\"/onboarding\");\n    }), [router]);\n    var ensureLegacyUserFromAuth = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        if (!authReady || !isAuthenticated) {\n          return null;\n        }\n        var jwt = auth?.jwt;\n        if (!jwt) {\n          return null;\n        }\n        var resp = yield fetch(apiUrl(\"/api/users/ensure\"), {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${jwt}`\n          }\n        });\n        if (!resp.ok) {\n          var text = yield resp.text().catch(() => \"\");\n          throw new Error(`When calling /api/users/ensure, the response was [${resp.status}] ${resp.statusText} ${text}`);\n        }\n        var json = yield resp.json().catch(() => null);\n        var ensuredUser = json?.user || null;\n        if (ensuredUser?.id) {\n          yield AsyncStorage.default.setItem(\"user\", JSON.stringify(ensuredUser));\n          setUser(ensuredUser);\n          return ensuredUser;\n        }\n        return null;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }), [apiUrl, auth?.jwt, authReady, isAuthenticated, setUser]);\n    var ensureProfileGenderMatchesUser = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (u) {\n        try {\n          var desired = u?.gender;\n          if (desired !== \"Male\" && desired !== \"Female\") {\n            return;\n          }\n          var userId = Number(u?.id);\n          if (!Number.isFinite(userId)) {\n            return;\n          }\n          var resp = yield fetch(apiUrl(`/api/profile/me?userId=${userId}`));\n          if (!resp.ok) {\n            return;\n          }\n          var json = yield resp.json().catch(() => null);\n          var profile = json?.profile || null;\n          var current = profile?.gender;\n          if (current === desired) {\n            return;\n          }\n          yield fetch(apiUrl(\"/api/profile/me\"), {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              userId,\n              gender: desired\n            })\n          }).catch(() => null);\n        } catch (e) {\n          console.error(e);\n        }\n      });\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }(), [apiUrl]);\n    var startQuiz = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (userId) {\n        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        try {\n          setError(null);\n          // clear any stale debug value before we load\n          if (typeof setAudienceGenderUsed === \"function\") {\n            setAudienceGenderUsed(null);\n          }\n          var audienceGender = opts?.audienceGender;\n          var response = yield fetch(apiUrl(\"/api/quiz/start\"), {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              userId: Number(userId),\n              // Help the server pick the correct quiz even if the profile gender is stale.\n              audienceGender\n            })\n          });\n          if (!response.ok) {\n            if (response.status === 404) {\n              var ensured = yield ensureLegacyUserFromAuth();\n              if (ensured?.id) {\n                return yield startQuiz(ensured.id, {\n                  audienceGender: ensured?.gender\n                });\n              }\n              setError({\n                message: \"Your account was removed.\",\n                type: \"DELETED\"\n              });\n              setTimeout(() => {\n                resetToOnboarding();\n              }, 900);\n              return;\n            }\n            if (response.status === 403) {\n              setError({\n                message: \"Photo verification required.\",\n                type: \"VERIFY\"\n              });\n              setTimeout(() => {\n                router.replace(\"/screening/gate\");\n              }, 600);\n              return;\n            }\n            var text = yield response.text().catch(() => \"\");\n            throw new Error(`Failed to start screening: [${response.status}] ${response.statusText} ${text}`);\n          }\n          var data = yield response.json();\n\n          // Helpful breadcrumb while debugging quiz-audience issues.\n          if (data?.audienceGenderUsed) {\n            if (typeof setAudienceGenderUsed === \"function\") {\n              setAudienceGenderUsed(String(data.audienceGenderUsed));\n            }\n            console.log(\"[QUIZ] audienceGenderUsed:\", data.audienceGenderUsed);\n          }\n          if (data.outcome) {\n            setTransitionMessage(\"Reviewing your answers\");\n            setTransitionDurationMs(1200 + Math.floor(Math.random() * 500));\n            if (data.outcome === \"COOLDOWN\") {\n              try {\n                var raw = yield AsyncStorage.default.getItem(\"user\");\n                if (raw) {\n                  var u = JSON.parse(raw);\n                  var next = {\n                    ...(u || {}),\n                    status: \"COOLDOWN\",\n                    cooldownUntil: data.cooldownUntil || u.cooldownUntil\n                  };\n                  yield AsyncStorage.default.setItem(\"user\", JSON.stringify(next));\n                }\n              } catch {\n                // ignore\n              }\n              setPendingOutcomeNav({\n                outcome: \"COOLDOWN\",\n                cooldownUntil: data.cooldownUntil\n              });\n            } else {\n              setPendingOutcomeNav({\n                outcome: data.outcome\n              });\n            }\n            setShowingTransition(true);\n            return;\n          }\n          if (!data.question || !Array.isArray(data.question.answers)) {\n            setError({\n              message: \"Screening is not available right now. Please try again.\",\n              type: \"SERVER\"\n            });\n            return;\n          }\n          setQuestion(data.question);\n          setProgress(data.progress || {\n            step: 1,\n            totalSteps: 1,\n            currentPhase: \"phase_1\"\n          });\n        } catch (err) {\n          console.error(\"Error starting quiz:\", err);\n          setError({\n            message: err?.message || \"Could not start the screening. Please try again.\",\n            type: \"NETWORK\"\n          });\n          _reactNative.Alert.alert(\"Could not start screening\", err?.message || \"Please try again.\");\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function (_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }(), [apiUrl, ensureLegacyUserFromAuth, resetToOnboarding, router, setAudienceGenderUsed, setError, setLoading, setPendingOutcomeNav, setProgress, setQuestion, setShowingTransition, setTransitionDurationMs, setTransitionMessage]);\n    var loadUserAndStartQuiz = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        var userData = yield AsyncStorage.default.getItem(\"user\");\n        if (!userData) {\n          var ensured = yield ensureLegacyUserFromAuth();\n          if (!ensured?.id) {\n            setError({\n              message: \"Please sign in to start the screening.\",\n              type: \"AUTH\"\n            });\n            setLoading(false);\n            return;\n          }\n          setUser(ensured);\n          yield startQuiz(ensured.id, {\n            audienceGender: ensured?.gender\n          });\n          return;\n        }\n        var parsedUser = JSON.parse(userData);\n        if (!parsedUser?.id) {\n          setError({\n            message: \"We couldn't find your account on this device.\",\n            type: \"AUTH\"\n          });\n          setLoading(false);\n          return;\n        }\n        setUser(parsedUser);\n        yield ensureProfileGenderMatchesUser(parsedUser);\n        yield startQuiz(parsedUser.id, {\n          audienceGender: parsedUser?.gender\n        });\n      } catch (e) {\n        console.error(e);\n        setError({\n          message: \"Something went wrong starting the screening.\",\n          type: \"UNKNOWN\"\n        });\n        setLoading(false);\n      }\n    }), [ensureLegacyUserFromAuth, ensureProfileGenderMatchesUser, setError, setLoading, setUser, startQuiz]);\n    var submitAnswer = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref7 = (0, _asyncToGenerator.default)(function* (user, question, selectedAnswerIds) {\n        try {\n          var response = yield fetch(apiUrl(\"/api/quiz/answer\"), {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              userId: Number(user.id),\n              questionId: question.id,\n              answerIds: selectedAnswerIds\n            })\n          });\n          if (!response.ok) {\n            if (response.status === 404) {\n              setError({\n                message: \"Your account was removed.\",\n                type: \"DELETED\"\n              });\n              setTimeout(() => {\n                resetToOnboarding();\n              }, 900);\n              return null;\n            }\n            if (response.status === 403) {\n              setError({\n                message: \"Photo verification required.\",\n                type: \"VERIFY\"\n              });\n              setTimeout(() => {\n                router.replace(\"/screening/gate\");\n              }, 600);\n              return null;\n            }\n            var text = yield response.text().catch(() => \"\");\n            throw new Error(`Failed to submit answer: [${response.status}] ${response.statusText} ${text}`);\n          }\n          var data = yield response.json();\n          if (data.outcome) {\n            setTransitionMessage(\"Finalizing your screening\");\n            setTransitionDurationMs(1200 + Math.floor(Math.random() * 500));\n            if (data.outcome === \"COOLDOWN\") {\n              try {\n                var raw = yield AsyncStorage.default.getItem(\"user\");\n                if (raw) {\n                  var u = JSON.parse(raw);\n                  var next = {\n                    ...(u || {}),\n                    status: \"COOLDOWN\",\n                    cooldownUntil: data.cooldownUntil || u.cooldownUntil\n                  };\n                  yield AsyncStorage.default.setItem(\"user\", JSON.stringify(next));\n                }\n              } catch {\n                // ignore\n              }\n              setPendingOutcomeNav({\n                outcome: \"COOLDOWN\",\n                cooldownUntil: data.cooldownUntil\n              });\n            } else {\n              setPendingOutcomeNav({\n                outcome: data.outcome\n              });\n            }\n            setShowingTransition(true);\n            return null;\n          }\n          var newProgress = data.progress || progress;\n          if (newProgress.currentPhase !== progress.currentPhase && PHASE_TRANSITIONS[newProgress.currentPhase]) {\n            setTransitionMessage(PHASE_TRANSITIONS[newProgress.currentPhase]);\n            setTransitionDurationMs(2500);\n            setPendingQuestion(data.question);\n            setPendingProgress(newProgress);\n            setShowingTransition(true);\n          } else {\n            setQuestion(data.question);\n            setProgress(newProgress);\n          }\n          return data;\n        } catch (err) {\n          console.error(\"Error submitting answer:\", err);\n          setError({\n            message: err?.message || \"Could not submit your answer. Please try again.\",\n            type: \"NETWORK\"\n          });\n          _reactNative.Alert.alert(\"Could not submit\", err?.message || \"Please try again.\");\n          return null;\n        }\n      });\n      return function (_x3, _x4, _x5) {\n        return _ref7.apply(this, arguments);\n      };\n    }(), [apiUrl, progress, resetToOnboarding, router, setError, setPendingOutcomeNav, setPendingProgress, setPendingQuestion, setProgress, setQuestion, setShowingTransition, setTransitionDurationMs, setTransitionMessage]);\n    return {\n      loadUserAndStartQuiz,\n      startQuiz,\n      submitAnswer,\n      resetToOnboarding\n    };\n  }\n  _s(useQuizApi, \"Zd2X6ayEiEc4qzSwIOBX5dWfn5Y=\");\n});","lineCount":388,"map":[[13,2,11,0,"exports"],[13,9,11,0],[13,10,11,0,"useQuizApi"],[13,20,11,0],[13,23,11,0,"useQuizApi"],[13,33,11,0],[14,2,436,1],[14,6,436,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,436,1],[14,45,436,1,"require"],[14,52,436,1],[14,53,436,1,"_dependencyMap"],[14,67,436,1],[15,2,436,1],[15,6,436,1,"_asyncToGenerator"],[15,23,436,1],[15,26,436,1,"_interopDefault"],[15,41,436,1],[15,42,436,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,436,1],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_reactNative"],[17,18,2,0],[17,21,2,0,"require"],[17,28,2,0],[17,29,2,0,"_dependencyMap"],[17,43,2,0],[18,2,3,0],[18,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,3,0],[18,45,3,0,"require"],[18,52,3,0],[18,53,3,0,"_dependencyMap"],[18,67,3,0],[19,2,3,0],[19,6,3,0,"AsyncStorage"],[19,18,3,0],[19,21,3,0,"_interopDefault"],[19,36,3,0],[19,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,3,0],[20,2,5,0],[20,6,5,6,"PHASE_TRANSITIONS"],[20,23,5,23],[20,26,5,26],[21,4,6,2,"phase_2"],[21,11,6,9],[21,13,6,11],[21,31,6,29],[22,4,7,2,"phase_3"],[22,11,7,9],[22,13,7,11],[22,37,7,35],[23,4,8,2,"phase_4"],[23,11,8,9],[23,13,8,11],[24,2,9,0],[24,3,9,1],[25,2,11,7],[25,11,11,16,"useQuizApi"],[25,21,11,26,"useQuizApi"],[25,22,11,26,"_ref"],[25,26,11,26],[25,28,30,3],[26,4,30,3,"_s"],[26,6,30,3],[27,4,30,3],[27,8,12,2,"apiUrl"],[27,14,12,8],[27,17,12,8,"_ref"],[27,21,12,8],[27,22,12,2,"apiUrl"],[27,28,12,8],[28,6,13,2,"auth"],[28,10,13,6],[28,13,13,6,"_ref"],[28,17,13,6],[28,18,13,2,"auth"],[28,22,13,6],[29,6,14,2,"authReady"],[29,15,14,11],[29,18,14,11,"_ref"],[29,22,14,11],[29,23,14,2,"authReady"],[29,32,14,11],[30,6,15,2,"isAuthenticated"],[30,21,15,17],[30,24,15,17,"_ref"],[30,28,15,17],[30,29,15,2,"isAuthenticated"],[30,44,15,17],[31,6,16,2,"setUser"],[31,13,16,9],[31,16,16,9,"_ref"],[31,20,16,9],[31,21,16,2,"setUser"],[31,28,16,9],[32,6,17,2,"setQuestion"],[32,17,17,13],[32,20,17,13,"_ref"],[32,24,17,13],[32,25,17,2,"setQuestion"],[32,36,17,13],[33,6,18,2,"setProgress"],[33,17,18,13],[33,20,18,13,"_ref"],[33,24,18,13],[33,25,18,2,"setProgress"],[33,36,18,13],[34,6,19,2,"setError"],[34,14,19,10],[34,17,19,10,"_ref"],[34,21,19,10],[34,22,19,2,"setError"],[34,30,19,10],[35,6,20,2,"setLoading"],[35,16,20,12],[35,19,20,12,"_ref"],[35,23,20,12],[35,24,20,2,"setLoading"],[35,34,20,12],[36,6,21,2,"setTransitionMessage"],[36,26,21,22],[36,29,21,22,"_ref"],[36,33,21,22],[36,34,21,2,"setTransitionMessage"],[36,54,21,22],[37,6,22,2,"setTransitionDurationMs"],[37,29,22,25],[37,32,22,25,"_ref"],[37,36,22,25],[37,37,22,2,"setTransitionDurationMs"],[37,60,22,25],[38,6,23,2,"setPendingOutcomeNav"],[38,26,23,22],[38,29,23,22,"_ref"],[38,33,23,22],[38,34,23,2,"setPendingOutcomeNav"],[38,54,23,22],[39,6,24,2,"setShowingTransition"],[39,26,24,22],[39,29,24,22,"_ref"],[39,33,24,22],[39,34,24,2,"setShowingTransition"],[39,54,24,22],[40,6,25,2,"setPendingQuestion"],[40,24,25,20],[40,27,25,20,"_ref"],[40,31,25,20],[40,32,25,2,"setPendingQuestion"],[40,50,25,20],[41,6,26,2,"setPendingProgress"],[41,24,26,20],[41,27,26,20,"_ref"],[41,31,26,20],[41,32,26,2,"setPendingProgress"],[41,50,26,20],[42,6,27,2,"progress"],[42,14,27,10],[42,17,27,10,"_ref"],[42,21,27,10],[42,22,27,2,"progress"],[42,30,27,10],[43,6,28,2,"router"],[43,12,28,8],[43,15,28,8,"_ref"],[43,19,28,8],[43,20,28,2,"router"],[43,26,28,8],[44,6,29,2,"setAudienceGenderUsed"],[44,27,29,23],[44,30,29,23,"_ref"],[44,34,29,23],[44,35,29,2,"setAudienceGenderUsed"],[44,56,29,23],[45,4,31,2],[45,8,31,8,"resetToOnboarding"],[45,25,31,25],[45,28,31,28],[45,32,31,28,"useCallback"],[45,38,31,39],[45,39,31,39,"useCallback"],[45,50,31,39],[45,69,31,39,"_asyncToGenerator"],[45,86,31,39],[45,87,31,39,"default"],[45,94,31,39],[45,96,31,40],[45,109,31,52],[46,6,32,4],[46,10,32,8],[47,8,33,6],[47,14,33,12,"AsyncStorage"],[47,26,33,24],[47,27,33,24,"default"],[47,34,33,24],[47,35,33,25,"removeItem"],[47,45,33,35],[47,46,33,36],[47,52,33,42],[47,53,33,43],[48,8,34,6],[48,14,34,12,"AsyncStorage"],[48,26,34,24],[48,27,34,24,"default"],[48,34,34,24],[48,35,34,25,"removeItem"],[48,45,34,35],[48,46,34,36],[48,63,34,53],[48,64,34,54],[49,6,35,4],[49,7,35,5],[49,8,35,6],[49,15,35,13,"e"],[49,16,35,14],[49,18,35,16],[50,8,36,6,"console"],[50,15,36,13],[50,16,36,14,"error"],[50,21,36,19],[50,22,36,20,"e"],[50,23,36,21],[50,24,36,22],[51,6,37,4],[52,6,39,4,"router"],[52,12,39,10],[52,13,39,11,"replace"],[52,20,39,18],[52,21,39,19],[52,34,39,32],[52,35,39,33],[53,4,40,2],[53,5,40,3],[53,8,40,5],[53,9,40,6,"router"],[53,15,40,12],[53,16,40,13],[53,17,40,14],[54,4,42,2],[54,8,42,8,"ensureLegacyUserFromAuth"],[54,32,42,32],[54,35,42,35],[54,39,42,35,"useCallback"],[54,45,42,46],[54,46,42,46,"useCallback"],[54,57,42,46],[54,76,42,46,"_asyncToGenerator"],[54,93,42,46],[54,94,42,46,"default"],[54,101,42,46],[54,103,42,47],[54,116,42,59],[55,6,43,4],[55,10,43,8],[56,8,44,6],[56,12,44,10],[56,13,44,11,"authReady"],[56,22,44,20],[56,26,44,24],[56,27,44,25,"isAuthenticated"],[56,42,44,40],[56,44,44,42],[57,10,45,8],[57,17,45,15],[57,21,45,19],[58,8,46,6],[59,8,48,6],[59,12,48,12,"jwt"],[59,15,48,15],[59,18,48,18,"auth"],[59,22,48,22],[59,24,48,24,"jwt"],[59,27,48,27],[60,8,49,6],[60,12,49,10],[60,13,49,11,"jwt"],[60,16,49,14],[60,18,49,16],[61,10,50,8],[61,17,50,15],[61,21,50,19],[62,8,51,6],[63,8,53,6],[63,12,53,12,"resp"],[63,16,53,16],[63,25,53,25,"fetch"],[63,30,53,30],[63,31,53,31,"apiUrl"],[63,37,53,37],[63,38,53,38],[63,57,53,57],[63,58,53,58],[63,60,53,60],[64,10,54,8,"method"],[64,16,54,14],[64,18,54,16],[64,23,54,21],[65,10,55,8,"headers"],[65,17,55,15],[65,19,55,17],[66,12,56,10,"Authorization"],[66,25,56,23],[66,27,56,25],[66,37,56,35,"jwt"],[66,40,56,38],[67,10,57,8],[68,8,58,6],[68,9,58,7],[68,10,58,8],[69,8,60,6],[69,12,60,10],[69,13,60,11,"resp"],[69,17,60,15],[69,18,60,16,"ok"],[69,20,60,18],[69,22,60,20],[70,10,61,8],[70,14,61,14,"text"],[70,18,61,18],[70,27,61,27,"resp"],[70,31,61,31],[70,32,61,32,"text"],[70,36,61,36],[70,37,61,37],[70,38,61,38],[70,39,61,39,"catch"],[70,44,61,44],[70,45,61,45],[70,51,61,51],[70,53,61,53],[70,54,61,54],[71,10,62,8],[71,16,62,14],[71,20,62,18,"Error"],[71,25,62,23],[71,26,63,10],[71,79,63,63,"resp"],[71,83,63,67],[71,84,63,68,"status"],[71,90,63,74],[71,95,63,79,"resp"],[71,99,63,83],[71,100,63,84,"statusText"],[71,110,63,94],[71,114,63,98,"text"],[71,118,63,102],[71,120,64,8],[71,121,64,9],[72,8,65,6],[73,8,67,6],[73,12,67,12,"json"],[73,16,67,16],[73,25,67,25,"resp"],[73,29,67,29],[73,30,67,30,"json"],[73,34,67,34],[73,35,67,35],[73,36,67,36],[73,37,67,37,"catch"],[73,42,67,42],[73,43,67,43],[73,49,67,49],[73,53,67,53],[73,54,67,54],[74,8,68,6],[74,12,68,12,"ensuredUser"],[74,23,68,23],[74,26,68,26,"json"],[74,30,68,30],[74,32,68,32,"user"],[74,36,68,36],[74,40,68,40],[74,44,68,44],[75,8,70,6],[75,12,70,10,"ensuredUser"],[75,23,70,21],[75,25,70,23,"id"],[75,27,70,25],[75,29,70,27],[76,10,71,8],[76,16,71,14,"AsyncStorage"],[76,28,71,26],[76,29,71,26,"default"],[76,36,71,26],[76,37,71,27,"setItem"],[76,44,71,34],[76,45,71,35],[76,51,71,41],[76,53,71,43,"JSON"],[76,57,71,47],[76,58,71,48,"stringify"],[76,67,71,57],[76,68,71,58,"ensuredUser"],[76,79,71,69],[76,80,71,70],[76,81,71,71],[77,10,72,8,"setUser"],[77,17,72,15],[77,18,72,16,"ensuredUser"],[77,29,72,27],[77,30,72,28],[78,10,73,8],[78,17,73,15,"ensuredUser"],[78,28,73,26],[79,8,74,6],[80,8,76,6],[80,15,76,13],[80,19,76,17],[81,6,77,4],[81,7,77,5],[81,8,77,6],[81,15,77,13,"e"],[81,16,77,14],[81,18,77,16],[82,8,78,6,"console"],[82,15,78,13],[82,16,78,14,"error"],[82,21,78,19],[82,22,78,20,"e"],[82,23,78,21],[82,24,78,22],[83,8,79,6],[83,15,79,13],[83,19,79,17],[84,6,80,4],[85,4,81,2],[85,5,81,3],[85,8,81,5],[85,9,81,6,"apiUrl"],[85,15,81,12],[85,17,81,14,"auth"],[85,21,81,18],[85,23,81,20,"jwt"],[85,26,81,23],[85,28,81,25,"authReady"],[85,37,81,34],[85,39,81,36,"isAuthenticated"],[85,54,81,51],[85,56,81,53,"setUser"],[85,63,81,60],[85,64,81,61],[85,65,81,62],[86,4,83,2],[86,8,83,8,"ensureProfileGenderMatchesUser"],[86,38,83,38],[86,41,83,41],[86,45,83,41,"useCallback"],[86,51,83,52],[86,52,83,52,"useCallback"],[86,63,83,52],[87,6,83,52],[87,10,83,52,"_ref4"],[87,15,83,52],[87,22,83,52,"_asyncToGenerator"],[87,39,83,52],[87,40,83,52,"default"],[87,47,83,52],[87,49,84,4],[87,60,84,11,"u"],[87,61,84,12],[87,63,84,17],[88,8,85,6],[88,12,85,10],[89,10,86,8],[89,14,86,14,"desired"],[89,21,86,21],[89,24,86,24,"u"],[89,25,86,25],[89,27,86,27,"gender"],[89,33,86,33],[90,10,87,8],[90,14,87,12,"desired"],[90,21,87,19],[90,26,87,24],[90,32,87,30],[90,36,87,34,"desired"],[90,43,87,41],[90,48,87,46],[90,56,87,54],[90,58,87,56],[91,12,88,10],[92,10,89,8],[93,10,91,8],[93,14,91,14,"userId"],[93,20,91,20],[93,23,91,23,"Number"],[93,29,91,29],[93,30,91,30,"u"],[93,31,91,31],[93,33,91,33,"id"],[93,35,91,35],[93,36,91,36],[94,10,92,8],[94,14,92,12],[94,15,92,13,"Number"],[94,21,92,19],[94,22,92,20,"isFinite"],[94,30,92,28],[94,31,92,29,"userId"],[94,37,92,35],[94,38,92,36],[94,40,92,38],[95,12,93,10],[96,10,94,8],[97,10,96,8],[97,14,96,14,"resp"],[97,18,96,18],[97,27,96,27,"fetch"],[97,32,96,32],[97,33,96,33,"apiUrl"],[97,39,96,39],[97,40,96,40],[97,66,96,66,"userId"],[97,72,96,72],[97,74,96,74],[97,75,96,75],[97,76,96,76],[98,10,97,8],[98,14,97,12],[98,15,97,13,"resp"],[98,19,97,17],[98,20,97,18,"ok"],[98,22,97,20],[98,24,97,22],[99,12,98,10],[100,10,99,8],[101,10,101,8],[101,14,101,14,"json"],[101,18,101,18],[101,27,101,27,"resp"],[101,31,101,31],[101,32,101,32,"json"],[101,36,101,36],[101,37,101,37],[101,38,101,38],[101,39,101,39,"catch"],[101,44,101,44],[101,45,101,45],[101,51,101,51],[101,55,101,55],[101,56,101,56],[102,10,102,8],[102,14,102,14,"profile"],[102,21,102,21],[102,24,102,24,"json"],[102,28,102,28],[102,30,102,30,"profile"],[102,37,102,37],[102,41,102,41],[102,45,102,45],[103,10,103,8],[103,14,103,14,"current"],[103,21,103,21],[103,24,103,24,"profile"],[103,31,103,31],[103,33,103,33,"gender"],[103,39,103,39],[104,10,105,8],[104,14,105,12,"current"],[104,21,105,19],[104,26,105,24,"desired"],[104,33,105,31],[104,35,105,33],[105,12,106,10],[106,10,107,8],[107,10,109,8],[107,16,109,14,"fetch"],[107,21,109,19],[107,22,109,20,"apiUrl"],[107,28,109,26],[107,29,109,27],[107,46,109,44],[107,47,109,45],[107,49,109,47],[108,12,110,10,"method"],[108,18,110,16],[108,20,110,18],[108,25,110,23],[109,12,111,10,"headers"],[109,19,111,17],[109,21,111,19],[110,14,111,21],[110,28,111,35],[110,30,111,37],[111,12,111,56],[111,13,111,57],[112,12,112,10,"body"],[112,16,112,14],[112,18,112,16,"JSON"],[112,22,112,20],[112,23,112,21,"stringify"],[112,32,112,30],[112,33,112,31],[113,14,113,12,"userId"],[113,20,113,18],[114,14,114,12,"gender"],[114,20,114,18],[114,22,114,20,"desired"],[115,12,115,10],[115,13,115,11],[116,10,116,8],[116,11,116,9],[116,12,116,10],[116,13,116,11,"catch"],[116,18,116,16],[116,19,116,17],[116,25,116,23],[116,29,116,27],[116,30,116,28],[117,8,117,6],[117,9,117,7],[117,10,117,8],[117,17,117,15,"e"],[117,18,117,16],[117,20,117,18],[118,10,118,8,"console"],[118,17,118,15],[118,18,118,16,"error"],[118,23,118,21],[118,24,118,22,"e"],[118,25,118,23],[118,26,118,24],[119,8,119,6],[120,6,120,4],[120,7,120,5],[121,6,120,5],[121,23,120,5,"_x"],[121,25,120,5],[122,8,120,5],[122,15,120,5,"_ref4"],[122,20,120,5],[122,21,120,5,"apply"],[122,26,120,5],[122,33,120,5,"arguments"],[122,42,120,5],[123,6,120,5],[124,4,120,5],[124,9,121,4],[124,10,121,5,"apiUrl"],[124,16,121,11],[124,17,122,2],[124,18,122,3],[125,4,124,2],[125,8,124,8,"startQuiz"],[125,17,124,17],[125,20,124,20],[125,24,124,20,"useCallback"],[125,30,124,31],[125,31,124,31,"useCallback"],[125,42,124,31],[126,6,124,31],[126,10,124,31,"_ref5"],[126,15,124,31],[126,22,124,31,"_asyncToGenerator"],[126,39,124,31],[126,40,124,31,"default"],[126,47,124,31],[126,49,125,4],[126,60,125,11,"userId"],[126,66,125,17],[126,68,125,33],[127,8,125,33],[127,12,125,19,"opts"],[127,16,125,23],[127,19,125,23,"arguments"],[127,28,125,23],[127,29,125,23,"length"],[127,35,125,23],[127,43,125,23,"arguments"],[127,52,125,23],[127,60,125,23,"undefined"],[127,69,125,23],[127,72,125,23,"arguments"],[127,81,125,23],[127,87,125,26],[127,88,125,27],[127,89,125,28],[128,8,126,6],[128,12,126,10],[129,10,127,8,"setError"],[129,18,127,16],[129,19,127,17],[129,23,127,21],[129,24,127,22],[130,10,128,8],[131,10,129,8],[131,14,129,12],[131,21,129,19,"setAudienceGenderUsed"],[131,42,129,40],[131,47,129,45],[131,57,129,55],[131,59,129,57],[132,12,130,10,"setAudienceGenderUsed"],[132,33,130,31],[132,34,130,32],[132,38,130,36],[132,39,130,37],[133,10,131,8],[134,10,133,8],[134,14,133,14,"audienceGender"],[134,28,133,28],[134,31,133,31,"opts"],[134,35,133,35],[134,37,133,37,"audienceGender"],[134,51,133,51],[135,10,134,8],[135,14,134,14,"response"],[135,22,134,22],[135,31,134,31,"fetch"],[135,36,134,36],[135,37,134,37,"apiUrl"],[135,43,134,43],[135,44,134,44],[135,61,134,61],[135,62,134,62],[135,64,134,64],[136,12,135,10,"method"],[136,18,135,16],[136,20,135,18],[136,26,135,24],[137,12,136,10,"headers"],[137,19,136,17],[137,21,136,19],[138,14,136,21],[138,28,136,35],[138,30,136,37],[139,12,136,56],[139,13,136,57],[140,12,137,10,"body"],[140,16,137,14],[140,18,137,16,"JSON"],[140,22,137,20],[140,23,137,21,"stringify"],[140,32,137,30],[140,33,137,31],[141,14,138,12,"userId"],[141,20,138,18],[141,22,138,20,"Number"],[141,28,138,26],[141,29,138,27,"userId"],[141,35,138,33],[141,36,138,34],[142,14,139,12],[143,14,140,12,"audienceGender"],[144,12,141,10],[144,13,141,11],[145,10,142,8],[145,11,142,9],[145,12,142,10],[146,10,144,8],[146,14,144,12],[146,15,144,13,"response"],[146,23,144,21],[146,24,144,22,"ok"],[146,26,144,24],[146,28,144,26],[147,12,145,10],[147,16,145,14,"response"],[147,24,145,22],[147,25,145,23,"status"],[147,31,145,29],[147,36,145,34],[147,39,145,37],[147,41,145,39],[148,14,146,12],[148,18,146,18,"ensured"],[148,25,146,25],[148,34,146,34,"ensureLegacyUserFromAuth"],[148,58,146,58],[148,59,146,59],[148,60,146,60],[149,14,147,12],[149,18,147,16,"ensured"],[149,25,147,23],[149,27,147,25,"id"],[149,29,147,27],[149,31,147,29],[150,16,148,14],[150,29,148,27,"startQuiz"],[150,38,148,36],[150,39,148,37,"ensured"],[150,46,148,44],[150,47,148,45,"id"],[150,49,148,47],[150,51,148,49],[151,18,149,16,"audienceGender"],[151,32,149,30],[151,34,149,32,"ensured"],[151,41,149,39],[151,43,149,41,"gender"],[152,16,150,14],[152,17,150,15],[152,18,150,16],[153,14,151,12],[154,14,153,12,"setError"],[154,22,153,20],[154,23,153,21],[155,16,153,23,"message"],[155,23,153,30],[155,25,153,32],[155,52,153,59],[156,16,153,61,"type"],[156,20,153,65],[156,22,153,67],[157,14,153,77],[157,15,153,78],[157,16,153,79],[158,14,154,12,"setTimeout"],[158,24,154,22],[158,25,154,23],[158,31,154,29],[159,16,155,14,"resetToOnboarding"],[159,33,155,31],[159,34,155,32],[159,35,155,33],[160,14,156,12],[160,15,156,13],[160,17,156,15],[160,20,156,18],[160,21,156,19],[161,14,157,12],[162,12,158,10],[163,12,160,10],[163,16,160,14,"response"],[163,24,160,22],[163,25,160,23,"status"],[163,31,160,29],[163,36,160,34],[163,39,160,37],[163,41,160,39],[164,14,161,12,"setError"],[164,22,161,20],[164,23,161,21],[165,16,162,14,"message"],[165,23,162,21],[165,25,162,23],[165,55,162,53],[166,16,163,14,"type"],[166,20,163,18],[166,22,163,20],[167,14,164,12],[167,15,164,13],[167,16,164,14],[168,14,165,12,"setTimeout"],[168,24,165,22],[168,25,165,23],[168,31,165,29],[169,16,166,14,"router"],[169,22,166,20],[169,23,166,21,"replace"],[169,30,166,28],[169,31,166,29],[169,48,166,46],[169,49,166,47],[170,14,167,12],[170,15,167,13],[170,17,167,15],[170,20,167,18],[170,21,167,19],[171,14,168,12],[172,12,169,10],[173,12,171,10],[173,16,171,16,"text"],[173,20,171,20],[173,29,171,29,"response"],[173,37,171,37],[173,38,171,38,"text"],[173,42,171,42],[173,43,171,43],[173,44,171,44],[173,45,171,45,"catch"],[173,50,171,50],[173,51,171,51],[173,57,171,57],[173,59,171,59],[173,60,171,60],[174,12,172,10],[174,18,172,16],[174,22,172,20,"Error"],[174,27,172,25],[174,28,173,12],[174,59,173,43,"response"],[174,67,173,51],[174,68,173,52,"status"],[174,74,173,58],[174,79,173,63,"response"],[174,87,173,71],[174,88,173,72,"statusText"],[174,98,173,82],[174,102,173,86,"text"],[174,106,173,90],[174,108,174,10],[174,109,174,11],[175,10,175,8],[176,10,177,8],[176,14,177,14,"data"],[176,18,177,18],[176,27,177,27,"response"],[176,35,177,35],[176,36,177,36,"json"],[176,40,177,40],[176,41,177,41],[176,42,177,42],[178,10,179,8],[179,10,180,8],[179,14,180,12,"data"],[179,18,180,16],[179,20,180,18,"audienceGenderUsed"],[179,38,180,36],[179,40,180,38],[180,12,181,10],[180,16,181,14],[180,23,181,21,"setAudienceGenderUsed"],[180,44,181,42],[180,49,181,47],[180,59,181,57],[180,61,181,59],[181,14,182,12,"setAudienceGenderUsed"],[181,35,182,33],[181,36,182,34,"String"],[181,42,182,40],[181,43,182,41,"data"],[181,47,182,45],[181,48,182,46,"audienceGenderUsed"],[181,66,182,64],[181,67,182,65],[181,68,182,66],[182,12,183,10],[183,12,184,10,"console"],[183,19,184,17],[183,20,184,18,"log"],[183,23,184,21],[183,24,184,22],[183,52,184,50],[183,54,184,52,"data"],[183,58,184,56],[183,59,184,57,"audienceGenderUsed"],[183,77,184,75],[183,78,184,76],[184,10,185,8],[185,10,187,8],[185,14,187,12,"data"],[185,18,187,16],[185,19,187,17,"outcome"],[185,26,187,24],[185,28,187,26],[186,12,188,10,"setTransitionMessage"],[186,32,188,30],[186,33,188,31],[186,57,188,55],[186,58,188,56],[187,12,189,10,"setTransitionDurationMs"],[187,35,189,33],[187,36,189,34],[187,40,189,38],[187,43,189,41,"Math"],[187,47,189,45],[187,48,189,46,"floor"],[187,53,189,51],[187,54,189,52,"Math"],[187,58,189,56],[187,59,189,57,"random"],[187,65,189,63],[187,66,189,64],[187,67,189,65],[187,70,189,68],[187,73,189,71],[187,74,189,72],[187,75,189,73],[188,12,191,10],[188,16,191,14,"data"],[188,20,191,18],[188,21,191,19,"outcome"],[188,28,191,26],[188,33,191,31],[188,43,191,41],[188,45,191,43],[189,14,192,12],[189,18,192,16],[190,16,193,14],[190,20,193,20,"raw"],[190,23,193,23],[190,32,193,32,"AsyncStorage"],[190,44,193,44],[190,45,193,44,"default"],[190,52,193,44],[190,53,193,45,"getItem"],[190,60,193,52],[190,61,193,53],[190,67,193,59],[190,68,193,60],[191,16,194,14],[191,20,194,18,"raw"],[191,23,194,21],[191,25,194,23],[192,18,195,16],[192,22,195,22,"u"],[192,23,195,23],[192,26,195,26,"JSON"],[192,30,195,30],[192,31,195,31,"parse"],[192,36,195,36],[192,37,195,37,"raw"],[192,40,195,40],[192,41,195,41],[193,18,196,16],[193,22,196,22,"next"],[193,26,196,26],[193,29,196,29],[194,20,197,18],[194,24,197,22,"u"],[194,25,197,23],[194,29,197,27],[194,30,197,28],[194,31,197,29],[194,32,197,30],[195,20,198,18,"status"],[195,26,198,24],[195,28,198,26],[195,38,198,36],[196,20,199,18,"cooldownUntil"],[196,33,199,31],[196,35,199,33,"data"],[196,39,199,37],[196,40,199,38,"cooldownUntil"],[196,53,199,51],[196,57,199,55,"u"],[196,58,199,56],[196,59,199,57,"cooldownUntil"],[197,18,200,16],[197,19,200,17],[198,18,201,16],[198,24,201,22,"AsyncStorage"],[198,36,201,34],[198,37,201,34,"default"],[198,44,201,34],[198,45,201,35,"setItem"],[198,52,201,42],[198,53,201,43],[198,59,201,49],[198,61,201,51,"JSON"],[198,65,201,55],[198,66,201,56,"stringify"],[198,75,201,65],[198,76,201,66,"next"],[198,80,201,70],[198,81,201,71],[198,82,201,72],[199,16,202,14],[200,14,203,12],[200,15,203,13],[200,16,203,14],[200,22,203,20],[201,16,204,14],[202,14,204,14],[203,14,207,12,"setPendingOutcomeNav"],[203,34,207,32],[203,35,207,33],[204,16,208,14,"outcome"],[204,23,208,21],[204,25,208,23],[204,35,208,33],[205,16,209,14,"cooldownUntil"],[205,29,209,27],[205,31,209,29,"data"],[205,35,209,33],[205,36,209,34,"cooldownUntil"],[206,14,210,12],[206,15,210,13],[206,16,210,14],[207,12,211,10],[207,13,211,11],[207,19,211,17],[208,14,212,12,"setPendingOutcomeNav"],[208,34,212,32],[208,35,212,33],[209,16,212,35,"outcome"],[209,23,212,42],[209,25,212,44,"data"],[209,29,212,48],[209,30,212,49,"outcome"],[210,14,212,57],[210,15,212,58],[210,16,212,59],[211,12,213,10],[212,12,215,10,"setShowingTransition"],[212,32,215,30],[212,33,215,31],[212,37,215,35],[212,38,215,36],[213,12,216,10],[214,10,217,8],[215,10,219,8],[215,14,219,12],[215,15,219,13,"data"],[215,19,219,17],[215,20,219,18,"question"],[215,28,219,26],[215,32,219,30],[215,33,219,31,"Array"],[215,38,219,36],[215,39,219,37,"isArray"],[215,46,219,44],[215,47,219,45,"data"],[215,51,219,49],[215,52,219,50,"question"],[215,60,219,58],[215,61,219,59,"answers"],[215,68,219,66],[215,69,219,67],[215,71,219,69],[216,12,220,10,"setError"],[216,20,220,18],[216,21,220,19],[217,14,221,12,"message"],[217,21,221,19],[217,23,221,21],[217,80,221,78],[218,14,222,12,"type"],[218,18,222,16],[218,20,222,18],[219,12,223,10],[219,13,223,11],[219,14,223,12],[220,12,224,10],[221,10,225,8],[222,10,227,8,"setQuestion"],[222,21,227,19],[222,22,227,20,"data"],[222,26,227,24],[222,27,227,25,"question"],[222,35,227,33],[222,36,227,34],[223,10,228,8,"setProgress"],[223,21,228,19],[223,22,229,10,"data"],[223,26,229,14],[223,27,229,15,"progress"],[223,35,229,23],[223,39,229,27],[224,12,229,29,"step"],[224,16,229,33],[224,18,229,35],[224,19,229,36],[225,12,229,38,"totalSteps"],[225,22,229,48],[225,24,229,50],[225,25,229,51],[226,12,229,53,"currentPhase"],[226,24,229,65],[226,26,229,67],[227,10,229,77],[227,11,230,8],[227,12,230,9],[228,8,231,6],[228,9,231,7],[228,10,231,8],[228,17,231,15,"err"],[228,20,231,18],[228,22,231,20],[229,10,232,8,"console"],[229,17,232,15],[229,18,232,16,"error"],[229,23,232,21],[229,24,232,22],[229,46,232,44],[229,48,232,46,"err"],[229,51,232,49],[229,52,232,50],[230,10,233,8,"setError"],[230,18,233,16],[230,19,233,17],[231,12,234,10,"message"],[231,19,234,17],[231,21,235,12,"err"],[231,24,235,15],[231,26,235,17,"message"],[231,33,235,24],[231,37,235,28],[231,87,235,78],[232,12,236,10,"type"],[232,16,236,14],[232,18,236,16],[233,10,237,8],[233,11,237,9],[233,12,237,10],[234,10,238,8,"Alert"],[234,22,238,13],[234,23,238,13,"Alert"],[234,28,238,13],[234,29,238,14,"alert"],[234,34,238,19],[234,35,239,10],[234,62,239,37],[234,64,240,10,"err"],[234,67,240,13],[234,69,240,15,"message"],[234,76,240,22],[234,80,240,26],[234,99,241,8],[234,100,241,9],[235,8,242,6],[235,9,242,7],[235,18,242,16],[236,10,243,8,"setLoading"],[236,20,243,18],[236,21,243,19],[236,26,243,24],[236,27,243,25],[237,8,244,6],[238,6,245,4],[238,7,245,5],[239,6,245,5],[239,23,245,5,"_x2"],[239,26,245,5],[240,8,245,5],[240,15,245,5,"_ref5"],[240,20,245,5],[240,21,245,5,"apply"],[240,26,245,5],[240,33,245,5,"arguments"],[240,42,245,5],[241,6,245,5],[242,4,245,5],[242,9,246,4],[242,10,247,6,"apiUrl"],[242,16,247,12],[242,18,248,6,"ensureLegacyUserFromAuth"],[242,42,248,30],[242,44,249,6,"resetToOnboarding"],[242,61,249,23],[242,63,250,6,"router"],[242,69,250,12],[242,71,251,6,"setAudienceGenderUsed"],[242,92,251,27],[242,94,252,6,"setError"],[242,102,252,14],[242,104,253,6,"setLoading"],[242,114,253,16],[242,116,254,6,"setPendingOutcomeNav"],[242,136,254,26],[242,138,255,6,"setProgress"],[242,149,255,17],[242,151,256,6,"setQuestion"],[242,162,256,17],[242,164,257,6,"setShowingTransition"],[242,184,257,26],[242,186,258,6,"setTransitionDurationMs"],[242,209,258,29],[242,211,259,6,"setTransitionMessage"],[242,231,259,26],[242,232,261,2],[242,233,261,3],[243,4,263,2],[243,8,263,8,"loadUserAndStartQuiz"],[243,28,263,28],[243,31,263,31],[243,35,263,31,"useCallback"],[243,41,263,42],[243,42,263,42,"useCallback"],[243,53,263,42],[243,72,263,42,"_asyncToGenerator"],[243,89,263,42],[243,90,263,42,"default"],[243,97,263,42],[243,99,263,43],[243,112,263,55],[244,6,264,4],[244,10,264,8],[245,8,265,6],[245,12,265,12,"userData"],[245,20,265,20],[245,29,265,29,"AsyncStorage"],[245,41,265,41],[245,42,265,41,"default"],[245,49,265,41],[245,50,265,42,"getItem"],[245,57,265,49],[245,58,265,50],[245,64,265,56],[245,65,265,57],[246,8,266,6],[246,12,266,10],[246,13,266,11,"userData"],[246,21,266,19],[246,23,266,21],[247,10,267,8],[247,14,267,14,"ensured"],[247,21,267,21],[247,30,267,30,"ensureLegacyUserFromAuth"],[247,54,267,54],[247,55,267,55],[247,56,267,56],[248,10,268,8],[248,14,268,12],[248,15,268,13,"ensured"],[248,22,268,20],[248,24,268,22,"id"],[248,26,268,24],[248,28,268,26],[249,12,269,10,"setError"],[249,20,269,18],[249,21,269,19],[250,14,270,12,"message"],[250,21,270,19],[250,23,270,21],[250,63,270,61],[251,14,271,12,"type"],[251,18,271,16],[251,20,271,18],[252,12,272,10],[252,13,272,11],[252,14,272,12],[253,12,273,10,"setLoading"],[253,22,273,20],[253,23,273,21],[253,28,273,26],[253,29,273,27],[254,12,274,10],[255,10,275,8],[256,10,277,8,"setUser"],[256,17,277,15],[256,18,277,16,"ensured"],[256,25,277,23],[256,26,277,24],[257,10,278,8],[257,16,278,14,"startQuiz"],[257,25,278,23],[257,26,278,24,"ensured"],[257,33,278,31],[257,34,278,32,"id"],[257,36,278,34],[257,38,278,36],[258,12,278,38,"audienceGender"],[258,26,278,52],[258,28,278,54,"ensured"],[258,35,278,61],[258,37,278,63,"gender"],[259,10,278,70],[259,11,278,71],[259,12,278,72],[260,10,279,8],[261,8,280,6],[262,8,282,6],[262,12,282,12,"parsedUser"],[262,22,282,22],[262,25,282,25,"JSON"],[262,29,282,29],[262,30,282,30,"parse"],[262,35,282,35],[262,36,282,36,"userData"],[262,44,282,44],[262,45,282,45],[263,8,283,6],[263,12,283,10],[263,13,283,11,"parsedUser"],[263,23,283,21],[263,25,283,23,"id"],[263,27,283,25],[263,29,283,27],[264,10,284,8,"setError"],[264,18,284,16],[264,19,284,17],[265,12,285,10,"message"],[265,19,285,17],[265,21,285,19],[265,68,285,66],[266,12,286,10,"type"],[266,16,286,14],[266,18,286,16],[267,10,287,8],[267,11,287,9],[267,12,287,10],[268,10,288,8,"setLoading"],[268,20,288,18],[268,21,288,19],[268,26,288,24],[268,27,288,25],[269,10,289,8],[270,8,290,6],[271,8,292,6,"setUser"],[271,15,292,13],[271,16,292,14,"parsedUser"],[271,26,292,24],[271,27,292,25],[272,8,293,6],[272,14,293,12,"ensureProfileGenderMatchesUser"],[272,44,293,42],[272,45,293,43,"parsedUser"],[272,55,293,53],[272,56,293,54],[273,8,294,6],[273,14,294,12,"startQuiz"],[273,23,294,21],[273,24,294,22,"parsedUser"],[273,34,294,32],[273,35,294,33,"id"],[273,37,294,35],[273,39,294,37],[274,10,294,39,"audienceGender"],[274,24,294,53],[274,26,294,55,"parsedUser"],[274,36,294,65],[274,38,294,67,"gender"],[275,8,294,74],[275,9,294,75],[275,10,294,76],[276,6,295,4],[276,7,295,5],[276,8,295,6],[276,15,295,13,"e"],[276,16,295,14],[276,18,295,16],[277,8,296,6,"console"],[277,15,296,13],[277,16,296,14,"error"],[277,21,296,19],[277,22,296,20,"e"],[277,23,296,21],[277,24,296,22],[278,8,297,6,"setError"],[278,16,297,14],[278,17,297,15],[279,10,298,8,"message"],[279,17,298,15],[279,19,298,17],[279,65,298,63],[280,10,299,8,"type"],[280,14,299,12],[280,16,299,14],[281,8,300,6],[281,9,300,7],[281,10,300,8],[282,8,301,6,"setLoading"],[282,18,301,16],[282,19,301,17],[282,24,301,22],[282,25,301,23],[283,6,302,4],[284,4,303,2],[284,5,303,3],[284,8,303,5],[284,9,304,4,"ensureLegacyUserFromAuth"],[284,33,304,28],[284,35,305,4,"ensureProfileGenderMatchesUser"],[284,65,305,34],[284,67,306,4,"setError"],[284,75,306,12],[284,77,307,4,"setLoading"],[284,87,307,14],[284,89,308,4,"setUser"],[284,96,308,11],[284,98,309,4,"startQuiz"],[284,107,309,13],[284,108,310,3],[284,109,310,4],[285,4,312,2],[285,8,312,8,"submitAnswer"],[285,20,312,20],[285,23,312,23],[285,27,312,23,"useCallback"],[285,33,312,34],[285,34,312,34,"useCallback"],[285,45,312,34],[286,6,312,34],[286,10,312,34,"_ref7"],[286,15,312,34],[286,22,312,34,"_asyncToGenerator"],[286,39,312,34],[286,40,312,34,"default"],[286,47,312,34],[286,49,313,4],[286,60,313,11,"user"],[286,64,313,15],[286,66,313,17,"question"],[286,74,313,25],[286,76,313,27,"selectedAnswerIds"],[286,93,313,44],[286,95,313,49],[287,8,314,6],[287,12,314,10],[288,10,315,8],[288,14,315,14,"response"],[288,22,315,22],[288,31,315,31,"fetch"],[288,36,315,36],[288,37,315,37,"apiUrl"],[288,43,315,43],[288,44,315,44],[288,62,315,62],[288,63,315,63],[288,65,315,65],[289,12,316,10,"method"],[289,18,316,16],[289,20,316,18],[289,26,316,24],[290,12,317,10,"headers"],[290,19,317,17],[290,21,317,19],[291,14,317,21],[291,28,317,35],[291,30,317,37],[292,12,317,56],[292,13,317,57],[293,12,318,10,"body"],[293,16,318,14],[293,18,318,16,"JSON"],[293,22,318,20],[293,23,318,21,"stringify"],[293,32,318,30],[293,33,318,31],[294,14,319,12,"userId"],[294,20,319,18],[294,22,319,20,"Number"],[294,28,319,26],[294,29,319,27,"user"],[294,33,319,31],[294,34,319,32,"id"],[294,36,319,34],[294,37,319,35],[295,14,320,12,"questionId"],[295,24,320,22],[295,26,320,24,"question"],[295,34,320,32],[295,35,320,33,"id"],[295,37,320,35],[296,14,321,12,"answerIds"],[296,23,321,21],[296,25,321,23,"selectedAnswerIds"],[297,12,322,10],[297,13,322,11],[298,10,323,8],[298,11,323,9],[298,12,323,10],[299,10,325,8],[299,14,325,12],[299,15,325,13,"response"],[299,23,325,21],[299,24,325,22,"ok"],[299,26,325,24],[299,28,325,26],[300,12,326,10],[300,16,326,14,"response"],[300,24,326,22],[300,25,326,23,"status"],[300,31,326,29],[300,36,326,34],[300,39,326,37],[300,41,326,39],[301,14,327,12,"setError"],[301,22,327,20],[301,23,327,21],[302,16,327,23,"message"],[302,23,327,30],[302,25,327,32],[302,52,327,59],[303,16,327,61,"type"],[303,20,327,65],[303,22,327,67],[304,14,327,77],[304,15,327,78],[304,16,327,79],[305,14,328,12,"setTimeout"],[305,24,328,22],[305,25,328,23],[305,31,328,29],[306,16,329,14,"resetToOnboarding"],[306,33,329,31],[306,34,329,32],[306,35,329,33],[307,14,330,12],[307,15,330,13],[307,17,330,15],[307,20,330,18],[307,21,330,19],[308,14,331,12],[308,21,331,19],[308,25,331,23],[309,12,332,10],[310,12,334,10],[310,16,334,14,"response"],[310,24,334,22],[310,25,334,23,"status"],[310,31,334,29],[310,36,334,34],[310,39,334,37],[310,41,334,39],[311,14,335,12,"setError"],[311,22,335,20],[311,23,335,21],[312,16,336,14,"message"],[312,23,336,21],[312,25,336,23],[312,55,336,53],[313,16,337,14,"type"],[313,20,337,18],[313,22,337,20],[314,14,338,12],[314,15,338,13],[314,16,338,14],[315,14,339,12,"setTimeout"],[315,24,339,22],[315,25,339,23],[315,31,339,29],[316,16,340,14,"router"],[316,22,340,20],[316,23,340,21,"replace"],[316,30,340,28],[316,31,340,29],[316,48,340,46],[316,49,340,47],[317,14,341,12],[317,15,341,13],[317,17,341,15],[317,20,341,18],[317,21,341,19],[318,14,342,12],[318,21,342,19],[318,25,342,23],[319,12,343,10],[320,12,345,10],[320,16,345,16,"text"],[320,20,345,20],[320,29,345,29,"response"],[320,37,345,37],[320,38,345,38,"text"],[320,42,345,42],[320,43,345,43],[320,44,345,44],[320,45,345,45,"catch"],[320,50,345,50],[320,51,345,51],[320,57,345,57],[320,59,345,59],[320,60,345,60],[321,12,346,10],[321,18,346,16],[321,22,346,20,"Error"],[321,27,346,25],[321,28,347,12],[321,57,347,41,"response"],[321,65,347,49],[321,66,347,50,"status"],[321,72,347,56],[321,77,347,61,"response"],[321,85,347,69],[321,86,347,70,"statusText"],[321,96,347,80],[321,100,347,84,"text"],[321,104,347,88],[321,106,348,10],[321,107,348,11],[322,10,349,8],[323,10,351,8],[323,14,351,14,"data"],[323,18,351,18],[323,27,351,27,"response"],[323,35,351,35],[323,36,351,36,"json"],[323,40,351,40],[323,41,351,41],[323,42,351,42],[324,10,353,8],[324,14,353,12,"data"],[324,18,353,16],[324,19,353,17,"outcome"],[324,26,353,24],[324,28,353,26],[325,12,354,10,"setTransitionMessage"],[325,32,354,30],[325,33,354,31],[325,60,354,58],[325,61,354,59],[326,12,355,10,"setTransitionDurationMs"],[326,35,355,33],[326,36,355,34],[326,40,355,38],[326,43,355,41,"Math"],[326,47,355,45],[326,48,355,46,"floor"],[326,53,355,51],[326,54,355,52,"Math"],[326,58,355,56],[326,59,355,57,"random"],[326,65,355,63],[326,66,355,64],[326,67,355,65],[326,70,355,68],[326,73,355,71],[326,74,355,72],[326,75,355,73],[327,12,357,10],[327,16,357,14,"data"],[327,20,357,18],[327,21,357,19,"outcome"],[327,28,357,26],[327,33,357,31],[327,43,357,41],[327,45,357,43],[328,14,358,12],[328,18,358,16],[329,16,359,14],[329,20,359,20,"raw"],[329,23,359,23],[329,32,359,32,"AsyncStorage"],[329,44,359,44],[329,45,359,44,"default"],[329,52,359,44],[329,53,359,45,"getItem"],[329,60,359,52],[329,61,359,53],[329,67,359,59],[329,68,359,60],[330,16,360,14],[330,20,360,18,"raw"],[330,23,360,21],[330,25,360,23],[331,18,361,16],[331,22,361,22,"u"],[331,23,361,23],[331,26,361,26,"JSON"],[331,30,361,30],[331,31,361,31,"parse"],[331,36,361,36],[331,37,361,37,"raw"],[331,40,361,40],[331,41,361,41],[332,18,362,16],[332,22,362,22,"next"],[332,26,362,26],[332,29,362,29],[333,20,363,18],[333,24,363,22,"u"],[333,25,363,23],[333,29,363,27],[333,30,363,28],[333,31,363,29],[333,32,363,30],[334,20,364,18,"status"],[334,26,364,24],[334,28,364,26],[334,38,364,36],[335,20,365,18,"cooldownUntil"],[335,33,365,31],[335,35,365,33,"data"],[335,39,365,37],[335,40,365,38,"cooldownUntil"],[335,53,365,51],[335,57,365,55,"u"],[335,58,365,56],[335,59,365,57,"cooldownUntil"],[336,18,366,16],[336,19,366,17],[337,18,367,16],[337,24,367,22,"AsyncStorage"],[337,36,367,34],[337,37,367,34,"default"],[337,44,367,34],[337,45,367,35,"setItem"],[337,52,367,42],[337,53,367,43],[337,59,367,49],[337,61,367,51,"JSON"],[337,65,367,55],[337,66,367,56,"stringify"],[337,75,367,65],[337,76,367,66,"next"],[337,80,367,70],[337,81,367,71],[337,82,367,72],[338,16,368,14],[339,14,369,12],[339,15,369,13],[339,16,369,14],[339,22,369,20],[340,16,370,14],[341,14,370,14],[342,14,373,12,"setPendingOutcomeNav"],[342,34,373,32],[342,35,373,33],[343,16,374,14,"outcome"],[343,23,374,21],[343,25,374,23],[343,35,374,33],[344,16,375,14,"cooldownUntil"],[344,29,375,27],[344,31,375,29,"data"],[344,35,375,33],[344,36,375,34,"cooldownUntil"],[345,14,376,12],[345,15,376,13],[345,16,376,14],[346,12,377,10],[346,13,377,11],[346,19,377,17],[347,14,378,12,"setPendingOutcomeNav"],[347,34,378,32],[347,35,378,33],[348,16,378,35,"outcome"],[348,23,378,42],[348,25,378,44,"data"],[348,29,378,48],[348,30,378,49,"outcome"],[349,14,378,57],[349,15,378,58],[349,16,378,59],[350,12,379,10],[351,12,381,10,"setShowingTransition"],[351,32,381,30],[351,33,381,31],[351,37,381,35],[351,38,381,36],[352,12,382,10],[352,19,382,17],[352,23,382,21],[353,10,383,8],[354,10,385,8],[354,14,385,14,"newProgress"],[354,25,385,25],[354,28,385,28,"data"],[354,32,385,32],[354,33,385,33,"progress"],[354,41,385,41],[354,45,385,45,"progress"],[354,53,385,53],[355,10,387,8],[355,14,388,10,"newProgress"],[355,25,388,21],[355,26,388,22,"currentPhase"],[355,38,388,34],[355,43,388,39,"progress"],[355,51,388,47],[355,52,388,48,"currentPhase"],[355,64,388,60],[355,68,389,10,"PHASE_TRANSITIONS"],[355,85,389,27],[355,86,389,28,"newProgress"],[355,97,389,39],[355,98,389,40,"currentPhase"],[355,110,389,52],[355,111,389,53],[355,113,390,10],[356,12,391,10,"setTransitionMessage"],[356,32,391,30],[356,33,391,31,"PHASE_TRANSITIONS"],[356,50,391,48],[356,51,391,49,"newProgress"],[356,62,391,60],[356,63,391,61,"currentPhase"],[356,75,391,73],[356,76,391,74],[356,77,391,75],[357,12,392,10,"setTransitionDurationMs"],[357,35,392,33],[357,36,392,34],[357,40,392,38],[357,41,392,39],[358,12,393,10,"setPendingQuestion"],[358,30,393,28],[358,31,393,29,"data"],[358,35,393,33],[358,36,393,34,"question"],[358,44,393,42],[358,45,393,43],[359,12,394,10,"setPendingProgress"],[359,30,394,28],[359,31,394,29,"newProgress"],[359,42,394,40],[359,43,394,41],[360,12,395,10,"setShowingTransition"],[360,32,395,30],[360,33,395,31],[360,37,395,35],[360,38,395,36],[361,10,396,8],[361,11,396,9],[361,17,396,15],[362,12,397,10,"setQuestion"],[362,23,397,21],[362,24,397,22,"data"],[362,28,397,26],[362,29,397,27,"question"],[362,37,397,35],[362,38,397,36],[363,12,398,10,"setProgress"],[363,23,398,21],[363,24,398,22,"newProgress"],[363,35,398,33],[363,36,398,34],[364,10,399,8],[365,10,401,8],[365,17,401,15,"data"],[365,21,401,19],[366,8,402,6],[366,9,402,7],[366,10,402,8],[366,17,402,15,"err"],[366,20,402,18],[366,22,402,20],[367,10,403,8,"console"],[367,17,403,15],[367,18,403,16,"error"],[367,23,403,21],[367,24,403,22],[367,50,403,48],[367,52,403,50,"err"],[367,55,403,53],[367,56,403,54],[368,10,404,8,"setError"],[368,18,404,16],[368,19,404,17],[369,12,405,10,"message"],[369,19,405,17],[369,21,406,12,"err"],[369,24,406,15],[369,26,406,17,"message"],[369,33,406,24],[369,37,406,28],[369,86,406,77],[370,12,407,10,"type"],[370,16,407,14],[370,18,407,16],[371,10,408,8],[371,11,408,9],[371,12,408,10],[372,10,409,8,"Alert"],[372,22,409,13],[372,23,409,13,"Alert"],[372,28,409,13],[372,29,409,14,"alert"],[372,34,409,19],[372,35,409,20],[372,53,409,38],[372,55,409,40,"err"],[372,58,409,43],[372,60,409,45,"message"],[372,67,409,52],[372,71,409,56],[372,90,409,75],[372,91,409,76],[373,10,410,8],[373,17,410,15],[373,21,410,19],[374,8,411,6],[375,6,412,4],[375,7,412,5],[376,6,412,5],[376,23,412,5,"_x3"],[376,26,412,5],[376,28,412,5,"_x4"],[376,31,412,5],[376,33,412,5,"_x5"],[376,36,412,5],[377,8,412,5],[377,15,412,5,"_ref7"],[377,20,412,5],[377,21,412,5,"apply"],[377,26,412,5],[377,33,412,5,"arguments"],[377,42,412,5],[378,6,412,5],[379,4,412,5],[379,9,413,4],[379,10,414,6,"apiUrl"],[379,16,414,12],[379,18,415,6,"progress"],[379,26,415,14],[379,28,416,6,"resetToOnboarding"],[379,45,416,23],[379,47,417,6,"router"],[379,53,417,12],[379,55,418,6,"setError"],[379,63,418,14],[379,65,419,6,"setPendingOutcomeNav"],[379,85,419,26],[379,87,420,6,"setPendingProgress"],[379,105,420,24],[379,107,421,6,"setPendingQuestion"],[379,125,421,24],[379,127,422,6,"setProgress"],[379,138,422,17],[379,140,423,6,"setQuestion"],[379,151,423,17],[379,153,424,6,"setShowingTransition"],[379,173,424,26],[379,175,425,6,"setTransitionDurationMs"],[379,198,425,29],[379,200,426,6,"setTransitionMessage"],[379,220,426,26],[379,221,428,2],[379,222,428,3],[380,4,430,2],[380,11,430,9],[381,6,431,4,"loadUserAndStartQuiz"],[381,26,431,24],[382,6,432,4,"startQuiz"],[382,15,432,13],[383,6,433,4,"submitAnswer"],[383,18,433,16],[384,6,434,4,"resetToOnboarding"],[385,4,435,2],[385,5,435,3],[386,2,436,0],[387,2,436,1,"_s"],[387,4,436,1],[387,5,11,16,"useQuizApi"],[387,15,11,26],[388,0,11,26],[388,3]],"functionMap":{"names":["<global>","useQuizApi","resetToOnboarding","ensureLegacyUserFromAuth","resp.text._catch$argument_0","resp.json._catch$argument_0","ensureProfileGenderMatchesUser","fetch._catch$argument_0","startQuiz","setTimeout$argument_0","response.text._catch$argument_0","loadUserAndStartQuiz","submitAnswer"],"mappings":"AAA;OCU;wCCoB;GDS;+CEE;6CCmB,QD;2CEM,UF;GFc;IKG;6CDiB,UC;iBCe,UD;KLI;IOK;uBC6B;aDE;uBCS;aDE;mDEI,QF;KP0E;2CUkB;GVwC;IWU;uBHe;aGE;uBHS;aGE;mDFI,QE;KXmE;CDwB"},"hasCjsExports":false},"type":"js/module"}]}