{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.LoneSchemaDefinitionRule = LoneSchemaDefinitionRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0]);\n  /**\n   * Lone Schema definition\n   *\n   * A GraphQL document is only valid if it contains only one schema definition.\n   */\n  function LoneSchemaDefinitionRule(context) {\n    var _ref, _ref2, _oldSchema$astNode;\n    var oldSchema = context.getSchema();\n    var alreadyDefined = (_ref = (_ref2 = (_oldSchema$astNode = oldSchema === null || oldSchema === undefined ? undefined : oldSchema.astNode) !== null && _oldSchema$astNode !== undefined ? _oldSchema$astNode : oldSchema === null || oldSchema === undefined ? undefined : oldSchema.getQueryType()) !== null && _ref2 !== undefined ? _ref2 : oldSchema === null || oldSchema === undefined ? undefined : oldSchema.getMutationType()) !== null && _ref !== undefined ? _ref : oldSchema === null || oldSchema === undefined ? undefined : oldSchema.getSubscriptionType();\n    var schemaDefinitionsCount = 0;\n    return {\n      SchemaDefinition(node) {\n        if (alreadyDefined) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError('Cannot define a new schema within a schema extension.', {\n            nodes: node\n          }));\n          return;\n        }\n        if (schemaDefinitionsCount > 0) {\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError('Must provide only one schema definition.', {\n            nodes: node\n          }));\n        }\n        ++schemaDefinitionsCount;\n      }\n    };\n  }\n});","lineCount":36,"map":[[7,2,8,0,"exports"],[7,9,8,0],[7,10,8,0,"LoneSchemaDefinitionRule"],[7,34,8,0],[7,37,8,0,"LoneSchemaDefinitionRule"],[7,61,8,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,2,8,7],[14,11,8,16,"LoneSchemaDefinitionRule"],[14,35,8,40,"LoneSchemaDefinitionRule"],[14,36,8,41,"context"],[14,43,8,48],[14,45,8,50],[15,4,9,2],[15,8,9,6,"_ref"],[15,12,9,10],[15,14,9,12,"_ref2"],[15,19,9,17],[15,21,9,19,"_oldSchema$astNode"],[15,39,9,37],[16,4,11,2],[16,8,11,8,"oldSchema"],[16,17,11,17],[16,20,11,20,"context"],[16,27,11,27],[16,28,11,28,"getSchema"],[16,37,11,37],[16,38,11,38],[16,39,11,39],[17,4,12,2],[17,8,12,8,"alreadyDefined"],[17,22,12,22],[17,25,13,4],[17,26,13,5,"_ref"],[17,30,13,9],[17,33,14,6],[17,34,14,7,"_ref2"],[17,39,14,12],[17,42,15,8],[17,43,15,9,"_oldSchema$astNode"],[17,61,15,27],[17,64,16,10,"oldSchema"],[17,73,16,19],[17,78,16,24],[17,82,16,28],[17,86,16,32,"oldSchema"],[17,95,16,41],[17,100,16,41,"undefined"],[17,109,16,52],[17,112,16,52,"undefined"],[17,121,16,52],[17,124,18,14,"oldSchema"],[17,133,18,23],[17,134,18,24,"astNode"],[17,141,18,31],[17,147,18,37],[17,151,18,41],[17,155,18,45,"_oldSchema$astNode"],[17,173,18,63],[17,178,18,63,"undefined"],[17,187,18,74],[17,190,19,12,"_oldSchema$astNode"],[17,208,19,30],[17,211,20,12,"oldSchema"],[17,220,20,21],[17,225,20,26],[17,229,20,30],[17,233,20,34,"oldSchema"],[17,242,20,43],[17,247,20,43,"undefined"],[17,256,20,54],[17,259,20,54,"undefined"],[17,268,20,54],[17,271,22,12,"oldSchema"],[17,280,22,21],[17,281,22,22,"getQueryType"],[17,293,22,34],[17,294,22,35],[17,295,22,36],[17,301,22,42],[17,305,22,46],[17,309,22,50,"_ref2"],[17,314,22,55],[17,319,22,55,"undefined"],[17,328,22,66],[17,331,23,10,"_ref2"],[17,336,23,15],[17,339,24,10,"oldSchema"],[17,348,24,19],[17,353,24,24],[17,357,24,28],[17,361,24,32,"oldSchema"],[17,370,24,41],[17,375,24,41,"undefined"],[17,384,24,52],[17,387,24,52,"undefined"],[17,396,24,52],[17,399,26,10,"oldSchema"],[17,408,26,19],[17,409,26,20,"getMutationType"],[17,424,26,35],[17,425,26,36],[17,426,26,37],[17,432,26,43],[17,436,26,47],[17,440,26,51,"_ref"],[17,444,26,55],[17,449,26,55,"undefined"],[17,458,26,66],[17,461,27,8,"_ref"],[17,465,27,12],[17,468,28,8,"oldSchema"],[17,477,28,17],[17,482,28,22],[17,486,28,26],[17,490,28,30,"oldSchema"],[17,499,28,39],[17,504,28,39,"undefined"],[17,513,28,50],[17,516,28,50,"undefined"],[17,525,28,50],[17,528,30,8,"oldSchema"],[17,537,30,17],[17,538,30,18,"getSubscriptionType"],[17,557,30,37],[17,558,30,38],[17,559,30,39],[18,4,31,2],[18,8,31,6,"schemaDefinitionsCount"],[18,30,31,28],[18,33,31,31],[18,34,31,32],[19,4,32,2],[19,11,32,9],[20,6,33,4,"SchemaDefinition"],[20,22,33,20,"SchemaDefinition"],[20,23,33,21,"node"],[20,27,33,25],[20,29,33,27],[21,8,34,6],[21,12,34,10,"alreadyDefined"],[21,26,34,24],[21,28,34,26],[22,10,35,8,"context"],[22,17,35,15],[22,18,35,16,"reportError"],[22,29,35,27],[22,30,36,10],[22,34,36,14,"GraphQLError"],[22,55,36,26],[22,56,36,26,"GraphQLError"],[22,68,36,26],[22,69,37,12],[22,124,37,67],[22,126,38,12],[23,12,39,14,"nodes"],[23,17,39,19],[23,19,39,21,"node"],[24,10,40,12],[24,11,41,10],[24,12,42,8],[24,13,42,9],[25,10,43,8],[26,8,44,6],[27,8,46,6],[27,12,46,10,"schemaDefinitionsCount"],[27,34,46,32],[27,37,46,35],[27,38,46,36],[27,40,46,38],[28,10,47,8,"context"],[28,17,47,15],[28,18,47,16,"reportError"],[28,29,47,27],[28,30,48,10],[28,34,48,14,"GraphQLError"],[28,55,48,26],[28,56,48,26,"GraphQLError"],[28,68,48,26],[28,69,48,27],[28,111,48,69],[28,113,48,71],[29,12,49,12,"nodes"],[29,17,49,17],[29,19,49,19,"node"],[30,10,50,10],[30,11,50,11],[30,12,51,8],[30,13,51,9],[31,8,52,6],[32,8,54,6],[32,10,54,8,"schemaDefinitionsCount"],[32,32,54,30],[33,6,55,4],[34,4,56,2],[34,5,56,3],[35,2,57,0],[36,0,57,1],[36,3]],"functionMap":{"names":["<global>","LoneSchemaDefinitionRule","SchemaDefinition"],"mappings":"AAA;OCO;ICyB;KDsB;CDE"},"hasCjsExports":false},"type":"js/module"}]}