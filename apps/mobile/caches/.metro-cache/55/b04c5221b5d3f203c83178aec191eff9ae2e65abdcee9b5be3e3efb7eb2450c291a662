{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":40,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utilities/isFabricInstalled","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":56},"end":{"line":4,"column":67,"index":123}}],"key":"y8Bj4fPxr3sjTvJTu0WQA3pQn6s=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useBoundingClientRect = useBoundingClientRect;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilitiesIsFabricInstalled = require(_dependencyMap[1], \"../utilities/isFabricInstalled\");\n  /**\n   * A custom hook that retrieves the bounding client rectangle of a given `ref` element\n   * and invokes a handler function with the layout information.\n   *\n   * This hook is designed to work with React Native's Fabric architecture and provides\n   * support for both `unstable_getBoundingClientRect` and `getBoundingClientRect` methods.\n   *\n   * @param ref - A `RefObject` pointing to a `View` or `null`. The bounding client rectangle\n   *              will be retrieved from this reference.\n   * @param handler - A callback function that will be invoked with the layout information\n   *                  of the referenced element.\n   *\n   * @remarks\n   * - The hook uses `useLayoutEffect` to ensure the layout information is retrieved\n   *   after the DOM updates.\n   * - The `isFabricInstalled` function is used to determine if the Fabric architecture\n   *   is available.\n   * - The `unstable_getBoundingClientRect` method is used if available, falling back\n   *   to `getBoundingClientRect` otherwise.\n   *\n   * @example\n   * ```tsx\n   * const ref = useRef<View | null>(null);\n   * useBoundingClientRect(ref, (layout) => {\n   *   console.log('Bounding client rect:', layout);\n   * });\n   * ```\n   */\n  function useBoundingClientRect(ref, handler) {\n    if (!(0, _utilitiesIsFabricInstalled.isFabricInstalled)()) {\n      return;\n    }\n\n    // biome-ignore lint/correctness/useHookAtTopLevel: `isFabricInstalled` is a constant that will not change during the runtime\n    (0, _react.useLayoutEffect)(() => {\n      if (!ref || !ref.current) {\n        return;\n      }\n\n      // @ts-ignore ðŸ‘‰ https://github.com/facebook/react/commit/53b1f69ba\n      if (ref.current.unstable_getBoundingClientRect !== null) {\n        // @ts-ignore https://github.com/facebook/react/commit/53b1f69ba\n        const layout = ref.current.unstable_getBoundingClientRect();\n        handler(layout);\n        return;\n      }\n\n      // @ts-ignore once it `unstable_getBoundingClientRect` gets stable ðŸ¤ž.\n      if (ref.current.getBoundingClientRect !== null) {\n        // @ts-ignore once it `unstable_getBoundingClientRect` gets stable.\n        const layout = ref.current.getBoundingClientRect();\n        handler(layout);\n      }\n    });\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,33,0,"exports"],[7,9,33,0],[7,10,33,0,"useBoundingClientRect"],[7,31,33,0],[7,34,33,0,"useBoundingClientRect"],[7,55,33,0],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_utilitiesIsFabricInstalled"],[9,33,4,0],[9,36,4,0,"require"],[9,43,4,0],[9,44,4,0,"_dependencyMap"],[9,58,4,0],[10,2,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,0,12,0],[18,0,13,0],[19,0,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,0,30,0],[36,0,31,0],[37,0,32,0],[38,2,33,7],[38,11,33,16,"useBoundingClientRect"],[38,32,33,37,"useBoundingClientRect"],[38,33,33,38,"ref"],[38,36,33,41],[38,38,33,43,"handler"],[38,45,33,50],[38,47,33,52],[39,4,34,2],[39,8,34,6],[39,9,34,7],[39,13,34,7,"isFabricInstalled"],[39,40,34,24],[39,41,34,24,"isFabricInstalled"],[39,58,34,24],[39,60,34,25],[39,61,34,26],[39,63,34,28],[40,6,35,4],[41,4,36,2],[43,4,38,2],[44,4,39,2],[44,8,39,2,"useLayoutEffect"],[44,14,39,17],[44,15,39,17,"useLayoutEffect"],[44,30,39,17],[44,32,39,18],[44,38,39,24],[45,6,40,4],[45,10,40,8],[45,11,40,9,"ref"],[45,14,40,12],[45,18,40,16],[45,19,40,17,"ref"],[45,22,40,20],[45,23,40,21,"current"],[45,30,40,28],[45,32,40,30],[46,8,41,6],[47,6,42,4],[49,6,44,4],[50,6,45,4],[50,10,45,8,"ref"],[50,13,45,11],[50,14,45,12,"current"],[50,21,45,19],[50,22,45,20,"unstable_getBoundingClientRect"],[50,52,45,50],[50,57,45,55],[50,61,45,59],[50,63,45,61],[51,8,46,6],[52,8,47,6],[52,14,47,12,"layout"],[52,20,47,18],[52,23,47,21,"ref"],[52,26,47,24],[52,27,47,25,"current"],[52,34,47,32],[52,35,47,33,"unstable_getBoundingClientRect"],[52,65,47,63],[52,66,47,64],[52,67,47,65],[53,8,48,6,"handler"],[53,15,48,13],[53,16,48,14,"layout"],[53,22,48,20],[53,23,48,21],[54,8,49,6],[55,6,50,4],[57,6,52,4],[58,6,53,4],[58,10,53,8,"ref"],[58,13,53,11],[58,14,53,12,"current"],[58,21,53,19],[58,22,53,20,"getBoundingClientRect"],[58,43,53,41],[58,48,53,46],[58,52,53,50],[58,54,53,52],[59,8,54,6],[60,8,55,6],[60,14,55,12,"layout"],[60,20,55,18],[60,23,55,21,"ref"],[60,26,55,24],[60,27,55,25,"current"],[60,34,55,32],[60,35,55,33,"getBoundingClientRect"],[60,56,55,54],[60,57,55,55],[60,58,55,56],[61,8,56,6,"handler"],[61,15,56,13],[61,16,56,14,"layout"],[61,22,56,20],[61,23,56,21],[62,6,57,4],[63,4,58,2],[63,5,58,3],[63,6,58,4],[64,2,59,0],[65,0,59,1],[65,3]],"functionMap":{"names":["<global>","useBoundingClientRect","useLayoutEffect$argument_0"],"mappings":"AAA;OCgC;kBCM;GDmB;CDC"},"hasCjsExports":false},"type":"js/module"}]}