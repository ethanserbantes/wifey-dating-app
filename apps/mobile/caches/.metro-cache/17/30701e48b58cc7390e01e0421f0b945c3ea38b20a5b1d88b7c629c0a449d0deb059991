{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":37,"index":74}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useOnboardingStepValidation = useOnboardingStepValidation;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  function useOnboardingStepValidation(_ref) {\n    _s();\n    var step = _ref.step,\n      setStep = _ref.setStep,\n      totalSteps = _ref.totalSteps,\n      heightInches = _ref.heightInches,\n      ageMin = _ref.ageMin,\n      ageMax = _ref.ageMax,\n      bornIn = _ref.bornIn,\n      setBornIn = _ref.setBornIn,\n      jobTitle = _ref.jobTitle,\n      setJobTitle = _ref.setJobTitle,\n      company = _ref.company,\n      setCompany = _ref.setCompany,\n      primaryPhotoUrl = _ref.primaryPhotoUrl,\n      about = _ref.about,\n      interests = _ref.interests,\n      saveMutation = _ref.saveMutation,\n      router = _ref.router,\n      busy = _ref.busy,\n      skippedSteps = _ref.skippedSteps,\n      setSkippedSteps = _ref.setSkippedSteps;\n    var goNext = (0, _react.useCallback)(() => {\n      setStep(s => Math.min(totalSteps - 1, s + 1));\n    }, [setStep, totalSteps]);\n    var skipCurrentStep = (0, _react.useCallback)(() => {\n      if (busy) return;\n      setSkippedSteps(prev => {\n        var safePrev = prev && typeof prev === \"object\" ? prev : {};\n        return {\n          ...safePrev,\n          [step]: true\n        };\n      });\n      if (step >= totalSteps - 1) {\n        // last screen skip = finish\n        saveMutation.mutate({\n          skippedSteps: {\n            ...(skippedSteps || {}),\n            [step]: true\n          }\n        }, {\n          onSuccess: () => {\n            // After finishing onboarding, ask for notifications + location.\n            // (Split into two screens: notifications first, then location.)\n            router.replace(\"/onboarding/notifications\");\n          },\n          onError: e => {\n            console.error(e);\n            _reactNative.Alert.alert(\"Could not save\", e?.message || \"Please try again.\");\n          }\n        });\n        return;\n      }\n      goNext();\n    }, [busy, goNext, router, saveMutation, setSkippedSteps, skippedSteps, step, totalSteps]);\n    var validateAndNext = (0, _react.useCallback)(() => {\n      if (busy) return;\n\n      // Only required: height + profile photo.\n      if (step === 0) {\n        if (!heightInches) {\n          _reactNative.Alert.alert(\"Missing info\", \"Please select your height\");\n          return;\n        }\n        goNext();\n        return;\n      }\n      if (step === 4) {\n        if (!primaryPhotoUrl) {\n          _reactNative.Alert.alert(\"Required\", \"Please add a profile photo to continue\");\n          return;\n        }\n        goNext();\n        return;\n      }\n\n      // Optional screens: we still lightly clean up input if present, but we do not block.\n      if (step === 2) {\n        var trimmed = String(bornIn || \"\").trim();\n        if (trimmed) {\n          setBornIn(trimmed);\n        }\n        goNext();\n        return;\n      }\n      if (step === 3) {\n        var jt = String(jobTitle || \"\").trim();\n        var co = String(company || \"\").trim();\n        if (jt) setJobTitle(jt);\n        if (co) setCompany(co);\n        goNext();\n        return;\n      }\n      if (step < totalSteps - 1) {\n        goNext();\n        return;\n      }\n\n      // Last step: save and finish (About + interests are optional now)\n      saveMutation.mutate({\n        skippedSteps\n      }, {\n        onSuccess: () => {\n          // After finishing onboarding, ask for notifications + location.\n          // (Split into two screens: notifications first, then location.)\n          router.replace(\"/onboarding/notifications\");\n        },\n        onError: e => {\n          console.error(e);\n          _reactNative.Alert.alert(\"Could not save\", e?.message || \"Please try again.\");\n        }\n      });\n    }, [about, ageMax, ageMin, bornIn, busy, company, goNext, heightInches, interests, jobTitle, primaryPhotoUrl, router, saveMutation, setBornIn, setCompany, setJobTitle, skippedSteps, step, totalSteps]);\n    return {\n      validateAndNext,\n      skipCurrentStep\n    };\n  }\n  _s(useOnboardingStepValidation, \"cwkO2HVnL3JWGE+eNGKw0eTgVSc=\");\n});","lineCount":131,"map":[[8,2,4,0,"exports"],[8,9,4,0],[8,10,4,0,"useOnboardingStepValidation"],[8,37,4,0],[8,40,4,0,"useOnboardingStepValidation"],[8,67,4,0],[9,2,1,0],[9,6,1,0,"_react"],[9,12,1,0],[9,15,1,0,"require"],[9,22,1,0],[9,23,1,0,"_dependencyMap"],[9,37,1,0],[10,2,2,0],[10,6,2,0,"_reactNative"],[10,18,2,0],[10,21,2,0,"require"],[10,28,2,0],[10,29,2,0,"_dependencyMap"],[10,43,2,0],[11,2,4,7],[11,11,4,16,"useOnboardingStepValidation"],[11,38,4,43,"useOnboardingStepValidation"],[11,39,4,43,"_ref"],[11,43,4,43],[11,45,25,3],[12,4,25,3,"_s"],[12,6,25,3],[13,4,25,3],[13,8,5,2,"step"],[13,12,5,6],[13,15,5,6,"_ref"],[13,19,5,6],[13,20,5,2,"step"],[13,24,5,6],[14,6,6,2,"setStep"],[14,13,6,9],[14,16,6,9,"_ref"],[14,20,6,9],[14,21,6,2,"setStep"],[14,28,6,9],[15,6,7,2,"totalSteps"],[15,16,7,12],[15,19,7,12,"_ref"],[15,23,7,12],[15,24,7,2,"totalSteps"],[15,34,7,12],[16,6,8,2,"heightInches"],[16,18,8,14],[16,21,8,14,"_ref"],[16,25,8,14],[16,26,8,2,"heightInches"],[16,38,8,14],[17,6,9,2,"ageMin"],[17,12,9,8],[17,15,9,8,"_ref"],[17,19,9,8],[17,20,9,2,"ageMin"],[17,26,9,8],[18,6,10,2,"ageMax"],[18,12,10,8],[18,15,10,8,"_ref"],[18,19,10,8],[18,20,10,2,"ageMax"],[18,26,10,8],[19,6,11,2,"bornIn"],[19,12,11,8],[19,15,11,8,"_ref"],[19,19,11,8],[19,20,11,2,"bornIn"],[19,26,11,8],[20,6,12,2,"setBornIn"],[20,15,12,11],[20,18,12,11,"_ref"],[20,22,12,11],[20,23,12,2,"setBornIn"],[20,32,12,11],[21,6,13,2,"jobTitle"],[21,14,13,10],[21,17,13,10,"_ref"],[21,21,13,10],[21,22,13,2,"jobTitle"],[21,30,13,10],[22,6,14,2,"setJobTitle"],[22,17,14,13],[22,20,14,13,"_ref"],[22,24,14,13],[22,25,14,2,"setJobTitle"],[22,36,14,13],[23,6,15,2,"company"],[23,13,15,9],[23,16,15,9,"_ref"],[23,20,15,9],[23,21,15,2,"company"],[23,28,15,9],[24,6,16,2,"setCompany"],[24,16,16,12],[24,19,16,12,"_ref"],[24,23,16,12],[24,24,16,2,"setCompany"],[24,34,16,12],[25,6,17,2,"primaryPhotoUrl"],[25,21,17,17],[25,24,17,17,"_ref"],[25,28,17,17],[25,29,17,2,"primaryPhotoUrl"],[25,44,17,17],[26,6,18,2,"about"],[26,11,18,7],[26,14,18,7,"_ref"],[26,18,18,7],[26,19,18,2,"about"],[26,24,18,7],[27,6,19,2,"interests"],[27,15,19,11],[27,18,19,11,"_ref"],[27,22,19,11],[27,23,19,2,"interests"],[27,32,19,11],[28,6,20,2,"saveMutation"],[28,18,20,14],[28,21,20,14,"_ref"],[28,25,20,14],[28,26,20,2,"saveMutation"],[28,38,20,14],[29,6,21,2,"router"],[29,12,21,8],[29,15,21,8,"_ref"],[29,19,21,8],[29,20,21,2,"router"],[29,26,21,8],[30,6,22,2,"busy"],[30,10,22,6],[30,13,22,6,"_ref"],[30,17,22,6],[30,18,22,2,"busy"],[30,22,22,6],[31,6,23,2,"skippedSteps"],[31,18,23,14],[31,21,23,14,"_ref"],[31,25,23,14],[31,26,23,2,"skippedSteps"],[31,38,23,14],[32,6,24,2,"setSkippedSteps"],[32,21,24,17],[32,24,24,17,"_ref"],[32,28,24,17],[32,29,24,2,"setSkippedSteps"],[32,44,24,17],[33,4,26,2],[33,8,26,8,"goNext"],[33,14,26,14],[33,17,26,17],[33,21,26,17,"useCallback"],[33,27,26,28],[33,28,26,28,"useCallback"],[33,39,26,28],[33,41,26,29],[33,47,26,35],[34,6,27,4,"setStep"],[34,13,27,11],[34,14,27,13,"s"],[34,15,27,14],[34,19,27,19,"Math"],[34,23,27,23],[34,24,27,24,"min"],[34,27,27,27],[34,28,27,28,"totalSteps"],[34,38,27,38],[34,41,27,41],[34,42,27,42],[34,44,27,44,"s"],[34,45,27,45],[34,48,27,48],[34,49,27,49],[34,50,27,50],[34,51,27,51],[35,4,28,2],[35,5,28,3],[35,7,28,5],[35,8,28,6,"setStep"],[35,15,28,13],[35,17,28,15,"totalSteps"],[35,27,28,25],[35,28,28,26],[35,29,28,27],[36,4,30,2],[36,8,30,8,"skipCurrentStep"],[36,23,30,23],[36,26,30,26],[36,30,30,26,"useCallback"],[36,36,30,37],[36,37,30,37,"useCallback"],[36,48,30,37],[36,50,30,38],[36,56,30,44],[37,6,31,4],[37,10,31,8,"busy"],[37,14,31,12],[37,16,31,14],[38,6,33,4,"setSkippedSteps"],[38,21,33,19],[38,22,33,21,"prev"],[38,26,33,25],[38,30,33,30],[39,8,34,6],[39,12,34,12,"safePrev"],[39,20,34,20],[39,23,34,23,"prev"],[39,27,34,27],[39,31,34,31],[39,38,34,38,"prev"],[39,42,34,42],[39,47,34,47],[39,55,34,55],[39,58,34,58,"prev"],[39,62,34,62],[39,65,34,65],[39,66,34,66],[39,67,34,67],[40,8,35,6],[40,15,35,13],[41,10,35,15],[41,13,35,18,"safePrev"],[41,21,35,26],[42,10,35,28],[42,11,35,29,"step"],[42,15,35,33],[42,18,35,36],[43,8,35,41],[43,9,35,42],[44,6,36,4],[44,7,36,5],[44,8,36,6],[45,6,38,4],[45,10,38,8,"step"],[45,14,38,12],[45,18,38,16,"totalSteps"],[45,28,38,26],[45,31,38,29],[45,32,38,30],[45,34,38,32],[46,8,39,6],[47,8,40,6,"saveMutation"],[47,20,40,18],[47,21,40,19,"mutate"],[47,27,40,25],[47,28,41,8],[48,10,41,10,"skippedSteps"],[48,22,41,22],[48,24,41,24],[49,12,41,26],[49,16,41,30,"skippedSteps"],[49,28,41,42],[49,32,41,46],[49,33,41,47],[49,34,41,48],[49,35,41,49],[50,12,41,51],[50,13,41,52,"step"],[50,17,41,56],[50,20,41,59],[51,10,41,64],[52,8,41,66],[52,9,41,67],[52,11,42,8],[53,10,43,10,"onSuccess"],[53,19,43,19],[53,21,43,21,"onSuccess"],[53,22,43,21],[53,27,43,27],[54,12,44,12],[55,12,45,12],[56,12,46,12,"router"],[56,18,46,18],[56,19,46,19,"replace"],[56,26,46,26],[56,27,46,27],[56,54,46,54],[56,55,46,55],[57,10,47,10],[57,11,47,11],[58,10,48,10,"onError"],[58,17,48,17],[58,19,48,20,"e"],[58,20,48,21],[58,24,48,26],[59,12,49,12,"console"],[59,19,49,19],[59,20,49,20,"error"],[59,25,49,25],[59,26,49,26,"e"],[59,27,49,27],[59,28,49,28],[60,12,50,12,"Alert"],[60,24,50,17],[60,25,50,17,"Alert"],[60,30,50,17],[60,31,50,18,"alert"],[60,36,50,23],[60,37,50,24],[60,53,50,40],[60,55,50,42,"e"],[60,56,50,43],[60,58,50,45,"message"],[60,65,50,52],[60,69,50,56],[60,88,50,75],[60,89,50,76],[61,10,51,10],[62,8,52,8],[62,9,53,6],[62,10,53,7],[63,8,54,6],[64,6,55,4],[65,6,57,4,"goNext"],[65,12,57,10],[65,13,57,11],[65,14,57,12],[66,4,58,2],[66,5,58,3],[66,7,58,5],[66,8,59,4,"busy"],[66,12,59,8],[66,14,60,4,"goNext"],[66,20,60,10],[66,22,61,4,"router"],[66,28,61,10],[66,30,62,4,"saveMutation"],[66,42,62,16],[66,44,63,4,"setSkippedSteps"],[66,59,63,19],[66,61,64,4,"skippedSteps"],[66,73,64,16],[66,75,65,4,"step"],[66,79,65,8],[66,81,66,4,"totalSteps"],[66,91,66,14],[66,92,67,3],[66,93,67,4],[67,4,69,2],[67,8,69,8,"validateAndNext"],[67,23,69,23],[67,26,69,26],[67,30,69,26,"useCallback"],[67,36,69,37],[67,37,69,37,"useCallback"],[67,48,69,37],[67,50,69,38],[67,56,69,44],[68,6,70,4],[68,10,70,8,"busy"],[68,14,70,12],[68,16,70,14],[70,6,72,4],[71,6,73,4],[71,10,73,8,"step"],[71,14,73,12],[71,19,73,17],[71,20,73,18],[71,22,73,20],[72,8,74,6],[72,12,74,10],[72,13,74,11,"heightInches"],[72,25,74,23],[72,27,74,25],[73,10,75,8,"Alert"],[73,22,75,13],[73,23,75,13,"Alert"],[73,28,75,13],[73,29,75,14,"alert"],[73,34,75,19],[73,35,75,20],[73,49,75,34],[73,51,75,36],[73,78,75,63],[73,79,75,64],[74,10,76,8],[75,8,77,6],[76,8,78,6,"goNext"],[76,14,78,12],[76,15,78,13],[76,16,78,14],[77,8,79,6],[78,6,80,4],[79,6,82,4],[79,10,82,8,"step"],[79,14,82,12],[79,19,82,17],[79,20,82,18],[79,22,82,20],[80,8,83,6],[80,12,83,10],[80,13,83,11,"primaryPhotoUrl"],[80,28,83,26],[80,30,83,28],[81,10,84,8,"Alert"],[81,22,84,13],[81,23,84,13,"Alert"],[81,28,84,13],[81,29,84,14,"alert"],[81,34,84,19],[81,35,84,20],[81,45,84,30],[81,47,84,32],[81,87,84,72],[81,88,84,73],[82,10,85,8],[83,8,86,6],[84,8,87,6,"goNext"],[84,14,87,12],[84,15,87,13],[84,16,87,14],[85,8,88,6],[86,6,89,4],[88,6,91,4],[89,6,92,4],[89,10,92,8,"step"],[89,14,92,12],[89,19,92,17],[89,20,92,18],[89,22,92,20],[90,8,93,6],[90,12,93,12,"trimmed"],[90,19,93,19],[90,22,93,22,"String"],[90,28,93,28],[90,29,93,29,"bornIn"],[90,35,93,35],[90,39,93,39],[90,41,93,41],[90,42,93,42],[90,43,93,43,"trim"],[90,47,93,47],[90,48,93,48],[90,49,93,49],[91,8,94,6],[91,12,94,10,"trimmed"],[91,19,94,17],[91,21,94,19],[92,10,95,8,"setBornIn"],[92,19,95,17],[92,20,95,18,"trimmed"],[92,27,95,25],[92,28,95,26],[93,8,96,6],[94,8,97,6,"goNext"],[94,14,97,12],[94,15,97,13],[94,16,97,14],[95,8,98,6],[96,6,99,4],[97,6,101,4],[97,10,101,8,"step"],[97,14,101,12],[97,19,101,17],[97,20,101,18],[97,22,101,20],[98,8,102,6],[98,12,102,12,"jt"],[98,14,102,14],[98,17,102,17,"String"],[98,23,102,23],[98,24,102,24,"jobTitle"],[98,32,102,32],[98,36,102,36],[98,38,102,38],[98,39,102,39],[98,40,102,40,"trim"],[98,44,102,44],[98,45,102,45],[98,46,102,46],[99,8,103,6],[99,12,103,12,"co"],[99,14,103,14],[99,17,103,17,"String"],[99,23,103,23],[99,24,103,24,"company"],[99,31,103,31],[99,35,103,35],[99,37,103,37],[99,38,103,38],[99,39,103,39,"trim"],[99,43,103,43],[99,44,103,44],[99,45,103,45],[100,8,104,6],[100,12,104,10,"jt"],[100,14,104,12],[100,16,104,14,"setJobTitle"],[100,27,104,25],[100,28,104,26,"jt"],[100,30,104,28],[100,31,104,29],[101,8,105,6],[101,12,105,10,"co"],[101,14,105,12],[101,16,105,14,"setCompany"],[101,26,105,24],[101,27,105,25,"co"],[101,29,105,27],[101,30,105,28],[102,8,106,6,"goNext"],[102,14,106,12],[102,15,106,13],[102,16,106,14],[103,8,107,6],[104,6,108,4],[105,6,110,4],[105,10,110,8,"step"],[105,14,110,12],[105,17,110,15,"totalSteps"],[105,27,110,25],[105,30,110,28],[105,31,110,29],[105,33,110,31],[106,8,111,6,"goNext"],[106,14,111,12],[106,15,111,13],[106,16,111,14],[107,8,112,6],[108,6,113,4],[110,6,115,4],[111,6,116,4,"saveMutation"],[111,18,116,16],[111,19,116,17,"mutate"],[111,25,116,23],[111,26,117,6],[112,8,117,8,"skippedSteps"],[113,6,117,21],[113,7,117,22],[113,9,118,6],[114,8,119,8,"onSuccess"],[114,17,119,17],[114,19,119,19,"onSuccess"],[114,20,119,19],[114,25,119,25],[115,10,120,10],[116,10,121,10],[117,10,122,10,"router"],[117,16,122,16],[117,17,122,17,"replace"],[117,24,122,24],[117,25,122,25],[117,52,122,52],[117,53,122,53],[118,8,123,8],[118,9,123,9],[119,8,124,8,"onError"],[119,15,124,15],[119,17,124,18,"e"],[119,18,124,19],[119,22,124,24],[120,10,125,10,"console"],[120,17,125,17],[120,18,125,18,"error"],[120,23,125,23],[120,24,125,24,"e"],[120,25,125,25],[120,26,125,26],[121,10,126,10,"Alert"],[121,22,126,15],[121,23,126,15,"Alert"],[121,28,126,15],[121,29,126,16,"alert"],[121,34,126,21],[121,35,126,22],[121,51,126,38],[121,53,126,40,"e"],[121,54,126,41],[121,56,126,43,"message"],[121,63,126,50],[121,67,126,54],[121,86,126,73],[121,87,126,74],[122,8,127,8],[123,6,128,6],[123,7,129,4],[123,8,129,5],[124,4,130,2],[124,5,130,3],[124,7,130,5],[124,8,131,4,"about"],[124,13,131,9],[124,15,132,4,"ageMax"],[124,21,132,10],[124,23,133,4,"ageMin"],[124,29,133,10],[124,31,134,4,"bornIn"],[124,37,134,10],[124,39,135,4,"busy"],[124,43,135,8],[124,45,136,4,"company"],[124,52,136,11],[124,54,137,4,"goNext"],[124,60,137,10],[124,62,138,4,"heightInches"],[124,74,138,16],[124,76,139,4,"interests"],[124,85,139,13],[124,87,140,4,"jobTitle"],[124,95,140,12],[124,97,141,4,"primaryPhotoUrl"],[124,112,141,19],[124,114,142,4,"router"],[124,120,142,10],[124,122,143,4,"saveMutation"],[124,134,143,16],[124,136,144,4,"setBornIn"],[124,145,144,13],[124,147,145,4,"setCompany"],[124,157,145,14],[124,159,146,4,"setJobTitle"],[124,170,146,15],[124,172,147,4,"skippedSteps"],[124,184,147,16],[124,186,148,4,"step"],[124,190,148,8],[124,192,149,4,"totalSteps"],[124,202,149,14],[124,203,150,3],[124,204,150,4],[125,4,152,2],[125,11,152,9],[126,6,152,11,"validateAndNext"],[126,21,152,26],[127,6,152,28,"skipCurrentStep"],[128,4,152,44],[128,5,152,45],[129,2,153,0],[130,2,153,1,"_s"],[130,4,153,1],[130,5,4,16,"useOnboardingStepValidation"],[130,32,4,43],[131,0,4,43],[131,3]],"functionMap":{"names":["<global>","useOnboardingStepValidation","goNext","setStep$argument_0","skipCurrentStep","setSkippedSteps$argument_0","saveMutation.mutate$argument_1.onSuccess","saveMutation.mutate$argument_1.onError","validateAndNext"],"mappings":"AAA;OCG;6BCsB;YCC,sCD;GDC;sCGE;oBCG;KDG;qBEO;WFI;mBGC;WHG;GHO;sCOW;mBFkD;SEI;iBDC;SCG;GPG;CDuB"},"hasCjsExports":false},"type":"js/module"}]}