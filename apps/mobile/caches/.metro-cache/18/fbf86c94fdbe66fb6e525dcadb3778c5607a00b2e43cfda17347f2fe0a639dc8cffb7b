{"dependencies":[{"name":"./util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"1+hZBLc/k6i18AZJ4yHV73uDZHQ=","exportNames":["*"],"imports":1}},{"name":"./dataurl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":43,"index":77}}],"key":"YDncyeQvfBgB8K+AxXbrKq6ci9c=","exportNames":["*"],"imports":1}},{"name":"./embed-resources","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":78},"end":{"line":3,"column":64,"index":142}}],"key":"an95POZLwNIAm4JRTBp3xn47LjY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getWebFontCSS = getWebFontCSS;\n  exports.embedWebFonts = embedWebFonts;\n  var _util = require(_dependencyMap[0], \"./util\");\n  var _dataurl = require(_dependencyMap[1], \"./dataurl\");\n  var _embedResources = require(_dependencyMap[2], \"./embed-resources\");\n  const cssFetchCache = {};\n  async function fetchCSS(url) {\n    let cache = cssFetchCache[url];\n    if (cache != null) {\n      return cache;\n    }\n    const res = await fetch(url);\n    const cssText = await res.text();\n    cache = {\n      url,\n      cssText\n    };\n    cssFetchCache[url] = cache;\n    return cache;\n  }\n  async function embedFonts(data, options) {\n    let cssText = data.cssText;\n    const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n    const fontLocs = cssText.match(/url\\([^)]+\\)/g) || [];\n    const loadFonts = fontLocs.map(async loc => {\n      let url = loc.replace(regexUrl, '$1');\n      if (!url.startsWith('https://')) {\n        url = new URL(url, data.url).href;\n      }\n      return (0, _dataurl.fetchAsDataURL)(url, options.fetchRequestInit, ({\n        result\n      }) => {\n        cssText = cssText.replace(loc, `url(${result})`);\n        return [loc, result];\n      });\n    });\n    return Promise.all(loadFonts).then(() => cssText);\n  }\n  function parseCSS(source) {\n    if (source == null) {\n      return [];\n    }\n    const result = [];\n    const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    // strip out comments\n    let cssText = source.replace(commentsRegex, '');\n    // eslint-disable-next-line prefer-regex-literals\n    const keyframesRegex = new RegExp('((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})', 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const matches = keyframesRegex.exec(cssText);\n      if (matches === null) {\n        break;\n      }\n      result.push(matches[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // to match css & media queries together\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})';\n    // unified regex\n    const unifiedRegex = new RegExp(combinedCSSRegex, 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      let matches = importRegex.exec(cssText);\n      if (matches === null) {\n        matches = unifiedRegex.exec(cssText);\n        if (matches === null) {\n          break;\n        } else {\n          importRegex.lastIndex = unifiedRegex.lastIndex;\n        }\n      } else {\n        unifiedRegex.lastIndex = importRegex.lastIndex;\n      }\n      result.push(matches[0]);\n    }\n    return result;\n  }\n  async function getCSSRules(styleSheets, options) {\n    const ret = [];\n    const deferreds = [];\n    // First loop inlines imports\n    styleSheets.forEach(sheet => {\n      if ('cssRules' in sheet) {\n        try {\n          (0, _util.toArray)(sheet.cssRules || []).forEach((item, index) => {\n            if (item.type === CSSRule.IMPORT_RULE) {\n              let importIndex = index + 1;\n              const url = item.href;\n              const deferred = fetchCSS(url).then(metadata => embedFonts(metadata, options)).then(cssText => parseCSS(cssText).forEach(rule => {\n                try {\n                  sheet.insertRule(rule, rule.startsWith('@import') ? importIndex += 1 : sheet.cssRules.length);\n                } catch (error) {\n                  console.error('Error inserting rule from remote css', {\n                    rule,\n                    error\n                  });\n                }\n              })).catch(e => {\n                console.error('Error loading remote css', e.toString());\n              });\n              deferreds.push(deferred);\n            }\n          });\n        } catch (e) {\n          const inline = styleSheets.find(a => a.href == null) || document.styleSheets[0];\n          if (sheet.href != null) {\n            deferreds.push(fetchCSS(sheet.href).then(metadata => embedFonts(metadata, options)).then(cssText => parseCSS(cssText).forEach(rule => {\n              inline.insertRule(rule, inline.cssRules.length);\n            })).catch(err => {\n              console.error('Error loading remote stylesheet', err);\n            }));\n          }\n          console.error('Error inlining remote css file', e);\n        }\n      }\n    });\n    return Promise.all(deferreds).then(() => {\n      // Second loop parses rules\n      styleSheets.forEach(sheet => {\n        if ('cssRules' in sheet) {\n          try {\n            (0, _util.toArray)(sheet.cssRules || []).forEach(item => {\n              ret.push(item);\n            });\n          } catch (e) {\n            console.error(`Error while reading CSS rules from ${sheet.href}`, e);\n          }\n        }\n      });\n      return ret;\n    });\n  }\n  function getWebFontRules(cssRules) {\n    return cssRules.filter(rule => rule.type === CSSRule.FONT_FACE_RULE).filter(rule => (0, _embedResources.shouldEmbed)(rule.style.getPropertyValue('src')));\n  }\n  async function parseWebFontRules(node, options) {\n    if (node.ownerDocument == null) {\n      throw new Error('Provided element is not within a Document');\n    }\n    const styleSheets = (0, _util.toArray)(node.ownerDocument.styleSheets);\n    const cssRules = await getCSSRules(styleSheets, options);\n    return getWebFontRules(cssRules);\n  }\n  function normalizeFontFamily(font) {\n    return font.trim().replace(/[\"']/g, '');\n  }\n  function getUsedFonts(node) {\n    const fonts = new Set();\n    function traverse(node) {\n      const fontFamily = node.style.fontFamily || getComputedStyle(node).fontFamily;\n      fontFamily.split(',').forEach(font => {\n        fonts.add(normalizeFontFamily(font));\n      });\n      Array.from(node.children).forEach(child => {\n        if (child instanceof HTMLElement) {\n          traverse(child);\n        }\n      });\n    }\n    traverse(node);\n    return fonts;\n  }\n  async function getWebFontCSS(node, options) {\n    const rules = await parseWebFontRules(node, options);\n    const usedFonts = getUsedFonts(node);\n    const cssTexts = await Promise.all(rules.filter(rule => usedFonts.has(normalizeFontFamily(rule.style.fontFamily))).map(rule => {\n      const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n      return (0, _embedResources.embedResources)(rule.cssText, baseUrl, options);\n    }));\n    return cssTexts.join('\\n');\n  }\n  async function embedWebFonts(clonedNode, options) {\n    const cssText = options.fontEmbedCSS != null ? options.fontEmbedCSS : options.skipFonts ? null : await getWebFontCSS(clonedNode, options);\n    if (cssText) {\n      const styleNode = document.createElement('style');\n      const sytleContent = document.createTextNode(cssText);\n      styleNode.appendChild(sytleContent);\n      if (clonedNode.firstChild) {\n        clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n      } else {\n        clonedNode.appendChild(styleNode);\n      }\n    }\n  }\n});","lineCount":193,"map":[[7,2,174,0,"exports"],[7,9,174,0],[7,10,174,0,"getWebFontCSS"],[7,23,174,0],[7,26,174,0,"getWebFontCSS"],[7,39,174,0],[8,2,187,0,"exports"],[8,9,187,0],[8,10,187,0,"embedWebFonts"],[8,23,187,0],[8,26,187,0,"embedWebFonts"],[8,39,187,0],[9,2,1,0],[9,6,1,0,"_util"],[9,11,1,0],[9,14,1,0,"require"],[9,21,1,0],[9,22,1,0,"_dependencyMap"],[9,36,1,0],[10,2,2,0],[10,6,2,0,"_dataurl"],[10,14,2,0],[10,17,2,0,"require"],[10,24,2,0],[10,25,2,0,"_dependencyMap"],[10,39,2,0],[11,2,3,0],[11,6,3,0,"_embedResources"],[11,21,3,0],[11,24,3,0,"require"],[11,31,3,0],[11,32,3,0,"_dependencyMap"],[11,46,3,0],[12,2,4,0],[12,8,4,6,"cssFetchCache"],[12,21,4,19],[12,24,4,22],[12,25,4,23],[12,26,4,24],[13,2,5,0],[13,17,5,15,"fetchCSS"],[13,25,5,23,"fetchCSS"],[13,26,5,24,"url"],[13,29,5,27],[13,31,5,29],[14,4,6,4],[14,8,6,8,"cache"],[14,13,6,13],[14,16,6,16,"cssFetchCache"],[14,29,6,29],[14,30,6,30,"url"],[14,33,6,33],[14,34,6,34],[15,4,7,4],[15,8,7,8,"cache"],[15,13,7,13],[15,17,7,17],[15,21,7,21],[15,23,7,23],[16,6,8,8],[16,13,8,15,"cache"],[16,18,8,20],[17,4,9,4],[18,4,10,4],[18,10,10,10,"res"],[18,13,10,13],[18,16,10,16],[18,22,10,22,"fetch"],[18,27,10,27],[18,28,10,28,"url"],[18,31,10,31],[18,32,10,32],[19,4,11,4],[19,10,11,10,"cssText"],[19,17,11,17],[19,20,11,20],[19,26,11,26,"res"],[19,29,11,29],[19,30,11,30,"text"],[19,34,11,34],[19,35,11,35],[19,36,11,36],[20,4,12,4,"cache"],[20,9,12,9],[20,12,12,12],[21,6,12,14,"url"],[21,9,12,17],[22,6,12,19,"cssText"],[23,4,12,27],[23,5,12,28],[24,4,13,4,"cssFetchCache"],[24,17,13,17],[24,18,13,18,"url"],[24,21,13,21],[24,22,13,22],[24,25,13,25,"cache"],[24,30,13,30],[25,4,14,4],[25,11,14,11,"cache"],[25,16,14,16],[26,2,15,0],[27,2,16,0],[27,17,16,15,"embedFonts"],[27,27,16,25,"embedFonts"],[27,28,16,26,"data"],[27,32,16,30],[27,34,16,32,"options"],[27,41,16,39],[27,43,16,41],[28,4,17,4],[28,8,17,8,"cssText"],[28,15,17,15],[28,18,17,18,"data"],[28,22,17,22],[28,23,17,23,"cssText"],[28,30,17,30],[29,4,18,4],[29,10,18,10,"regexUrl"],[29,18,18,18],[29,21,18,21],[29,50,18,50],[30,4,19,4],[30,10,19,10,"fontLocs"],[30,18,19,18],[30,21,19,21,"cssText"],[30,28,19,28],[30,29,19,29,"match"],[30,34,19,34],[30,35,19,35],[30,50,19,50],[30,51,19,51],[30,55,19,55],[30,57,19,57],[31,4,20,4],[31,10,20,10,"loadFonts"],[31,19,20,19],[31,22,20,22,"fontLocs"],[31,30,20,30],[31,31,20,31,"map"],[31,34,20,34],[31,35,20,35],[31,41,20,42,"loc"],[31,44,20,45],[31,48,20,50],[32,6,21,8],[32,10,21,12,"url"],[32,13,21,15],[32,16,21,18,"loc"],[32,19,21,21],[32,20,21,22,"replace"],[32,27,21,29],[32,28,21,30,"regexUrl"],[32,36,21,38],[32,38,21,40],[32,42,21,44],[32,43,21,45],[33,6,22,8],[33,10,22,12],[33,11,22,13,"url"],[33,14,22,16],[33,15,22,17,"startsWith"],[33,25,22,27],[33,26,22,28],[33,36,22,38],[33,37,22,39],[33,39,22,41],[34,8,23,12,"url"],[34,11,23,15],[34,14,23,18],[34,18,23,22,"URL"],[34,21,23,25],[34,22,23,26,"url"],[34,25,23,29],[34,27,23,31,"data"],[34,31,23,35],[34,32,23,36,"url"],[34,35,23,39],[34,36,23,40],[34,37,23,41,"href"],[34,41,23,45],[35,6,24,8],[36,6,25,8],[36,13,25,15],[36,17,25,15,"fetchAsDataURL"],[36,25,25,29],[36,26,25,29,"fetchAsDataURL"],[36,40,25,29],[36,42,25,30,"url"],[36,45,25,33],[36,47,25,35,"options"],[36,54,25,42],[36,55,25,43,"fetchRequestInit"],[36,71,25,59],[36,73,25,61],[36,74,25,62],[37,8,25,64,"result"],[38,6,25,71],[38,7,25,72],[38,12,25,77],[39,8,26,12,"cssText"],[39,15,26,19],[39,18,26,22,"cssText"],[39,25,26,29],[39,26,26,30,"replace"],[39,33,26,37],[39,34,26,38,"loc"],[39,37,26,41],[39,39,26,43],[39,46,26,50,"result"],[39,52,26,56],[39,55,26,59],[39,56,26,60],[40,8,27,12],[40,15,27,19],[40,16,27,20,"loc"],[40,19,27,23],[40,21,27,25,"result"],[40,27,27,31],[40,28,27,32],[41,6,28,8],[41,7,28,9],[41,8,28,10],[42,4,29,4],[42,5,29,5],[42,6,29,6],[43,4,30,4],[43,11,30,11,"Promise"],[43,18,30,18],[43,19,30,19,"all"],[43,22,30,22],[43,23,30,23,"loadFonts"],[43,32,30,32],[43,33,30,33],[43,34,30,34,"then"],[43,38,30,38],[43,39,30,39],[43,45,30,45,"cssText"],[43,52,30,52],[43,53,30,53],[44,2,31,0],[45,2,32,0],[45,11,32,9,"parseCSS"],[45,19,32,17,"parseCSS"],[45,20,32,18,"source"],[45,26,32,24],[45,28,32,26],[46,4,33,4],[46,8,33,8,"source"],[46,14,33,14],[46,18,33,18],[46,22,33,22],[46,24,33,24],[47,6,34,8],[47,13,34,15],[47,15,34,17],[48,4,35,4],[49,4,36,4],[49,10,36,10,"result"],[49,16,36,16],[49,19,36,19],[49,21,36,21],[50,4,37,4],[50,10,37,10,"commentsRegex"],[50,23,37,23],[50,26,37,26],[50,48,37,48],[51,4,38,4],[52,4,39,4],[52,8,39,8,"cssText"],[52,15,39,15],[52,18,39,18,"source"],[52,24,39,24],[52,25,39,25,"replace"],[52,32,39,32],[52,33,39,33,"commentsRegex"],[52,46,39,46],[52,48,39,48],[52,50,39,50],[52,51,39,51],[53,4,40,4],[54,4,41,4],[54,10,41,10,"keyframesRegex"],[54,24,41,24],[54,27,41,27],[54,31,41,31,"RegExp"],[54,37,41,37],[54,38,41,38],[54,88,41,88],[54,90,41,90],[54,94,41,94],[54,95,41,95],[55,4,42,4],[56,4,43,4],[56,11,43,11],[56,15,43,15],[56,17,43,17],[57,6,44,8],[57,12,44,14,"matches"],[57,19,44,21],[57,22,44,24,"keyframesRegex"],[57,36,44,38],[57,37,44,39,"exec"],[57,41,44,43],[57,42,44,44,"cssText"],[57,49,44,51],[57,50,44,52],[58,6,45,8],[58,10,45,12,"matches"],[58,17,45,19],[58,22,45,24],[58,26,45,28],[58,28,45,30],[59,8,46,12],[60,6,47,8],[61,6,48,8,"result"],[61,12,48,14],[61,13,48,15,"push"],[61,17,48,19],[61,18,48,20,"matches"],[61,25,48,27],[61,26,48,28],[61,27,48,29],[61,28,48,30],[61,29,48,31],[62,4,49,4],[63,4,50,4,"cssText"],[63,11,50,11],[63,14,50,14,"cssText"],[63,21,50,21],[63,22,50,22,"replace"],[63,29,50,29],[63,30,50,30,"keyframesRegex"],[63,44,50,44],[63,46,50,46],[63,48,50,48],[63,49,50,49],[64,4,51,4],[64,10,51,10,"importRegex"],[64,21,51,21],[64,24,51,24],[64,64,51,64],[65,4,52,4],[66,4,53,4],[66,10,53,10,"combinedCSSRegex"],[66,26,53,26],[66,29,53,29],[66,84,53,84],[66,87,54,8],[66,142,54,63],[67,4,55,4],[68,4,56,4],[68,10,56,10,"unifiedRegex"],[68,22,56,22],[68,25,56,25],[68,29,56,29,"RegExp"],[68,35,56,35],[68,36,56,36,"combinedCSSRegex"],[68,52,56,52],[68,54,56,54],[68,58,56,58],[68,59,56,59],[69,4,57,4],[70,4,58,4],[70,11,58,11],[70,15,58,15],[70,17,58,17],[71,6,59,8],[71,10,59,12,"matches"],[71,17,59,19],[71,20,59,22,"importRegex"],[71,31,59,33],[71,32,59,34,"exec"],[71,36,59,38],[71,37,59,39,"cssText"],[71,44,59,46],[71,45,59,47],[72,6,60,8],[72,10,60,12,"matches"],[72,17,60,19],[72,22,60,24],[72,26,60,28],[72,28,60,30],[73,8,61,12,"matches"],[73,15,61,19],[73,18,61,22,"unifiedRegex"],[73,30,61,34],[73,31,61,35,"exec"],[73,35,61,39],[73,36,61,40,"cssText"],[73,43,61,47],[73,44,61,48],[74,8,62,12],[74,12,62,16,"matches"],[74,19,62,23],[74,24,62,28],[74,28,62,32],[74,30,62,34],[75,10,63,16],[76,8,64,12],[76,9,64,13],[76,15,65,17],[77,10,66,16,"importRegex"],[77,21,66,27],[77,22,66,28,"lastIndex"],[77,31,66,37],[77,34,66,40,"unifiedRegex"],[77,46,66,52],[77,47,66,53,"lastIndex"],[77,56,66,62],[78,8,67,12],[79,6,68,8],[79,7,68,9],[79,13,69,13],[80,8,70,12,"unifiedRegex"],[80,20,70,24],[80,21,70,25,"lastIndex"],[80,30,70,34],[80,33,70,37,"importRegex"],[80,44,70,48],[80,45,70,49,"lastIndex"],[80,54,70,58],[81,6,71,8],[82,6,72,8,"result"],[82,12,72,14],[82,13,72,15,"push"],[82,17,72,19],[82,18,72,20,"matches"],[82,25,72,27],[82,26,72,28],[82,27,72,29],[82,28,72,30],[82,29,72,31],[83,4,73,4],[84,4,74,4],[84,11,74,11,"result"],[84,17,74,17],[85,2,75,0],[86,2,76,0],[86,17,76,15,"getCSSRules"],[86,28,76,26,"getCSSRules"],[86,29,76,27,"styleSheets"],[86,40,76,38],[86,42,76,40,"options"],[86,49,76,47],[86,51,76,49],[87,4,77,4],[87,10,77,10,"ret"],[87,13,77,13],[87,16,77,16],[87,18,77,18],[88,4,78,4],[88,10,78,10,"deferreds"],[88,19,78,19],[88,22,78,22],[88,24,78,24],[89,4,79,4],[90,4,80,4,"styleSheets"],[90,15,80,15],[90,16,80,16,"forEach"],[90,23,80,23],[90,24,80,25,"sheet"],[90,29,80,30],[90,33,80,35],[91,6,81,8],[91,10,81,12],[91,20,81,22],[91,24,81,26,"sheet"],[91,29,81,31],[91,31,81,33],[92,8,82,12],[92,12,82,16],[93,10,83,16],[93,14,83,16,"toArray"],[93,19,83,23],[93,20,83,23,"toArray"],[93,27,83,23],[93,29,83,24,"sheet"],[93,34,83,29],[93,35,83,30,"cssRules"],[93,43,83,38],[93,47,83,42],[93,49,83,44],[93,50,83,45],[93,51,83,46,"forEach"],[93,58,83,53],[93,59,83,54],[93,60,83,55,"item"],[93,64,83,59],[93,66,83,61,"index"],[93,71,83,66],[93,76,83,71],[94,12,84,20],[94,16,84,24,"item"],[94,20,84,28],[94,21,84,29,"type"],[94,25,84,33],[94,30,84,38,"CSSRule"],[94,37,84,45],[94,38,84,46,"IMPORT_RULE"],[94,49,84,57],[94,51,84,59],[95,14,85,24],[95,18,85,28,"importIndex"],[95,29,85,39],[95,32,85,42,"index"],[95,37,85,47],[95,40,85,50],[95,41,85,51],[96,14,86,24],[96,20,86,30,"url"],[96,23,86,33],[96,26,86,36,"item"],[96,30,86,40],[96,31,86,41,"href"],[96,35,86,45],[97,14,87,24],[97,20,87,30,"deferred"],[97,28,87,38],[97,31,87,41,"fetchCSS"],[97,39,87,49],[97,40,87,50,"url"],[97,43,87,53],[97,44,87,54],[97,45,88,29,"then"],[97,49,88,33],[97,50,88,35,"metadata"],[97,58,88,43],[97,62,88,48,"embedFonts"],[97,72,88,58],[97,73,88,59,"metadata"],[97,81,88,67],[97,83,88,69,"options"],[97,90,88,76],[97,91,88,77],[97,92,88,78],[97,93,89,29,"then"],[97,97,89,33],[97,98,89,35,"cssText"],[97,105,89,42],[97,109,89,47,"parseCSS"],[97,117,89,55],[97,118,89,56,"cssText"],[97,125,89,63],[97,126,89,64],[97,127,89,65,"forEach"],[97,134,89,72],[97,135,89,74,"rule"],[97,139,89,78],[97,143,89,83],[98,16,90,28],[98,20,90,32],[99,18,91,32,"sheet"],[99,23,91,37],[99,24,91,38,"insertRule"],[99,34,91,48],[99,35,91,49,"rule"],[99,39,91,53],[99,41,91,55,"rule"],[99,45,91,59],[99,46,91,60,"startsWith"],[99,56,91,70],[99,57,91,71],[99,66,91,80],[99,67,91,81],[99,70,92,39,"importIndex"],[99,81,92,50],[99,85,92,54],[99,86,92,55],[99,89,93,38,"sheet"],[99,94,93,43],[99,95,93,44,"cssRules"],[99,103,93,52],[99,104,93,53,"length"],[99,110,93,59],[99,111,93,60],[100,16,94,28],[100,17,94,29],[100,18,95,28],[100,25,95,35,"error"],[100,30,95,40],[100,32,95,42],[101,18,96,32,"console"],[101,25,96,39],[101,26,96,40,"error"],[101,31,96,45],[101,32,96,46],[101,70,96,84],[101,72,96,86],[102,20,97,36,"rule"],[102,24,97,40],[103,20,98,36,"error"],[104,18,99,32],[104,19,99,33],[104,20,99,34],[105,16,100,28],[106,14,101,24],[106,15,101,25],[106,16,101,26],[106,17,101,27],[106,18,102,29,"catch"],[106,23,102,34],[106,24,102,36,"e"],[106,25,102,37],[106,29,102,42],[107,16,103,28,"console"],[107,23,103,35],[107,24,103,36,"error"],[107,29,103,41],[107,30,103,42],[107,56,103,68],[107,58,103,70,"e"],[107,59,103,71],[107,60,103,72,"toString"],[107,68,103,80],[107,69,103,81],[107,70,103,82],[107,71,103,83],[108,14,104,24],[108,15,104,25],[108,16,104,26],[109,14,105,24,"deferreds"],[109,23,105,33],[109,24,105,34,"push"],[109,28,105,38],[109,29,105,39,"deferred"],[109,37,105,47],[109,38,105,48],[110,12,106,20],[111,10,107,16],[111,11,107,17],[111,12,107,18],[112,8,108,12],[112,9,108,13],[112,10,109,12],[112,17,109,19,"e"],[112,18,109,20],[112,20,109,22],[113,10,110,16],[113,16,110,22,"inline"],[113,22,110,28],[113,25,110,31,"styleSheets"],[113,36,110,42],[113,37,110,43,"find"],[113,41,110,47],[113,42,110,49,"a"],[113,43,110,50],[113,47,110,55,"a"],[113,48,110,56],[113,49,110,57,"href"],[113,53,110,61],[113,57,110,65],[113,61,110,69],[113,62,110,70],[113,66,110,74,"document"],[113,74,110,82],[113,75,110,83,"styleSheets"],[113,86,110,94],[113,87,110,95],[113,88,110,96],[113,89,110,97],[114,10,111,16],[114,14,111,20,"sheet"],[114,19,111,25],[114,20,111,26,"href"],[114,24,111,30],[114,28,111,34],[114,32,111,38],[114,34,111,40],[115,12,112,20,"deferreds"],[115,21,112,29],[115,22,112,30,"push"],[115,26,112,34],[115,27,112,35,"fetchCSS"],[115,35,112,43],[115,36,112,44,"sheet"],[115,41,112,49],[115,42,112,50,"href"],[115,46,112,54],[115,47,112,55],[115,48,113,25,"then"],[115,52,113,29],[115,53,113,31,"metadata"],[115,61,113,39],[115,65,113,44,"embedFonts"],[115,75,113,54],[115,76,113,55,"metadata"],[115,84,113,63],[115,86,113,65,"options"],[115,93,113,72],[115,94,113,73],[115,95,113,74],[115,96,114,25,"then"],[115,100,114,29],[115,101,114,31,"cssText"],[115,108,114,38],[115,112,114,43,"parseCSS"],[115,120,114,51],[115,121,114,52,"cssText"],[115,128,114,59],[115,129,114,60],[115,130,114,61,"forEach"],[115,137,114,68],[115,138,114,70,"rule"],[115,142,114,74],[115,146,114,79],[116,14,115,24,"inline"],[116,20,115,30],[116,21,115,31,"insertRule"],[116,31,115,41],[116,32,115,42,"rule"],[116,36,115,46],[116,38,115,48,"inline"],[116,44,115,54],[116,45,115,55,"cssRules"],[116,53,115,63],[116,54,115,64,"length"],[116,60,115,70],[116,61,115,71],[117,12,116,20],[117,13,116,21],[117,14,116,22],[117,15,116,23],[117,16,117,25,"catch"],[117,21,117,30],[117,22,117,32,"err"],[117,25,117,35],[117,29,117,40],[118,14,118,24,"console"],[118,21,118,31],[118,22,118,32,"error"],[118,27,118,37],[118,28,118,38],[118,61,118,71],[118,63,118,73,"err"],[118,66,118,76],[118,67,118,77],[119,12,119,20],[119,13,119,21],[119,14,119,22],[119,15,119,23],[120,10,120,16],[121,10,121,16,"console"],[121,17,121,23],[121,18,121,24,"error"],[121,23,121,29],[121,24,121,30],[121,56,121,62],[121,58,121,64,"e"],[121,59,121,65],[121,60,121,66],[122,8,122,12],[123,6,123,8],[124,4,124,4],[124,5,124,5],[124,6,124,6],[125,4,125,4],[125,11,125,11,"Promise"],[125,18,125,18],[125,19,125,19,"all"],[125,22,125,22],[125,23,125,23,"deferreds"],[125,32,125,32],[125,33,125,33],[125,34,125,34,"then"],[125,38,125,38],[125,39,125,39],[125,45,125,45],[126,6,126,8],[127,6,127,8,"styleSheets"],[127,17,127,19],[127,18,127,20,"forEach"],[127,25,127,27],[127,26,127,29,"sheet"],[127,31,127,34],[127,35,127,39],[128,8,128,12],[128,12,128,16],[128,22,128,26],[128,26,128,30,"sheet"],[128,31,128,35],[128,33,128,37],[129,10,129,16],[129,14,129,20],[130,12,130,20],[130,16,130,20,"toArray"],[130,21,130,27],[130,22,130,27,"toArray"],[130,29,130,27],[130,31,130,28,"sheet"],[130,36,130,33],[130,37,130,34,"cssRules"],[130,45,130,42],[130,49,130,46],[130,51,130,48],[130,52,130,49],[130,53,130,50,"forEach"],[130,60,130,57],[130,61,130,59,"item"],[130,65,130,63],[130,69,130,68],[131,14,131,24,"ret"],[131,17,131,27],[131,18,131,28,"push"],[131,22,131,32],[131,23,131,33,"item"],[131,27,131,37],[131,28,131,38],[132,12,132,20],[132,13,132,21],[132,14,132,22],[133,10,133,16],[133,11,133,17],[133,12,134,16],[133,19,134,23,"e"],[133,20,134,24],[133,22,134,26],[134,12,135,20,"console"],[134,19,135,27],[134,20,135,28,"error"],[134,25,135,33],[134,26,135,34],[134,64,135,72,"sheet"],[134,69,135,77],[134,70,135,78,"href"],[134,74,135,82],[134,76,135,84],[134,78,135,86,"e"],[134,79,135,87],[134,80,135,88],[135,10,136,16],[136,8,137,12],[137,6,138,8],[137,7,138,9],[137,8,138,10],[138,6,139,8],[138,13,139,15,"ret"],[138,16,139,18],[139,4,140,4],[139,5,140,5],[139,6,140,6],[140,2,141,0],[141,2,142,0],[141,11,142,9,"getWebFontRules"],[141,26,142,24,"getWebFontRules"],[141,27,142,25,"cssRules"],[141,35,142,33],[141,37,142,35],[142,4,143,4],[142,11,143,11,"cssRules"],[142,19,143,19],[142,20,144,9,"filter"],[142,26,144,15],[142,27,144,17,"rule"],[142,31,144,21],[142,35,144,26,"rule"],[142,39,144,30],[142,40,144,31,"type"],[142,44,144,35],[142,49,144,40,"CSSRule"],[142,56,144,47],[142,57,144,48,"FONT_FACE_RULE"],[142,71,144,62],[142,72,144,63],[142,73,145,9,"filter"],[142,79,145,15],[142,80,145,17,"rule"],[142,84,145,21],[142,88,145,26],[142,92,145,26,"shouldEmbed"],[142,107,145,37],[142,108,145,37,"shouldEmbed"],[142,119,145,37],[142,121,145,38,"rule"],[142,125,145,42],[142,126,145,43,"style"],[142,131,145,48],[142,132,145,49,"getPropertyValue"],[142,148,145,65],[142,149,145,66],[142,154,145,71],[142,155,145,72],[142,156,145,73],[142,157,145,74],[143,2,146,0],[144,2,147,0],[144,17,147,15,"parseWebFontRules"],[144,34,147,32,"parseWebFontRules"],[144,35,147,33,"node"],[144,39,147,37],[144,41,147,39,"options"],[144,48,147,46],[144,50,147,48],[145,4,148,4],[145,8,148,8,"node"],[145,12,148,12],[145,13,148,13,"ownerDocument"],[145,26,148,26],[145,30,148,30],[145,34,148,34],[145,36,148,36],[146,6,149,8],[146,12,149,14],[146,16,149,18,"Error"],[146,21,149,23],[146,22,149,24],[146,65,149,67],[146,66,149,68],[147,4,150,4],[148,4,151,4],[148,10,151,10,"styleSheets"],[148,21,151,21],[148,24,151,24],[148,28,151,24,"toArray"],[148,33,151,31],[148,34,151,31,"toArray"],[148,41,151,31],[148,43,151,32,"node"],[148,47,151,36],[148,48,151,37,"ownerDocument"],[148,61,151,50],[148,62,151,51,"styleSheets"],[148,73,151,62],[148,74,151,63],[149,4,152,4],[149,10,152,10,"cssRules"],[149,18,152,18],[149,21,152,21],[149,27,152,27,"getCSSRules"],[149,38,152,38],[149,39,152,39,"styleSheets"],[149,50,152,50],[149,52,152,52,"options"],[149,59,152,59],[149,60,152,60],[150,4,153,4],[150,11,153,11,"getWebFontRules"],[150,26,153,26],[150,27,153,27,"cssRules"],[150,35,153,35],[150,36,153,36],[151,2,154,0],[152,2,155,0],[152,11,155,9,"normalizeFontFamily"],[152,30,155,28,"normalizeFontFamily"],[152,31,155,29,"font"],[152,35,155,33],[152,37,155,35],[153,4,156,4],[153,11,156,11,"font"],[153,15,156,15],[153,16,156,16,"trim"],[153,20,156,20],[153,21,156,21],[153,22,156,22],[153,23,156,23,"replace"],[153,30,156,30],[153,31,156,31],[153,38,156,38],[153,40,156,40],[153,42,156,42],[153,43,156,43],[154,2,157,0],[155,2,158,0],[155,11,158,9,"getUsedFonts"],[155,23,158,21,"getUsedFonts"],[155,24,158,22,"node"],[155,28,158,26],[155,30,158,28],[156,4,159,4],[156,10,159,10,"fonts"],[156,15,159,15],[156,18,159,18],[156,22,159,22,"Set"],[156,25,159,25],[156,26,159,26],[156,27,159,27],[157,4,160,4],[157,13,160,13,"traverse"],[157,21,160,21,"traverse"],[157,22,160,22,"node"],[157,26,160,26],[157,28,160,28],[158,6,161,8],[158,12,161,14,"fontFamily"],[158,22,161,24],[158,25,161,27,"node"],[158,29,161,31],[158,30,161,32,"style"],[158,35,161,37],[158,36,161,38,"fontFamily"],[158,46,161,48],[158,50,161,52,"getComputedStyle"],[158,66,161,68],[158,67,161,69,"node"],[158,71,161,73],[158,72,161,74],[158,73,161,75,"fontFamily"],[158,83,161,85],[159,6,162,8,"fontFamily"],[159,16,162,18],[159,17,162,19,"split"],[159,22,162,24],[159,23,162,25],[159,26,162,28],[159,27,162,29],[159,28,162,30,"forEach"],[159,35,162,37],[159,36,162,39,"font"],[159,40,162,43],[159,44,162,48],[160,8,163,12,"fonts"],[160,13,163,17],[160,14,163,18,"add"],[160,17,163,21],[160,18,163,22,"normalizeFontFamily"],[160,37,163,41],[160,38,163,42,"font"],[160,42,163,46],[160,43,163,47],[160,44,163,48],[161,6,164,8],[161,7,164,9],[161,8,164,10],[162,6,165,8,"Array"],[162,11,165,13],[162,12,165,14,"from"],[162,16,165,18],[162,17,165,19,"node"],[162,21,165,23],[162,22,165,24,"children"],[162,30,165,32],[162,31,165,33],[162,32,165,34,"forEach"],[162,39,165,41],[162,40,165,43,"child"],[162,45,165,48],[162,49,165,53],[163,8,166,12],[163,12,166,16,"child"],[163,17,166,21],[163,29,166,33,"HTMLElement"],[163,40,166,44],[163,42,166,46],[164,10,167,16,"traverse"],[164,18,167,24],[164,19,167,25,"child"],[164,24,167,30],[164,25,167,31],[165,8,168,12],[166,6,169,8],[166,7,169,9],[166,8,169,10],[167,4,170,4],[168,4,171,4,"traverse"],[168,12,171,12],[168,13,171,13,"node"],[168,17,171,17],[168,18,171,18],[169,4,172,4],[169,11,172,11,"fonts"],[169,16,172,16],[170,2,173,0],[171,2,174,7],[171,17,174,22,"getWebFontCSS"],[171,30,174,35,"getWebFontCSS"],[171,31,174,36,"node"],[171,35,174,40],[171,37,174,42,"options"],[171,44,174,49],[171,46,174,51],[172,4,175,4],[172,10,175,10,"rules"],[172,15,175,15],[172,18,175,18],[172,24,175,24,"parseWebFontRules"],[172,41,175,41],[172,42,175,42,"node"],[172,46,175,46],[172,48,175,48,"options"],[172,55,175,55],[172,56,175,56],[173,4,176,4],[173,10,176,10,"usedFonts"],[173,19,176,19],[173,22,176,22,"getUsedFonts"],[173,34,176,34],[173,35,176,35,"node"],[173,39,176,39],[173,40,176,40],[174,4,177,4],[174,10,177,10,"cssTexts"],[174,18,177,18],[174,21,177,21],[174,27,177,27,"Promise"],[174,34,177,34],[174,35,177,35,"all"],[174,38,177,38],[174,39,177,39,"rules"],[174,44,177,44],[174,45,178,9,"filter"],[174,51,178,15],[174,52,178,17,"rule"],[174,56,178,21],[174,60,178,26,"usedFonts"],[174,69,178,35],[174,70,178,36,"has"],[174,73,178,39],[174,74,178,40,"normalizeFontFamily"],[174,93,178,59],[174,94,178,60,"rule"],[174,98,178,64],[174,99,178,65,"style"],[174,104,178,70],[174,105,178,71,"fontFamily"],[174,115,178,81],[174,116,178,82],[174,117,178,83],[174,118,178,84],[174,119,179,9,"map"],[174,122,179,12],[174,123,179,14,"rule"],[174,127,179,18],[174,131,179,23],[175,6,180,8],[175,12,180,14,"baseUrl"],[175,19,180,21],[175,22,180,24,"rule"],[175,26,180,28],[175,27,180,29,"parentStyleSheet"],[175,43,180,45],[175,46,181,14,"rule"],[175,50,181,18],[175,51,181,19,"parentStyleSheet"],[175,67,181,35],[175,68,181,36,"href"],[175,72,181,40],[175,75,182,14],[175,79,182,18],[176,6,183,8],[176,13,183,15],[176,17,183,15,"embedResources"],[176,32,183,29],[176,33,183,29,"embedResources"],[176,47,183,29],[176,49,183,30,"rule"],[176,53,183,34],[176,54,183,35,"cssText"],[176,61,183,42],[176,63,183,44,"baseUrl"],[176,70,183,51],[176,72,183,53,"options"],[176,79,183,60],[176,80,183,61],[177,4,184,4],[177,5,184,5],[177,6,184,6],[177,7,184,7],[178,4,185,4],[178,11,185,11,"cssTexts"],[178,19,185,19],[178,20,185,20,"join"],[178,24,185,24],[178,25,185,25],[178,29,185,29],[178,30,185,30],[179,2,186,0],[180,2,187,7],[180,17,187,22,"embedWebFonts"],[180,30,187,35,"embedWebFonts"],[180,31,187,36,"clonedNode"],[180,41,187,46],[180,43,187,48,"options"],[180,50,187,55],[180,52,187,57],[181,4,188,4],[181,10,188,10,"cssText"],[181,17,188,17],[181,20,188,20,"options"],[181,27,188,27],[181,28,188,28,"fontEmbedCSS"],[181,40,188,40],[181,44,188,44],[181,48,188,48],[181,51,189,10,"options"],[181,58,189,17],[181,59,189,18,"fontEmbedCSS"],[181,71,189,30],[181,74,190,10,"options"],[181,81,190,17],[181,82,190,18,"skipFonts"],[181,91,190,27],[181,94,191,14],[181,98,191,18],[181,101,192,14],[181,107,192,20,"getWebFontCSS"],[181,120,192,33],[181,121,192,34,"clonedNode"],[181,131,192,44],[181,133,192,46,"options"],[181,140,192,53],[181,141,192,54],[182,4,193,4],[182,8,193,8,"cssText"],[182,15,193,15],[182,17,193,17],[183,6,194,8],[183,12,194,14,"styleNode"],[183,21,194,23],[183,24,194,26,"document"],[183,32,194,34],[183,33,194,35,"createElement"],[183,46,194,48],[183,47,194,49],[183,54,194,56],[183,55,194,57],[184,6,195,8],[184,12,195,14,"sytleContent"],[184,24,195,26],[184,27,195,29,"document"],[184,35,195,37],[184,36,195,38,"createTextNode"],[184,50,195,52],[184,51,195,53,"cssText"],[184,58,195,60],[184,59,195,61],[185,6,196,8,"styleNode"],[185,15,196,17],[185,16,196,18,"appendChild"],[185,27,196,29],[185,28,196,30,"sytleContent"],[185,40,196,42],[185,41,196,43],[186,6,197,8],[186,10,197,12,"clonedNode"],[186,20,197,22],[186,21,197,23,"firstChild"],[186,31,197,33],[186,33,197,35],[187,8,198,12,"clonedNode"],[187,18,198,22],[187,19,198,23,"insertBefore"],[187,31,198,35],[187,32,198,36,"styleNode"],[187,41,198,45],[187,43,198,47,"clonedNode"],[187,53,198,57],[187,54,198,58,"firstChild"],[187,64,198,68],[187,65,198,69],[188,6,199,8],[188,7,199,9],[188,13,200,13],[189,8,201,12,"clonedNode"],[189,18,201,22],[189,19,201,23,"appendChild"],[189,30,201,34],[189,31,201,35,"styleNode"],[189,40,201,44],[189,41,201,45],[190,6,202,8],[191,4,203,4],[192,2,204,0],[193,0,204,1],[193,3]],"functionMap":{"names":["<global>","fetchCSS","embedFonts","fontLocs.map$argument_0","fetchAsDataURL$argument_2","Promise.all.then$argument_0","parseCSS","getCSSRules","styleSheets.forEach$argument_0","toArray.forEach$argument_0","fetchCSS.then$argument_0","fetchCSS.then.then$argument_0","parseCSS.forEach$argument_0","fetchCSS.then.then._catch$argument_0","styleSheets.find$argument_0","getWebFontRules","cssRules.filter$argument_0","cssRules.filter.filter$argument_0","parseWebFontRules","normalizeFontFamily","getUsedFonts","traverse","fontFamily.split.forEach$argument_0","Array.from.forEach$argument_0","getWebFontCSS","rules.filter$argument_0","rules.filter.map$argument_0","embedWebFonts"],"mappings":"AAA;ACI;CDU;AEC;mCCI;6DCK;SDG;KDC;uCGC,aH;CFC;AMC;CN2C;AOC;wBCI;sDCG;kCCK,2CD;kCEC,uCC;yBDY,CF;mCIC;yBJE;iBDG;gDMG,qBN;8BEG,2CF;8BGC,uCC;qBDE,CH;+BKC;qBLE;KDK;uCFC;4BGE;0DCG;qBDE;SHM;KEE;CPC;AeC;gBCE,8CD;gBEC,yDF;CfC;AkBC;ClBO;AmBC;CnBE;AoBC;ICE;sCCE;SDE;0CEC;SFI;KDC;CpBG;OwBC;gBCI,mED;aEC;KFK;CxBE;O2BC;C3BiB"},"hasCjsExports":false},"type":"js/module"}]}