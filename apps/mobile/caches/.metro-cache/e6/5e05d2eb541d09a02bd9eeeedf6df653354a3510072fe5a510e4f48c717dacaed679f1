{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":37,"index":83}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":47,"index":131}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"@/utils/dateCreditsHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":7,"column":36,"index":230}}],"key":"oRWBdvQUhGiyZ/vbJNT/hHj85Fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useDateCreditsActions = useDateCreditsActions;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1]);\n  var _reactNative = require(_dependencyMap[2]);\n  var _reactNativePurchases = require(_dependencyMap[3]);\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _utilsDateCreditsHelpers = require(_dependencyMap[4]);\n  function useDateCreditsActions(_ref) {\n    var userId = _ref.userId,\n      setUserId = _ref.setUserId,\n      jwt = _ref.jwt,\n      tier = _ref.tier,\n      matchIdParam = _ref.matchIdParam,\n      returnToParam = _ref.returnToParam,\n      router = _ref.router,\n      refresh = _ref.refresh,\n      credits = _ref.credits,\n      setCredits = _ref.setCredits,\n      maxCredits = _ref.maxCredits,\n      setMaxCredits = _ref.setMaxCredits,\n      balanceCents = _ref.balanceCents,\n      setBalanceCents = _ref.setBalanceCents,\n      isDevRuntime = _ref.isDevRuntime;\n    var stockedUp = (0, _react.useMemo)(() => {\n      var c = Number(credits || 0);\n      var m = Number(maxCredits || 0);\n      if (!Number.isFinite(c) || !Number.isFinite(m)) return false;\n      if (m <= 0) return false;\n      return c >= m;\n    }, [credits, maxCredits]);\n    var goBack = (0, _react.useCallback)(function () {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var next = returnToParam;\n      var purchaseStateRaw = opts?.purchaseState;\n      var purchaseState = purchaseStateRaw != null ? String(purchaseStateRaw).trim() : \"\";\n\n      // Add a nonce so the Messages screen can reliably refresh credits/matches\n      var refreshNonce = String(Date.now());\n      var appendParam = (url, key, value) => {\n        var joiner = url.includes(\"?\") ? \"&\" : \"?\";\n        return `${url}${joiner}${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      };\n      next = appendParam(next, \"creditsRefresh\", refreshNonce);\n      if (purchaseState) {\n        next = appendParam(next, \"purchaseState\", purchaseState);\n      }\n      if (matchIdParam) {\n        var isMessagesList = String(returnToParam || \"\").split(\"?\")[0] === \"/messages\";\n        if (isMessagesList) {\n          next = appendParam(next, \"matchId\", matchIdParam);\n        }\n      }\n      router.replace(next);\n    }, [matchIdParam, returnToParam, router]);\n\n    // NEW: link the RevenueCat app user id (often $RCAnonymousID:...) to our numeric user id.\n    // This makes the webhook able to credit the right wallet reliably.\n    var linkRevenueCatToUser = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (uid) {\n        var idNum = Number(uid);\n        var hasJwt = jwt && typeof jwt === \"string\";\n        if (!Number.isFinite(idNum) && !hasJwt) return;\n        try {\n          var info = yield Purchases.default.getCustomerInfo();\n          var candidates = [info?.appUserID, info?.appUserId, info?.originalAppUserId, info?.originalAppUserID].map(v => v != null ? String(v).trim() : \"\").filter(Boolean);\n\n          // De-dupe\n          var uniq = Array.from(new Set(candidates));\n          if (!uniq.length) return;\n          var headers = {\n            \"Content-Type\": \"application/json\"\n          };\n          if (hasJwt) {\n            headers.Authorization = `Bearer ${jwt}`;\n          }\n\n          // v2 API: can link multiple app user ids in one request.\n          yield fetch(\"/api/revenuecat/link\", {\n            method: \"POST\",\n            headers,\n            body: JSON.stringify({\n              userId: Number.isFinite(idNum) ? idNum : undefined,\n              appUserIds: uniq\n            })\n          }).catch(() => null);\n        } catch (e) {\n          // Not fatal â€” purchases can still work; this just improves webhook mapping.\n          console.error(e);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [jwt]);\n    var devGrantOneCredit = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!isDevRuntime) {\n        _reactNative.Alert.alert(\"Not available\", \"This is only available in development.\");\n        return {\n          ok: false,\n          skipped: true\n        };\n      }\n      if (!userId) {\n        _reactNative.Alert.alert(\"Sign in\", \"Please sign in again.\");\n        return {\n          ok: false,\n          error: \"Missing userId\"\n        };\n      }\n      try {\n        var resp = yield fetch(\"/api/dev/date-credits/grant\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            userId: Number(userId),\n            amountCents: 3000\n          })\n        });\n        if (!resp.ok) {\n          var text = yield resp.text().catch(() => \"\");\n          throw new Error(`Dev grant failed: [${resp.status}] ${resp.statusText} ${text}`);\n        }\n        yield refresh(userId);\n        return {\n          ok: true\n        };\n      } catch (e) {\n        console.error(e);\n        _reactNative.Alert.alert(\"Error\", \"Could not add a dev credit.\");\n        return {\n          ok: false,\n          error: e?.message || \"Dev grant failed\"\n        };\n      }\n    }), [isDevRuntime, refresh, userId]);\n    var claimCreditFromClient = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (_ref4) {\n        var transactionId = _ref4.transactionId,\n          productId = _ref4.productId;\n        // IMPORTANT:\n        // We require *some* auth token here so the backend can map the claim to a user.\n        // This can be either:\n        // - Web auth JWT (NextAuth) OR\n        // - OTP apiJwt (issued by /api/auth/otp/verify)\n        if (!jwt || typeof jwt !== \"string\") {\n          return {\n            ok: false,\n            skipped: true\n          };\n        }\n        var resp = yield fetch(\"/api/date-credits/claim\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${jwt}`\n          },\n          body: JSON.stringify({\n            transactionId,\n            productId\n          })\n        });\n        var json = yield resp.json().catch(() => null);\n        if (!resp.ok) {\n          throw new Error(json?.error || `Claim failed (${resp.status})`);\n        }\n\n        // If claim ensured a new legacy user id, adopt it.\n        var resolvedUserId = Number(json?.userId);\n        if (Number.isFinite(resolvedUserId)) {\n          setUserId(resolvedUserId);\n          var existing = (yield (0, _utilsDateCreditsHelpers.safeReadUserFromStorage)()) || {};\n          yield (0, _utilsDateCreditsHelpers.safeWriteUserToStorage)({\n            ...existing,\n            id: resolvedUserId\n          });\n        }\n\n        // NEW: apply returned wallet status immediately so the UI can unblock\n        // even if the next status poll is slow.\n        var nextCredits = Number(json?.credits);\n        var nextMaxCredits = Number(json?.maxCredits);\n        var nextBalance = Number(json?.balanceCents);\n        if (Number.isFinite(nextCredits)) setCredits(nextCredits);\n        if (Number.isFinite(nextMaxCredits)) setMaxCredits(nextMaxCredits);\n        if (Number.isFinite(nextBalance)) setBalanceCents(nextBalance);\n        return {\n          ok: true,\n          response: json\n        };\n      });\n      return function (_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }(), [jwt, setUserId, setCredits, setMaxCredits, setBalanceCents]);\n    return {\n      stockedUp,\n      goBack,\n      linkRevenueCatToUser,\n      devGrantOneCredit,\n      claimCreditFromClient\n    };\n  }\n});","lineCount":217,"map":[[12,2,9,0,"exports"],[12,9,9,0],[12,10,9,0,"useDateCreditsActions"],[12,31,9,0],[12,34,9,0,"useDateCreditsActions"],[12,55,9,0],[13,2,202,1],[13,6,202,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,202,1],[13,45,202,1,"require"],[13,52,202,1],[13,53,202,1,"_dependencyMap"],[13,67,202,1],[14,2,202,1],[14,6,202,1,"_asyncToGenerator"],[14,23,202,1],[14,26,202,1,"_interopDefault"],[14,41,202,1],[14,42,202,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,202,1],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNative"],[16,18,2,0],[16,21,2,0,"require"],[16,28,2,0],[16,29,2,0,"_dependencyMap"],[16,43,2,0],[17,2,3,0],[17,6,3,0,"_reactNativePurchases"],[17,27,3,0],[17,30,3,0,"require"],[17,37,3,0],[17,38,3,0,"_dependencyMap"],[17,52,3,0],[18,2,3,0],[18,6,3,0,"Purchases"],[18,15,3,0],[18,18,3,0,"_interopDefault"],[18,33,3,0],[18,34,3,0,"_reactNativePurchases"],[18,55,3,0],[19,2,4,0],[19,6,4,0,"_utilsDateCreditsHelpers"],[19,30,4,0],[19,33,4,0,"require"],[19,40,4,0],[19,41,4,0,"_dependencyMap"],[19,55,4,0],[20,2,9,7],[20,11,9,16,"useDateCreditsActions"],[20,32,9,37,"useDateCreditsActions"],[20,33,9,37,"_ref"],[20,37,9,37],[20,39,25,3],[21,4,25,3],[21,8,10,2,"userId"],[21,14,10,8],[21,17,10,8,"_ref"],[21,21,10,8],[21,22,10,2,"userId"],[21,28,10,8],[22,6,11,2,"setUserId"],[22,15,11,11],[22,18,11,11,"_ref"],[22,22,11,11],[22,23,11,2,"setUserId"],[22,32,11,11],[23,6,12,2,"jwt"],[23,9,12,5],[23,12,12,5,"_ref"],[23,16,12,5],[23,17,12,2,"jwt"],[23,20,12,5],[24,6,13,2,"tier"],[24,10,13,6],[24,13,13,6,"_ref"],[24,17,13,6],[24,18,13,2,"tier"],[24,22,13,6],[25,6,14,2,"matchIdParam"],[25,18,14,14],[25,21,14,14,"_ref"],[25,25,14,14],[25,26,14,2,"matchIdParam"],[25,38,14,14],[26,6,15,2,"returnToParam"],[26,19,15,15],[26,22,15,15,"_ref"],[26,26,15,15],[26,27,15,2,"returnToParam"],[26,40,15,15],[27,6,16,2,"router"],[27,12,16,8],[27,15,16,8,"_ref"],[27,19,16,8],[27,20,16,2,"router"],[27,26,16,8],[28,6,17,2,"refresh"],[28,13,17,9],[28,16,17,9,"_ref"],[28,20,17,9],[28,21,17,2,"refresh"],[28,28,17,9],[29,6,18,2,"credits"],[29,13,18,9],[29,16,18,9,"_ref"],[29,20,18,9],[29,21,18,2,"credits"],[29,28,18,9],[30,6,19,2,"setCredits"],[30,16,19,12],[30,19,19,12,"_ref"],[30,23,19,12],[30,24,19,2,"setCredits"],[30,34,19,12],[31,6,20,2,"maxCredits"],[31,16,20,12],[31,19,20,12,"_ref"],[31,23,20,12],[31,24,20,2,"maxCredits"],[31,34,20,12],[32,6,21,2,"setMaxCredits"],[32,19,21,15],[32,22,21,15,"_ref"],[32,26,21,15],[32,27,21,2,"setMaxCredits"],[32,40,21,15],[33,6,22,2,"balanceCents"],[33,18,22,14],[33,21,22,14,"_ref"],[33,25,22,14],[33,26,22,2,"balanceCents"],[33,38,22,14],[34,6,23,2,"setBalanceCents"],[34,21,23,17],[34,24,23,17,"_ref"],[34,28,23,17],[34,29,23,2,"setBalanceCents"],[34,44,23,17],[35,6,24,2,"isDevRuntime"],[35,18,24,14],[35,21,24,14,"_ref"],[35,25,24,14],[35,26,24,2,"isDevRuntime"],[35,38,24,14],[36,4,26,2],[36,8,26,8,"stockedUp"],[36,17,26,17],[36,20,26,20],[36,24,26,20,"useMemo"],[36,30,26,27],[36,31,26,27,"useMemo"],[36,38,26,27],[36,40,26,28],[36,46,26,34],[37,6,27,4],[37,10,27,10,"c"],[37,11,27,11],[37,14,27,14,"Number"],[37,20,27,20],[37,21,27,21,"credits"],[37,28,27,28],[37,32,27,32],[37,33,27,33],[37,34,27,34],[38,6,28,4],[38,10,28,10,"m"],[38,11,28,11],[38,14,28,14,"Number"],[38,20,28,20],[38,21,28,21,"maxCredits"],[38,31,28,31],[38,35,28,35],[38,36,28,36],[38,37,28,37],[39,6,29,4],[39,10,29,8],[39,11,29,9,"Number"],[39,17,29,15],[39,18,29,16,"isFinite"],[39,26,29,24],[39,27,29,25,"c"],[39,28,29,26],[39,29,29,27],[39,33,29,31],[39,34,29,32,"Number"],[39,40,29,38],[39,41,29,39,"isFinite"],[39,49,29,47],[39,50,29,48,"m"],[39,51,29,49],[39,52,29,50],[39,54,29,52],[39,61,29,59],[39,66,29,64],[40,6,30,4],[40,10,30,8,"m"],[40,11,30,9],[40,15,30,13],[40,16,30,14],[40,18,30,16],[40,25,30,23],[40,30,30,28],[41,6,31,4],[41,13,31,11,"c"],[41,14,31,12],[41,18,31,16,"m"],[41,19,31,17],[42,4,32,2],[42,5,32,3],[42,7,32,5],[42,8,32,6,"credits"],[42,15,32,13],[42,17,32,15,"maxCredits"],[42,27,32,25],[42,28,32,26],[42,29,32,27],[43,4,34,2],[43,8,34,8,"goBack"],[43,14,34,14],[43,17,34,17],[43,21,34,17,"useCallback"],[43,27,34,28],[43,28,34,28,"useCallback"],[43,39,34,28],[43,41,35,4],[43,53,35,19],[44,6,35,19],[44,10,35,5,"opts"],[44,14,35,9],[44,17,35,9,"arguments"],[44,26,35,9],[44,27,35,9,"length"],[44,33,35,9],[44,41,35,9,"arguments"],[44,50,35,9],[44,58,35,9,"undefined"],[44,67,35,9],[44,70,35,9,"arguments"],[44,79,35,9],[44,85,35,12],[44,86,35,13],[44,87,35,14],[45,6,36,6],[45,10,36,10,"next"],[45,14,36,14],[45,17,36,17,"returnToParam"],[45,30,36,30],[46,6,38,6],[46,10,38,12,"purchaseStateRaw"],[46,26,38,28],[46,29,38,31,"opts"],[46,33,38,35],[46,35,38,37,"purchaseState"],[46,48,38,50],[47,6,39,6],[47,10,39,12,"purchaseState"],[47,23,39,25],[47,26,40,8,"purchaseStateRaw"],[47,42,40,24],[47,46,40,28],[47,50,40,32],[47,53,40,35,"String"],[47,59,40,41],[47,60,40,42,"purchaseStateRaw"],[47,76,40,58],[47,77,40,59],[47,78,40,60,"trim"],[47,82,40,64],[47,83,40,65],[47,84,40,66],[47,87,40,69],[47,89,40,71],[49,6,42,6],[50,6,43,6],[50,10,43,12,"refreshNonce"],[50,22,43,24],[50,25,43,27,"String"],[50,31,43,33],[50,32,43,34,"Date"],[50,36,43,38],[50,37,43,39,"now"],[50,40,43,42],[50,41,43,43],[50,42,43,44],[50,43,43,45],[51,6,45,6],[51,10,45,12,"appendParam"],[51,21,45,23],[51,24,45,26,"appendParam"],[51,25,45,27,"url"],[51,28,45,30],[51,30,45,32,"key"],[51,33,45,35],[51,35,45,37,"value"],[51,40,45,42],[51,45,45,47],[52,8,46,8],[52,12,46,14,"joiner"],[52,18,46,20],[52,21,46,23,"url"],[52,24,46,26],[52,25,46,27,"includes"],[52,33,46,35],[52,34,46,36],[52,37,46,39],[52,38,46,40],[52,41,46,43],[52,44,46,46],[52,47,46,49],[52,50,46,52],[53,8,47,8],[53,15,47,15],[53,18,47,18,"url"],[53,21,47,21],[53,24,47,24,"joiner"],[53,30,47,30],[53,33,47,33,"encodeURIComponent"],[53,51,47,51],[53,52,47,52,"key"],[53,55,47,55],[53,56,47,56],[53,60,47,60,"encodeURIComponent"],[53,78,47,78],[53,79,47,79,"value"],[53,84,47,84],[53,85,47,85],[53,87,47,87],[54,6,48,6],[54,7,48,7],[55,6,50,6,"next"],[55,10,50,10],[55,13,50,13,"appendParam"],[55,24,50,24],[55,25,50,25,"next"],[55,29,50,29],[55,31,50,31],[55,47,50,47],[55,49,50,49,"refreshNonce"],[55,61,50,61],[55,62,50,62],[56,6,52,6],[56,10,52,10,"purchaseState"],[56,23,52,23],[56,25,52,25],[57,8,53,8,"next"],[57,12,53,12],[57,15,53,15,"appendParam"],[57,26,53,26],[57,27,53,27,"next"],[57,31,53,31],[57,33,53,33],[57,48,53,48],[57,50,53,50,"purchaseState"],[57,63,53,63],[57,64,53,64],[58,6,54,6],[59,6,56,6],[59,10,56,10,"matchIdParam"],[59,22,56,22],[59,24,56,24],[60,8,57,8],[60,12,57,14,"isMessagesList"],[60,26,57,28],[60,29,58,10,"String"],[60,35,58,16],[60,36,58,17,"returnToParam"],[60,49,58,30],[60,53,58,34],[60,55,58,36],[60,56,58,37],[60,57,58,38,"split"],[60,62,58,43],[60,63,58,44],[60,66,58,47],[60,67,58,48],[60,68,58,49],[60,69,58,50],[60,70,58,51],[60,75,58,56],[60,86,58,67],[61,8,59,8],[61,12,59,12,"isMessagesList"],[61,26,59,26],[61,28,59,28],[62,10,60,10,"next"],[62,14,60,14],[62,17,60,17,"appendParam"],[62,28,60,28],[62,29,60,29,"next"],[62,33,60,33],[62,35,60,35],[62,44,60,44],[62,46,60,46,"matchIdParam"],[62,58,60,58],[62,59,60,59],[63,8,61,8],[64,6,62,6],[65,6,64,6,"router"],[65,12,64,12],[65,13,64,13,"replace"],[65,20,64,20],[65,21,64,21,"next"],[65,25,64,25],[65,26,64,26],[66,4,65,4],[66,5,65,5],[66,7,66,4],[66,8,66,5,"matchIdParam"],[66,20,66,17],[66,22,66,19,"returnToParam"],[66,35,66,32],[66,37,66,34,"router"],[66,43,66,40],[66,44,67,2],[66,45,67,3],[68,4,69,2],[69,4,70,2],[70,4,71,2],[70,8,71,8,"linkRevenueCatToUser"],[70,28,71,28],[70,31,71,31],[70,35,71,31,"useCallback"],[70,41,71,42],[70,42,71,42,"useCallback"],[70,53,71,42],[71,6,71,42],[71,10,71,42,"_ref2"],[71,15,71,42],[71,22,71,42,"_asyncToGenerator"],[71,39,71,42],[71,40,71,42,"default"],[71,47,71,42],[71,49,72,4],[71,60,72,11,"uid"],[71,63,72,14],[71,65,72,19],[72,8,73,6],[72,12,73,12,"idNum"],[72,17,73,17],[72,20,73,20,"Number"],[72,26,73,26],[72,27,73,27,"uid"],[72,30,73,30],[72,31,73,31],[73,8,74,6],[73,12,74,12,"hasJwt"],[73,18,74,18],[73,21,74,21,"jwt"],[73,24,74,24],[73,28,74,28],[73,35,74,35,"jwt"],[73,38,74,38],[73,43,74,43],[73,51,74,51],[74,8,75,6],[74,12,75,10],[74,13,75,11,"Number"],[74,19,75,17],[74,20,75,18,"isFinite"],[74,28,75,26],[74,29,75,27,"idNum"],[74,34,75,32],[74,35,75,33],[74,39,75,37],[74,40,75,38,"hasJwt"],[74,46,75,44],[74,48,75,46],[75,8,77,6],[75,12,77,10],[76,10,78,8],[76,14,78,14,"info"],[76,18,78,18],[76,27,78,27,"Purchases"],[76,36,78,36],[76,37,78,36,"default"],[76,44,78,36],[76,45,78,37,"getCustomerInfo"],[76,60,78,52],[76,61,78,53],[76,62,78,54],[77,10,79,8],[77,14,79,14,"candidates"],[77,24,79,24],[77,27,79,27],[77,28,80,10,"info"],[77,32,80,14],[77,34,80,16,"appUserID"],[77,43,80,25],[77,45,81,10,"info"],[77,49,81,14],[77,51,81,16,"appUserId"],[77,60,81,25],[77,62,82,10,"info"],[77,66,82,14],[77,68,82,16,"originalAppUserId"],[77,85,82,33],[77,87,83,10,"info"],[77,91,83,14],[77,93,83,16,"originalAppUserID"],[77,110,83,33],[77,111,84,9],[77,112,85,11,"map"],[77,115,85,14],[77,116,85,16,"v"],[77,117,85,17],[77,121,85,23,"v"],[77,122,85,24],[77,126,85,28],[77,130,85,32],[77,133,85,35,"String"],[77,139,85,41],[77,140,85,42,"v"],[77,141,85,43],[77,142,85,44],[77,143,85,45,"trim"],[77,147,85,49],[77,148,85,50],[77,149,85,51],[77,152,85,54],[77,154,85,57],[77,155,85,58],[77,156,86,11,"filter"],[77,162,86,17],[77,163,86,18,"Boolean"],[77,170,86,25],[77,171,86,26],[79,10,88,8],[80,10,89,8],[80,14,89,14,"uniq"],[80,18,89,18],[80,21,89,21,"Array"],[80,26,89,26],[80,27,89,27,"from"],[80,31,89,31],[80,32,89,32],[80,36,89,36,"Set"],[80,39,89,39],[80,40,89,40,"candidates"],[80,50,89,50],[80,51,89,51],[80,52,89,52],[81,10,90,8],[81,14,90,12],[81,15,90,13,"uniq"],[81,19,90,17],[81,20,90,18,"length"],[81,26,90,24],[81,28,90,26],[82,10,92,8],[82,14,92,14,"headers"],[82,21,92,21],[82,24,92,24],[83,12,92,26],[83,26,92,40],[83,28,92,42],[84,10,92,61],[84,11,92,62],[85,10,93,8],[85,14,93,12,"hasJwt"],[85,20,93,18],[85,22,93,20],[86,12,94,10,"headers"],[86,19,94,17],[86,20,94,18,"Authorization"],[86,33,94,31],[86,36,94,34],[86,46,94,44,"jwt"],[86,49,94,47],[86,51,94,49],[87,10,95,8],[89,10,97,8],[90,10,98,8],[90,16,98,14,"fetch"],[90,21,98,19],[90,22,98,20],[90,44,98,42],[90,46,98,44],[91,12,99,10,"method"],[91,18,99,16],[91,20,99,18],[91,26,99,24],[92,12,100,10,"headers"],[92,19,100,17],[93,12,101,10,"body"],[93,16,101,14],[93,18,101,16,"JSON"],[93,22,101,20],[93,23,101,21,"stringify"],[93,32,101,30],[93,33,101,31],[94,14,102,12,"userId"],[94,20,102,18],[94,22,102,20,"Number"],[94,28,102,26],[94,29,102,27,"isFinite"],[94,37,102,35],[94,38,102,36,"idNum"],[94,43,102,41],[94,44,102,42],[94,47,102,45,"idNum"],[94,52,102,50],[94,55,102,53,"undefined"],[94,64,102,62],[95,14,103,12,"appUserIds"],[95,24,103,22],[95,26,103,24,"uniq"],[96,12,104,10],[96,13,104,11],[97,10,105,8],[97,11,105,9],[97,12,105,10],[97,13,105,11,"catch"],[97,18,105,16],[97,19,105,17],[97,25,105,23],[97,29,105,27],[97,30,105,28],[98,8,106,6],[98,9,106,7],[98,10,106,8],[98,17,106,15,"e"],[98,18,106,16],[98,20,106,18],[99,10,107,8],[100,10,108,8,"console"],[100,17,108,15],[100,18,108,16,"error"],[100,23,108,21],[100,24,108,22,"e"],[100,25,108,23],[100,26,108,24],[101,8,109,6],[102,6,110,4],[102,7,110,5],[103,6,110,5],[103,23,110,5,"_x"],[103,25,110,5],[104,8,110,5],[104,15,110,5,"_ref2"],[104,20,110,5],[104,21,110,5,"apply"],[104,26,110,5],[104,33,110,5,"arguments"],[104,42,110,5],[105,6,110,5],[106,4,110,5],[106,9,111,4],[106,10,111,5,"jwt"],[106,13,111,8],[106,14,112,2],[106,15,112,3],[107,4,114,2],[107,8,114,8,"devGrantOneCredit"],[107,25,114,25],[107,28,114,28],[107,32,114,28,"useCallback"],[107,38,114,39],[107,39,114,39,"useCallback"],[107,50,114,39],[107,69,114,39,"_asyncToGenerator"],[107,86,114,39],[107,87,114,39,"default"],[107,94,114,39],[107,96,114,40],[107,109,114,52],[108,6,115,4],[108,10,115,8],[108,11,115,9,"isDevRuntime"],[108,23,115,21],[108,25,115,23],[109,8,116,6,"Alert"],[109,20,116,11],[109,21,116,11,"Alert"],[109,26,116,11],[109,27,116,12,"alert"],[109,32,116,17],[109,33,116,18],[109,48,116,33],[109,50,116,35],[109,90,116,75],[109,91,116,76],[110,8,117,6],[110,15,117,13],[111,10,117,15,"ok"],[111,12,117,17],[111,14,117,19],[111,19,117,24],[112,10,117,26,"skipped"],[112,17,117,33],[112,19,117,35],[113,8,117,40],[113,9,117,41],[114,6,118,4],[115,6,120,4],[115,10,120,8],[115,11,120,9,"userId"],[115,17,120,15],[115,19,120,17],[116,8,121,6,"Alert"],[116,20,121,11],[116,21,121,11,"Alert"],[116,26,121,11],[116,27,121,12,"alert"],[116,32,121,17],[116,33,121,18],[116,42,121,27],[116,44,121,29],[116,67,121,52],[116,68,121,53],[117,8,122,6],[117,15,122,13],[118,10,122,15,"ok"],[118,12,122,17],[118,14,122,19],[118,19,122,24],[119,10,122,26,"error"],[119,15,122,31],[119,17,122,33],[120,8,122,50],[120,9,122,51],[121,6,123,4],[122,6,125,4],[122,10,125,8],[123,8,126,6],[123,12,126,12,"resp"],[123,16,126,16],[123,25,126,25,"fetch"],[123,30,126,30],[123,31,126,31],[123,60,126,60],[123,62,126,62],[124,10,127,8,"method"],[124,16,127,14],[124,18,127,16],[124,24,127,22],[125,10,128,8,"headers"],[125,17,128,15],[125,19,128,17],[126,12,128,19],[126,26,128,33],[126,28,128,35],[127,10,128,54],[127,11,128,55],[128,10,129,8,"body"],[128,14,129,12],[128,16,129,14,"JSON"],[128,20,129,18],[128,21,129,19,"stringify"],[128,30,129,28],[128,31,129,29],[129,12,129,31,"userId"],[129,18,129,37],[129,20,129,39,"Number"],[129,26,129,45],[129,27,129,46,"userId"],[129,33,129,52],[129,34,129,53],[130,12,129,55,"amountCents"],[130,23,129,66],[130,25,129,68],[131,10,129,73],[131,11,129,74],[132,8,130,6],[132,9,130,7],[132,10,130,8],[133,8,132,6],[133,12,132,10],[133,13,132,11,"resp"],[133,17,132,15],[133,18,132,16,"ok"],[133,20,132,18],[133,22,132,20],[134,10,133,8],[134,14,133,14,"text"],[134,18,133,18],[134,27,133,27,"resp"],[134,31,133,31],[134,32,133,32,"text"],[134,36,133,36],[134,37,133,37],[134,38,133,38],[134,39,133,39,"catch"],[134,44,133,44],[134,45,133,45],[134,51,133,51],[134,53,133,53],[134,54,133,54],[135,10,134,8],[135,16,134,14],[135,20,134,18,"Error"],[135,25,134,23],[135,26,135,10],[135,48,135,32,"resp"],[135,52,135,36],[135,53,135,37,"status"],[135,59,135,43],[135,64,135,48,"resp"],[135,68,135,52],[135,69,135,53,"statusText"],[135,79,135,63],[135,83,135,67,"text"],[135,87,135,71],[135,89,136,8],[135,90,136,9],[136,8,137,6],[137,8,139,6],[137,14,139,12,"refresh"],[137,21,139,19],[137,22,139,20,"userId"],[137,28,139,26],[137,29,139,27],[138,8,140,6],[138,15,140,13],[139,10,140,15,"ok"],[139,12,140,17],[139,14,140,19],[140,8,140,24],[140,9,140,25],[141,6,141,4],[141,7,141,5],[141,8,141,6],[141,15,141,13,"e"],[141,16,141,14],[141,18,141,16],[142,8,142,6,"console"],[142,15,142,13],[142,16,142,14,"error"],[142,21,142,19],[142,22,142,20,"e"],[142,23,142,21],[142,24,142,22],[143,8,143,6,"Alert"],[143,20,143,11],[143,21,143,11,"Alert"],[143,26,143,11],[143,27,143,12,"alert"],[143,32,143,17],[143,33,143,18],[143,40,143,25],[143,42,143,27],[143,71,143,56],[143,72,143,57],[144,8,144,6],[144,15,144,13],[145,10,144,15,"ok"],[145,12,144,17],[145,14,144,19],[145,19,144,24],[146,10,144,26,"error"],[146,15,144,31],[146,17,144,33,"e"],[146,18,144,34],[146,20,144,36,"message"],[146,27,144,43],[146,31,144,47],[147,8,144,66],[147,9,144,67],[148,6,145,4],[149,4,146,2],[149,5,146,3],[149,8,146,5],[149,9,146,6,"isDevRuntime"],[149,21,146,18],[149,23,146,20,"refresh"],[149,30,146,27],[149,32,146,29,"userId"],[149,38,146,35],[149,39,146,36],[149,40,146,37],[150,4,148,2],[150,8,148,8,"claimCreditFromClient"],[150,29,148,29],[150,32,148,32],[150,36,148,32,"useCallback"],[150,42,148,43],[150,43,148,43,"useCallback"],[150,54,148,43],[151,6,148,43],[151,10,148,43,"_ref5"],[151,15,148,43],[151,22,148,43,"_asyncToGenerator"],[151,39,148,43],[151,40,148,43,"default"],[151,47,148,43],[151,49,149,4],[151,60,149,4,"_ref4"],[151,65,149,4],[151,67,149,44],[152,8,149,44],[152,12,149,13,"transactionId"],[152,25,149,26],[152,28,149,26,"_ref4"],[152,33,149,26],[152,34,149,13,"transactionId"],[152,47,149,26],[153,10,149,28,"productId"],[153,19,149,37],[153,22,149,37,"_ref4"],[153,27,149,37],[153,28,149,28,"productId"],[153,37,149,37],[154,8,150,6],[155,8,151,6],[156,8,152,6],[157,8,153,6],[158,8,154,6],[159,8,155,6],[159,12,155,10],[159,13,155,11,"jwt"],[159,16,155,14],[159,20,155,18],[159,27,155,25,"jwt"],[159,30,155,28],[159,35,155,33],[159,43,155,41],[159,45,155,43],[160,10,156,8],[160,17,156,15],[161,12,156,17,"ok"],[161,14,156,19],[161,16,156,21],[161,21,156,26],[162,12,156,28,"skipped"],[162,19,156,35],[162,21,156,37],[163,10,156,42],[163,11,156,43],[164,8,157,6],[165,8,159,6],[165,12,159,12,"resp"],[165,16,159,16],[165,25,159,25,"fetch"],[165,30,159,30],[165,31,159,31],[165,56,159,56],[165,58,159,58],[166,10,160,8,"method"],[166,16,160,14],[166,18,160,16],[166,24,160,22],[167,10,161,8,"headers"],[167,17,161,15],[167,19,161,17],[168,12,162,10],[168,26,162,24],[168,28,162,26],[168,46,162,44],[169,12,163,10,"Authorization"],[169,25,163,23],[169,27,163,25],[169,37,163,35,"jwt"],[169,40,163,38],[170,10,164,8],[170,11,164,9],[171,10,165,8,"body"],[171,14,165,12],[171,16,165,14,"JSON"],[171,20,165,18],[171,21,165,19,"stringify"],[171,30,165,28],[171,31,165,29],[172,12,165,31,"transactionId"],[172,25,165,44],[173,12,165,46,"productId"],[174,10,165,56],[174,11,165,57],[175,8,166,6],[175,9,166,7],[175,10,166,8],[176,8,168,6],[176,12,168,12,"json"],[176,16,168,16],[176,25,168,25,"resp"],[176,29,168,29],[176,30,168,30,"json"],[176,34,168,34],[176,35,168,35],[176,36,168,36],[176,37,168,37,"catch"],[176,42,168,42],[176,43,168,43],[176,49,168,49],[176,53,168,53],[176,54,168,54],[177,8,169,6],[177,12,169,10],[177,13,169,11,"resp"],[177,17,169,15],[177,18,169,16,"ok"],[177,20,169,18],[177,22,169,20],[178,10,170,8],[178,16,170,14],[178,20,170,18,"Error"],[178,25,170,23],[178,26,170,24,"json"],[178,30,170,28],[178,32,170,30,"error"],[178,37,170,35],[178,41,170,39],[178,58,170,56,"resp"],[178,62,170,60],[178,63,170,61,"status"],[178,69,170,67],[178,72,170,70],[178,73,170,71],[179,8,171,6],[181,8,173,6],[182,8,174,6],[182,12,174,12,"resolvedUserId"],[182,26,174,26],[182,29,174,29,"Number"],[182,35,174,35],[182,36,174,36,"json"],[182,40,174,40],[182,42,174,42,"userId"],[182,48,174,48],[182,49,174,49],[183,8,175,6],[183,12,175,10,"Number"],[183,18,175,16],[183,19,175,17,"isFinite"],[183,27,175,25],[183,28,175,26,"resolvedUserId"],[183,42,175,40],[183,43,175,41],[183,45,175,43],[184,10,176,8,"setUserId"],[184,19,176,17],[184,20,176,18,"resolvedUserId"],[184,34,176,32],[184,35,176,33],[185,10,177,8],[185,14,177,14,"existing"],[185,22,177,22],[185,25,177,25],[185,32,177,32],[185,36,177,32,"safeReadUserFromStorage"],[185,60,177,55],[185,61,177,55,"safeReadUserFromStorage"],[185,84,177,55],[185,86,177,56],[185,87,177,57],[185,92,177,62],[185,93,177,63],[185,94,177,64],[186,10,178,8],[186,16,178,14],[186,20,178,14,"safeWriteUserToStorage"],[186,44,178,36],[186,45,178,36,"safeWriteUserToStorage"],[186,67,178,36],[186,69,178,37],[187,12,178,39],[187,15,178,42,"existing"],[187,23,178,50],[188,12,178,52,"id"],[188,14,178,54],[188,16,178,56,"resolvedUserId"],[189,10,178,71],[189,11,178,72],[189,12,178,73],[190,8,179,6],[192,8,181,6],[193,8,182,6],[194,8,183,6],[194,12,183,12,"nextCredits"],[194,23,183,23],[194,26,183,26,"Number"],[194,32,183,32],[194,33,183,33,"json"],[194,37,183,37],[194,39,183,39,"credits"],[194,46,183,46],[194,47,183,47],[195,8,184,6],[195,12,184,12,"nextMaxCredits"],[195,26,184,26],[195,29,184,29,"Number"],[195,35,184,35],[195,36,184,36,"json"],[195,40,184,40],[195,42,184,42,"maxCredits"],[195,52,184,52],[195,53,184,53],[196,8,185,6],[196,12,185,12,"nextBalance"],[196,23,185,23],[196,26,185,26,"Number"],[196,32,185,32],[196,33,185,33,"json"],[196,37,185,37],[196,39,185,39,"balanceCents"],[196,51,185,51],[196,52,185,52],[197,8,186,6],[197,12,186,10,"Number"],[197,18,186,16],[197,19,186,17,"isFinite"],[197,27,186,25],[197,28,186,26,"nextCredits"],[197,39,186,37],[197,40,186,38],[197,42,186,40,"setCredits"],[197,52,186,50],[197,53,186,51,"nextCredits"],[197,64,186,62],[197,65,186,63],[198,8,187,6],[198,12,187,10,"Number"],[198,18,187,16],[198,19,187,17,"isFinite"],[198,27,187,25],[198,28,187,26,"nextMaxCredits"],[198,42,187,40],[198,43,187,41],[198,45,187,43,"setMaxCredits"],[198,58,187,56],[198,59,187,57,"nextMaxCredits"],[198,73,187,71],[198,74,187,72],[199,8,188,6],[199,12,188,10,"Number"],[199,18,188,16],[199,19,188,17,"isFinite"],[199,27,188,25],[199,28,188,26,"nextBalance"],[199,39,188,37],[199,40,188,38],[199,42,188,40,"setBalanceCents"],[199,57,188,55],[199,58,188,56,"nextBalance"],[199,69,188,67],[199,70,188,68],[200,8,190,6],[200,15,190,13],[201,10,190,15,"ok"],[201,12,190,17],[201,14,190,19],[201,18,190,23],[202,10,190,25,"response"],[202,18,190,33],[202,20,190,35,"json"],[203,8,190,40],[203,9,190,41],[204,6,191,4],[204,7,191,5],[205,6,191,5],[205,23,191,5,"_x2"],[205,26,191,5],[206,8,191,5],[206,15,191,5,"_ref5"],[206,20,191,5],[206,21,191,5,"apply"],[206,26,191,5],[206,33,191,5,"arguments"],[206,42,191,5],[207,6,191,5],[208,4,191,5],[208,9,192,4],[208,10,192,5,"jwt"],[208,13,192,8],[208,15,192,10,"setUserId"],[208,24,192,19],[208,26,192,21,"setCredits"],[208,36,192,31],[208,38,192,33,"setMaxCredits"],[208,51,192,46],[208,53,192,48,"setBalanceCents"],[208,68,192,63],[208,69,193,2],[208,70,193,3],[209,4,195,2],[209,11,195,9],[210,6,196,4,"stockedUp"],[210,15,196,13],[211,6,197,4,"goBack"],[211,12,197,10],[212,6,198,4,"linkRevenueCatToUser"],[212,26,198,24],[213,6,199,4,"devGrantOneCredit"],[213,23,199,21],[214,6,200,4,"claimCreditFromClient"],[215,4,201,2],[215,5,201,3],[216,2,202,0],[217,0,202,1],[217,3]],"functionMap":{"names":["<global>","useDateCreditsActions","useMemo$argument_0","goBack","appendParam","linkRevenueCatToUser","map$argument_0","fetch._catch$argument_0","devGrantOneCredit","resp.text._catch$argument_0","claimCreditFromClient","resp.json._catch$argument_0"],"mappings":"AAA;OCQ;4BCiB;GDM;IEG;0BCU;ODG;KFiB;IIO;eCa,0CD;iBEoB,UF;KJK;wCOI;6CCmB,QD;GPa;ISG;2CCmB,UD;KTuB;CDW"},"hasCjsExports":false},"type":"js/module"}]}