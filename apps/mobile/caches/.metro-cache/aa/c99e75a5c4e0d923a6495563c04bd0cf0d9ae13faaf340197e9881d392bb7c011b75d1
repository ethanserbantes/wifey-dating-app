{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.formatTime = formatTime;\n  exports.formatDurationMs = formatDurationMs;\n  exports.tryParseJson = tryParseJson;\n  exports.getDateInvite = getDateInvite;\n  exports.formatReviewLine = formatReviewLine;\n  exports.getReplyPreview = getReplyPreview;\n  function formatTime(timestamp) {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  }\n  function formatDurationMs(ms) {\n    const n = Number(ms);\n    if (!Number.isFinite(n) || n <= 0) return \"0:00\";\n    const totalSeconds = Math.floor(n / 1000);\n    const mins = Math.floor(totalSeconds / 60);\n    const secs = totalSeconds % 60;\n    return `${mins}:${String(secs).padStart(2, \"0\")}`;\n  }\n  function tryParseJson(text) {\n    try {\n      if (!text) return null;\n      const s = String(text);\n      if (!s.startsWith(\"{\")) return null;\n      return JSON.parse(s);\n    } catch {\n      return null;\n    }\n  }\n  function getDateInvite(message) {\n    const parsed = tryParseJson(message?.message_text);\n    if (!parsed || typeof parsed !== \"object\") return null;\n    if (parsed.type !== \"date_invite\") return null;\n    if (!parsed.date || typeof parsed.date !== \"object\") return null;\n    return parsed;\n  }\n  function formatReviewLine({\n    rating,\n    ratingsTotal\n  }) {\n    const r = Number(rating);\n    const n = Number(ratingsTotal);\n    const hasRating = Number.isFinite(r);\n    const hasCount = Number.isFinite(n) && n > 0;\n    if (!hasRating && !hasCount) return null;\n    const ratingText = hasRating ? r.toFixed(1) : null;\n    const countText = hasCount ? `${n.toLocaleString()} reviews` : null;\n    if (ratingText && countText) return `${ratingText} • ${countText}`;\n    if (ratingText) return ratingText;\n    return countText;\n  }\n  function getReplyPreview(message) {\n    const hasReply = message?.replied_to_message_id != null || message?.reply_message_text != null || message?.reply_audio_url != null;\n    if (!hasReply) return null;\n    const type = String(message?.reply_message_type || \"TEXT\").toUpperCase();\n    const hasAudio = type === \"AUDIO\" || Boolean(message?.reply_audio_url);\n    if (hasAudio) {\n      return \"Voice memo\";\n    }\n    const txt = String(message?.reply_message_text || \"\").trim();\n    if (!txt) return \"Message\";\n    return txt.length > 80 ? `${txt.slice(0, 80)}…` : txt;\n  }\n});","lineCount":72,"map":[[7,2,1,0,"exports"],[7,9,1,0],[7,10,1,0,"formatTime"],[7,20,1,0],[7,23,1,0,"formatTime"],[7,33,1,0],[8,2,6,0,"exports"],[8,9,6,0],[8,10,6,0,"formatDurationMs"],[8,26,6,0],[8,29,6,0,"formatDurationMs"],[8,45,6,0],[9,2,15,0,"exports"],[9,9,15,0],[9,10,15,0,"tryParseJson"],[9,22,15,0],[9,25,15,0,"tryParseJson"],[9,37,15,0],[10,2,26,0,"exports"],[10,9,26,0],[10,10,26,0,"getDateInvite"],[10,23,26,0],[10,26,26,0,"getDateInvite"],[10,39,26,0],[11,2,34,0,"exports"],[11,9,34,0],[11,10,34,0,"formatReviewLine"],[11,26,34,0],[11,29,34,0,"formatReviewLine"],[11,45,34,0],[12,2,51,0,"exports"],[12,9,51,0],[12,10,51,0,"getReplyPreview"],[12,25,51,0],[12,28,51,0,"getReplyPreview"],[12,43,51,0],[13,2,1,7],[13,11,1,16,"formatTime"],[13,21,1,26,"formatTime"],[13,22,1,27,"timestamp"],[13,31,1,36],[13,33,1,38],[14,4,2,2],[14,10,2,8,"date"],[14,14,2,12],[14,17,2,15],[14,21,2,19,"Date"],[14,25,2,23],[14,26,2,24,"timestamp"],[14,35,2,33],[14,36,2,34],[15,4,3,2],[15,11,3,9,"date"],[15,15,3,13],[15,16,3,14,"toLocaleTimeString"],[15,34,3,32],[15,35,3,33],[15,37,3,35],[15,39,3,37],[16,6,3,39,"hour"],[16,10,3,43],[16,12,3,45],[16,21,3,54],[17,6,3,56,"minute"],[17,12,3,62],[17,14,3,64],[18,4,3,74],[18,5,3,75],[18,6,3,76],[19,2,4,0],[20,2,6,7],[20,11,6,16,"formatDurationMs"],[20,27,6,32,"formatDurationMs"],[20,28,6,33,"ms"],[20,30,6,35],[20,32,6,37],[21,4,7,2],[21,10,7,8,"n"],[21,11,7,9],[21,14,7,12,"Number"],[21,20,7,18],[21,21,7,19,"ms"],[21,23,7,21],[21,24,7,22],[22,4,8,2],[22,8,8,6],[22,9,8,7,"Number"],[22,15,8,13],[22,16,8,14,"isFinite"],[22,24,8,22],[22,25,8,23,"n"],[22,26,8,24],[22,27,8,25],[22,31,8,29,"n"],[22,32,8,30],[22,36,8,34],[22,37,8,35],[22,39,8,37],[22,46,8,44],[22,52,8,50],[23,4,9,2],[23,10,9,8,"totalSeconds"],[23,22,9,20],[23,25,9,23,"Math"],[23,29,9,27],[23,30,9,28,"floor"],[23,35,9,33],[23,36,9,34,"n"],[23,37,9,35],[23,40,9,38],[23,44,9,42],[23,45,9,43],[24,4,10,2],[24,10,10,8,"mins"],[24,14,10,12],[24,17,10,15,"Math"],[24,21,10,19],[24,22,10,20,"floor"],[24,27,10,25],[24,28,10,26,"totalSeconds"],[24,40,10,38],[24,43,10,41],[24,45,10,43],[24,46,10,44],[25,4,11,2],[25,10,11,8,"secs"],[25,14,11,12],[25,17,11,15,"totalSeconds"],[25,29,11,27],[25,32,11,30],[25,34,11,32],[26,4,12,2],[26,11,12,9],[26,14,12,12,"mins"],[26,18,12,16],[26,22,12,20,"String"],[26,28,12,26],[26,29,12,27,"secs"],[26,33,12,31],[26,34,12,32],[26,35,12,33,"padStart"],[26,43,12,41],[26,44,12,42],[26,45,12,43],[26,47,12,45],[26,50,12,48],[26,51,12,49],[26,53,12,51],[27,2,13,0],[28,2,15,7],[28,11,15,16,"tryParseJson"],[28,23,15,28,"tryParseJson"],[28,24,15,29,"text"],[28,28,15,33],[28,30,15,35],[29,4,16,2],[29,8,16,6],[30,6,17,4],[30,10,17,8],[30,11,17,9,"text"],[30,15,17,13],[30,17,17,15],[30,24,17,22],[30,28,17,26],[31,6,18,4],[31,12,18,10,"s"],[31,13,18,11],[31,16,18,14,"String"],[31,22,18,20],[31,23,18,21,"text"],[31,27,18,25],[31,28,18,26],[32,6,19,4],[32,10,19,8],[32,11,19,9,"s"],[32,12,19,10],[32,13,19,11,"startsWith"],[32,23,19,21],[32,24,19,22],[32,27,19,25],[32,28,19,26],[32,30,19,28],[32,37,19,35],[32,41,19,39],[33,6,20,4],[33,13,20,11,"JSON"],[33,17,20,15],[33,18,20,16,"parse"],[33,23,20,21],[33,24,20,22,"s"],[33,25,20,23],[33,26,20,24],[34,4,21,2],[34,5,21,3],[34,6,21,4],[34,12,21,10],[35,6,22,4],[35,13,22,11],[35,17,22,15],[36,4,23,2],[37,2,24,0],[38,2,26,7],[38,11,26,16,"getDateInvite"],[38,24,26,29,"getDateInvite"],[38,25,26,30,"message"],[38,32,26,37],[38,34,26,39],[39,4,27,2],[39,10,27,8,"parsed"],[39,16,27,14],[39,19,27,17,"tryParseJson"],[39,31,27,29],[39,32,27,30,"message"],[39,39,27,37],[39,41,27,39,"message_text"],[39,53,27,51],[39,54,27,52],[40,4,28,2],[40,8,28,6],[40,9,28,7,"parsed"],[40,15,28,13],[40,19,28,17],[40,26,28,24,"parsed"],[40,32,28,30],[40,37,28,35],[40,45,28,43],[40,47,28,45],[40,54,28,52],[40,58,28,56],[41,4,29,2],[41,8,29,6,"parsed"],[41,14,29,12],[41,15,29,13,"type"],[41,19,29,17],[41,24,29,22],[41,37,29,35],[41,39,29,37],[41,46,29,44],[41,50,29,48],[42,4,30,2],[42,8,30,6],[42,9,30,7,"parsed"],[42,15,30,13],[42,16,30,14,"date"],[42,20,30,18],[42,24,30,22],[42,31,30,29,"parsed"],[42,37,30,35],[42,38,30,36,"date"],[42,42,30,40],[42,47,30,45],[42,55,30,53],[42,57,30,55],[42,64,30,62],[42,68,30,66],[43,4,31,2],[43,11,31,9,"parsed"],[43,17,31,15],[44,2,32,0],[45,2,34,7],[45,11,34,16,"formatReviewLine"],[45,27,34,32,"formatReviewLine"],[45,28,34,33],[46,4,34,35,"rating"],[46,10,34,41],[47,4,34,43,"ratingsTotal"],[48,2,34,56],[48,3,34,57],[48,5,34,59],[49,4,35,2],[49,10,35,8,"r"],[49,11,35,9],[49,14,35,12,"Number"],[49,20,35,18],[49,21,35,19,"rating"],[49,27,35,25],[49,28,35,26],[50,4,36,2],[50,10,36,8,"n"],[50,11,36,9],[50,14,36,12,"Number"],[50,20,36,18],[50,21,36,19,"ratingsTotal"],[50,33,36,31],[50,34,36,32],[51,4,38,2],[51,10,38,8,"hasRating"],[51,19,38,17],[51,22,38,20,"Number"],[51,28,38,26],[51,29,38,27,"isFinite"],[51,37,38,35],[51,38,38,36,"r"],[51,39,38,37],[51,40,38,38],[52,4,39,2],[52,10,39,8,"hasCount"],[52,18,39,16],[52,21,39,19,"Number"],[52,27,39,25],[52,28,39,26,"isFinite"],[52,36,39,34],[52,37,39,35,"n"],[52,38,39,36],[52,39,39,37],[52,43,39,41,"n"],[52,44,39,42],[52,47,39,45],[52,48,39,46],[53,4,41,2],[53,8,41,6],[53,9,41,7,"hasRating"],[53,18,41,16],[53,22,41,20],[53,23,41,21,"hasCount"],[53,31,41,29],[53,33,41,31],[53,40,41,38],[53,44,41,42],[54,4,43,2],[54,10,43,8,"ratingText"],[54,20,43,18],[54,23,43,21,"hasRating"],[54,32,43,30],[54,35,43,33,"r"],[54,36,43,34],[54,37,43,35,"toFixed"],[54,44,43,42],[54,45,43,43],[54,46,43,44],[54,47,43,45],[54,50,43,48],[54,54,43,52],[55,4,44,2],[55,10,44,8,"countText"],[55,19,44,17],[55,22,44,20,"hasCount"],[55,30,44,28],[55,33,44,31],[55,36,44,34,"n"],[55,37,44,35],[55,38,44,36,"toLocaleString"],[55,52,44,50],[55,53,44,51],[55,54,44,52],[55,64,44,62],[55,67,44,65],[55,71,44,69],[56,4,46,2],[56,8,46,6,"ratingText"],[56,18,46,16],[56,22,46,20,"countText"],[56,31,46,29],[56,33,46,31],[56,40,46,38],[56,43,46,41,"ratingText"],[56,53,46,51],[56,59,46,57,"countText"],[56,68,46,66],[56,70,46,68],[57,4,47,2],[57,8,47,6,"ratingText"],[57,18,47,16],[57,20,47,18],[57,27,47,25,"ratingText"],[57,37,47,35],[58,4,48,2],[58,11,48,9,"countText"],[58,20,48,18],[59,2,49,0],[60,2,51,7],[60,11,51,16,"getReplyPreview"],[60,26,51,31,"getReplyPreview"],[60,27,51,32,"message"],[60,34,51,39],[60,36,51,41],[61,4,52,2],[61,10,52,8,"hasReply"],[61,18,52,16],[61,21,53,4,"message"],[61,28,53,11],[61,30,53,13,"replied_to_message_id"],[61,51,53,34],[61,55,53,38],[61,59,53,42],[61,63,54,4,"message"],[61,70,54,11],[61,72,54,13,"reply_message_text"],[61,90,54,31],[61,94,54,35],[61,98,54,39],[61,102,55,4,"message"],[61,109,55,11],[61,111,55,13,"reply_audio_url"],[61,126,55,28],[61,130,55,32],[61,134,55,36],[62,4,57,2],[62,8,57,6],[62,9,57,7,"hasReply"],[62,17,57,15],[62,19,57,17],[62,26,57,24],[62,30,57,28],[63,4,59,2],[63,10,59,8,"type"],[63,14,59,12],[63,17,59,15,"String"],[63,23,59,21],[63,24,59,22,"message"],[63,31,59,29],[63,33,59,31,"reply_message_type"],[63,51,59,49],[63,55,59,53],[63,61,59,59],[63,62,59,60],[63,63,59,61,"toUpperCase"],[63,74,59,72],[63,75,59,73],[63,76,59,74],[64,4,60,2],[64,10,60,8,"hasAudio"],[64,18,60,16],[64,21,60,19,"type"],[64,25,60,23],[64,30,60,28],[64,37,60,35],[64,41,60,39,"Boolean"],[64,48,60,46],[64,49,60,47,"message"],[64,56,60,54],[64,58,60,56,"reply_audio_url"],[64,73,60,71],[64,74,60,72],[65,4,62,2],[65,8,62,6,"hasAudio"],[65,16,62,14],[65,18,62,16],[66,6,63,4],[66,13,63,11],[66,25,63,23],[67,4,64,2],[68,4,66,2],[68,10,66,8,"txt"],[68,13,66,11],[68,16,66,14,"String"],[68,22,66,20],[68,23,66,21,"message"],[68,30,66,28],[68,32,66,30,"reply_message_text"],[68,50,66,48],[68,54,66,52],[68,56,66,54],[68,57,66,55],[68,58,66,56,"trim"],[68,62,66,60],[68,63,66,61],[68,64,66,62],[69,4,67,2],[69,8,67,6],[69,9,67,7,"txt"],[69,12,67,10],[69,14,67,12],[69,21,67,19],[69,30,67,28],[70,4,68,2],[70,11,68,9,"txt"],[70,14,68,12],[70,15,68,13,"length"],[70,21,68,19],[70,24,68,22],[70,26,68,24],[70,29,68,27],[70,32,68,30,"txt"],[70,35,68,33],[70,36,68,34,"slice"],[70,41,68,39],[70,42,68,40],[70,43,68,41],[70,45,68,43],[70,47,68,45],[70,48,68,46],[70,51,68,49],[70,54,68,52,"txt"],[70,57,68,55],[71,2,69,0],[72,0,69,1],[72,3]],"functionMap":{"names":["<global>","formatTime","formatDurationMs","tryParseJson","getDateInvite","formatReviewLine","getReplyPreview"],"mappings":"AAA,OC;CDG;OEE;CFO;OGE;CHS;OIE;CJM;OKE;CLe;OME;CNkB"},"hasCjsExports":false},"type":"js/module"}]}