{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"LayoutShiftManager\", {\n    enumerable: true,\n    get: function () {\n      return LayoutShiftManager;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  /* eslint-disable jsdoc/require-jsdoc */\n  /*\n   * Copyright 2024 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var LayoutShiftManager = /*#__PURE__*/function () {\n    function LayoutShiftManager() {\n      (0, _classCallCheck.default)(this, LayoutShiftManager);\n      LayoutShiftManager.prototype.__init.call(this);\n      LayoutShiftManager.prototype.__init2.call(this);\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility\n\n    // eslint-disable-next-line @sentry-internal/sdk/no-class-field-initializers, @typescript-eslint/explicit-member-accessibility\n    return (0, _createClass.default)(LayoutShiftManager, [{\n      key: \"__init\",\n      value: function __init() {\n        this._sessionValue = 0;\n      }\n      // eslint-disable-next-line @sentry-internal/sdk/no-class-field-initializers, @typescript-eslint/explicit-member-accessibility\n    }, {\n      key: \"__init2\",\n      value: function __init2() {\n        this._sessionEntries = [];\n      }\n\n      // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility\n    }, {\n      key: \"_processEntry\",\n      value: function _processEntry(entry) {\n        // Only count layout shifts without recent user input.\n        if (entry.hadRecentInput) return;\n        var firstSessionEntry = this._sessionEntries[0];\n        // This previously used `this._sessionEntries.at(-1)` but that is ES2022. We support ES2021 and earlier.\n        var lastSessionEntry = this._sessionEntries[this._sessionEntries.length - 1];\n\n        // If the entry occurred less than 1 second after the previous entry\n        // and less than 5 seconds after the first entry in the session,\n        // include the entry in the current session. Otherwise, start a new\n        // session.\n        if (this._sessionValue && firstSessionEntry && lastSessionEntry && entry.startTime - lastSessionEntry.startTime < 1000 && entry.startTime - firstSessionEntry.startTime < 5000) {\n          this._sessionValue += entry.value;\n          this._sessionEntries.push(entry);\n        } else {\n          this._sessionValue = entry.value;\n          this._sessionEntries = [entry];\n        }\n        this._onAfterProcessingUnexpectedShift?.(entry);\n      }\n    }]);\n  }();\n});","lineCount":84,"map":[[12,2,57,0,"Object"],[12,8,57,0],[12,9,57,0,"defineProperty"],[12,23,57,0],[12,24,57,0,"exports"],[12,31,57,0],[13,4,57,0,"enumerable"],[13,14,57,0],[14,4,57,0,"get"],[14,7,57,0],[14,18,57,0,"get"],[14,19,57,0],[15,6,57,0],[15,13,57,9,"LayoutShiftManager"],[15,31,57,27],[16,4,57,27],[17,2,57,27],[18,2,57,30],[18,6,57,30,"_babelRuntimeHelpersClassCallCheck"],[18,40,57,30],[18,43,57,30,"require"],[18,50,57,30],[18,51,57,30,"_dependencyMap"],[18,65,57,30],[19,2,57,30],[19,6,57,30,"_classCallCheck"],[19,21,57,30],[19,24,57,30,"_interopDefault"],[19,39,57,30],[19,40,57,30,"_babelRuntimeHelpersClassCallCheck"],[19,74,57,30],[20,2,57,30],[20,6,57,30,"_babelRuntimeHelpersCreateClass"],[20,37,57,30],[20,40,57,30,"require"],[20,47,57,30],[20,48,57,30,"_dependencyMap"],[20,62,57,30],[21,2,57,30],[21,6,57,30,"_createClass"],[21,18,57,30],[21,21,57,30,"_interopDefault"],[21,36,57,30],[21,37,57,30,"_babelRuntimeHelpersCreateClass"],[21,68,57,30],[22,2,1,0],[23,2,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,0,9,0],[31,0,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[38,2,2,0],[38,6,18,6,"LayoutShiftManager"],[38,24,18,24],[39,4,18,26],[39,13,18,26,"LayoutShiftManager"],[39,32,18,26],[39,34,18,40],[40,6,18,40],[40,10,18,40,"_classCallCheck"],[40,25,18,40],[40,26,18,40,"default"],[40,33,18,40],[40,41,18,40,"LayoutShiftManager"],[40,59,18,40],[41,6,18,42,"LayoutShiftManager"],[41,24,18,60],[41,25,18,61,"prototype"],[41,34,18,70],[41,35,18,71,"__init"],[41,41,18,77],[41,42,18,78,"call"],[41,46,18,82],[41,47,18,83],[41,51,18,87],[41,52,18,88],[42,6,18,89,"LayoutShiftManager"],[42,24,18,107],[42,25,18,108,"prototype"],[42,34,18,117],[42,35,18,118,"__init2"],[42,42,18,125],[42,43,18,126,"call"],[42,47,18,130],[42,48,18,131],[42,52,18,135],[42,53,18,136],[43,4,18,138],[44,4,19,2],[46,4,21,2],[47,4,21,2],[47,15,21,2,"_createClass"],[47,27,21,2],[47,28,21,2,"default"],[47,35,21,2],[47,37,21,2,"LayoutShiftManager"],[47,55,21,2],[48,6,21,2,"key"],[48,9,21,2],[49,6,21,2,"value"],[49,11,21,2],[49,13,22,2],[49,22,22,2,"__init"],[49,28,22,8,"__init"],[49,29,22,8],[49,31,22,11],[50,8,22,12],[50,12,22,16],[50,13,22,17,"_sessionValue"],[50,26,22,30],[50,29,22,33],[50,30,22,34],[51,6,22,35],[52,6,23,2],[53,4,23,2],[54,6,23,2,"key"],[54,9,23,2],[55,6,23,2,"value"],[55,11,23,2],[55,13,24,2],[55,22,24,2,"__init2"],[55,29,24,9,"__init2"],[55,30,24,9],[55,32,24,12],[56,8,24,13],[56,12,24,17],[56,13,24,18,"_sessionEntries"],[56,28,24,33],[56,31,24,36],[56,33,24,38],[57,6,24,39],[59,6,26,2],[60,4,26,2],[61,6,26,2,"key"],[61,9,26,2],[62,6,26,2,"value"],[62,11,26,2],[62,13,27,2],[62,22,27,2,"_processEntry"],[62,35,27,15,"_processEntry"],[62,36,27,16,"entry"],[62,41,27,21],[62,43,27,23],[63,8,28,4],[64,8,29,4],[64,12,29,8,"entry"],[64,17,29,13],[64,18,29,14,"hadRecentInput"],[64,32,29,28],[64,34,29,30],[65,8,31,4],[65,12,31,10,"firstSessionEntry"],[65,29,31,27],[65,32,31,30],[65,36,31,34],[65,37,31,35,"_sessionEntries"],[65,52,31,50],[65,53,31,51],[65,54,31,52],[65,55,31,53],[66,8,32,4],[67,8,33,4],[67,12,33,10,"lastSessionEntry"],[67,28,33,26],[67,31,33,29],[67,35,33,33],[67,36,33,34,"_sessionEntries"],[67,51,33,49],[67,52,33,50],[67,56,33,54],[67,57,33,55,"_sessionEntries"],[67,72,33,70],[67,73,33,71,"length"],[67,79,33,77],[67,82,33,80],[67,83,33,81],[67,84,33,82],[69,8,35,4],[70,8,36,4],[71,8,37,4],[72,8,38,4],[73,8,39,4],[73,12,40,6],[73,16,40,10],[73,17,40,11,"_sessionValue"],[73,30,40,24],[73,34,41,6,"firstSessionEntry"],[73,51,41,23],[73,55,42,6,"lastSessionEntry"],[73,71,42,22],[73,75,43,6,"entry"],[73,80,43,11],[73,81,43,12,"startTime"],[73,90,43,21],[73,93,43,24,"lastSessionEntry"],[73,109,43,40],[73,110,43,41,"startTime"],[73,119,43,50],[73,122,43,53],[73,126,43,57],[73,130,44,6,"entry"],[73,135,44,11],[73,136,44,12,"startTime"],[73,145,44,21],[73,148,44,24,"firstSessionEntry"],[73,165,44,41],[73,166,44,42,"startTime"],[73,175,44,51],[73,178,44,54],[73,182,44,58],[73,184,45,6],[74,10,46,6],[74,14,46,10],[74,15,46,11,"_sessionValue"],[74,28,46,24],[74,32,46,28,"entry"],[74,37,46,33],[74,38,46,34,"value"],[74,43,46,39],[75,10,47,6],[75,14,47,10],[75,15,47,11,"_sessionEntries"],[75,30,47,26],[75,31,47,27,"push"],[75,35,47,31],[75,36,47,32,"entry"],[75,41,47,37],[75,42,47,38],[76,8,48,4],[76,9,48,5],[76,15,48,11],[77,10,49,6],[77,14,49,10],[77,15,49,11,"_sessionValue"],[77,28,49,24],[77,31,49,27,"entry"],[77,36,49,32],[77,37,49,33,"value"],[77,42,49,38],[78,10,50,6],[78,14,50,10],[78,15,50,11,"_sessionEntries"],[78,30,50,26],[78,33,50,29],[78,34,50,30,"entry"],[78,39,50,35],[78,40,50,36],[79,8,51,4],[80,8,53,4],[80,12,53,8],[80,13,53,9,"_onAfterProcessingUnexpectedShift"],[80,46,53,42],[80,49,53,45,"entry"],[80,54,53,50],[80,55,53,51],[81,6,54,2],[82,4,54,3],[83,2,54,3],[84,0,54,3],[84,3]],"functionMap":{"names":["<global>","LayoutShiftManager","constructor","__init","__init2","_processEntry"],"mappings":"AAA;ACiB,0BC,iHD;EEI,kCF;EGE,sCH;EIG;GJ2B;CDC"},"hasCjsExports":false},"type":"js/module"}]}