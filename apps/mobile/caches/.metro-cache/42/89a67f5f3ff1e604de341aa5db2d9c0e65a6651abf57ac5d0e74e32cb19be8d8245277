{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":12,"index":91},"end":{"line":5,"column":28,"index":107}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"../core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":11,"index":120},"end":{"line":6,"column":29,"index":138}}],"key":"zfOZh2Df04vdlWWq4HUHohVdYVA=","exportNames":["*"],"imports":1}},{"name":"../../utilities","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":156},"end":{"line":7,"column":42,"index":182}}],"key":"dylU7Uvu5OAdzBgx7uCZTatncgc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var tslib = require(_dependencyMap[0], \"tslib\");\n  var core = require(_dependencyMap[1], \"../core\");\n  var utilities = require(_dependencyMap[2], \"../../utilities\");\n  function setContext(setter) {\n    return new core.ApolloLink(function (operation, forward) {\n      var request = tslib.__rest(operation, []);\n      return new utilities.Observable(function (observer) {\n        var handle;\n        var closed = false;\n        Promise.resolve(request).then(function (req) {\n          return setter(req, operation.getContext());\n        }).then(operation.setContext).then(function () {\n          if (closed) return;\n          handle = forward(operation).subscribe({\n            next: observer.next.bind(observer),\n            error: observer.error.bind(observer),\n            complete: observer.complete.bind(observer)\n          });\n        }).catch(observer.error.bind(observer));\n        return function () {\n          closed = true;\n          if (handle) handle.unsubscribe();\n        };\n      });\n    });\n  }\n  exports.setContext = setContext;\n});","lineCount":34,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,5,0],[7,6,5,4,"tslib"],[7,11,5,9],[7,14,5,12,"require"],[7,21,5,19],[7,22,5,19,"_dependencyMap"],[7,36,5,19],[7,48,5,27],[7,49,5,28],[8,2,6,0],[8,6,6,4,"core"],[8,10,6,8],[8,13,6,11,"require"],[8,20,6,18],[8,21,6,18,"_dependencyMap"],[8,35,6,18],[8,49,6,28],[8,50,6,29],[9,2,7,0],[9,6,7,4,"utilities"],[9,15,7,13],[9,18,7,16,"require"],[9,25,7,23],[9,26,7,23,"_dependencyMap"],[9,40,7,23],[9,62,7,41],[9,63,7,42],[10,2,9,0],[10,11,9,9,"setContext"],[10,21,9,19,"setContext"],[10,22,9,20,"setter"],[10,28,9,26],[10,30,9,28],[11,4,10,4],[11,11,10,11],[11,15,10,15,"core"],[11,19,10,19],[11,20,10,20,"ApolloLink"],[11,30,10,30],[11,31,10,31],[11,41,10,41,"operation"],[11,50,10,50],[11,52,10,52,"forward"],[11,59,10,59],[11,61,10,61],[12,6,11,8],[12,10,11,12,"request"],[12,17,11,19],[12,20,11,22,"tslib"],[12,25,11,27],[12,26,11,28,"__rest"],[12,32,11,34],[12,33,11,35,"operation"],[12,42,11,44],[12,44,11,46],[12,46,11,48],[12,47,11,49],[13,6,12,8],[13,13,12,15],[13,17,12,19,"utilities"],[13,26,12,28],[13,27,12,29,"Observable"],[13,37,12,39],[13,38,12,40],[13,48,12,50,"observer"],[13,56,12,58],[13,58,12,60],[14,8,13,12],[14,12,13,16,"handle"],[14,18,13,22],[15,8,14,12],[15,12,14,16,"closed"],[15,18,14,22],[15,21,14,25],[15,26,14,30],[16,8,15,12,"Promise"],[16,15,15,19],[16,16,15,20,"resolve"],[16,23,15,27],[16,24,15,28,"request"],[16,31,15,35],[16,32,15,36],[16,33,16,17,"then"],[16,37,16,21],[16,38,16,22],[16,48,16,32,"req"],[16,51,16,35],[16,53,16,37],[17,10,16,39],[17,17,16,46,"setter"],[17,23,16,52],[17,24,16,53,"req"],[17,27,16,56],[17,29,16,58,"operation"],[17,38,16,67],[17,39,16,68,"getContext"],[17,49,16,78],[17,50,16,79],[17,51,16,80],[17,52,16,81],[18,8,16,83],[18,9,16,84],[18,10,16,85],[18,11,17,17,"then"],[18,15,17,21],[18,16,17,22,"operation"],[18,25,17,31],[18,26,17,32,"setContext"],[18,36,17,42],[18,37,17,43],[18,38,18,17,"then"],[18,42,18,21],[18,43,18,22],[18,55,18,34],[19,10,19,16],[19,14,19,20,"closed"],[19,20,19,26],[19,22,20,20],[20,10,21,16,"handle"],[20,16,21,22],[20,19,21,25,"forward"],[20,26,21,32],[20,27,21,33,"operation"],[20,36,21,42],[20,37,21,43],[20,38,21,44,"subscribe"],[20,47,21,53],[20,48,21,54],[21,12,22,20,"next"],[21,16,22,24],[21,18,22,26,"observer"],[21,26,22,34],[21,27,22,35,"next"],[21,31,22,39],[21,32,22,40,"bind"],[21,36,22,44],[21,37,22,45,"observer"],[21,45,22,53],[21,46,22,54],[22,12,23,20,"error"],[22,17,23,25],[22,19,23,27,"observer"],[22,27,23,35],[22,28,23,36,"error"],[22,33,23,41],[22,34,23,42,"bind"],[22,38,23,46],[22,39,23,47,"observer"],[22,47,23,55],[22,48,23,56],[23,12,24,20,"complete"],[23,20,24,28],[23,22,24,30,"observer"],[23,30,24,38],[23,31,24,39,"complete"],[23,39,24,47],[23,40,24,48,"bind"],[23,44,24,52],[23,45,24,53,"observer"],[23,53,24,61],[24,10,25,16],[24,11,25,17],[24,12,25,18],[25,8,26,12],[25,9,26,13],[25,10,26,14],[25,11,27,17,"catch"],[25,16,27,22],[25,17,27,23,"observer"],[25,25,27,31],[25,26,27,32,"error"],[25,31,27,37],[25,32,27,38,"bind"],[25,36,27,42],[25,37,27,43,"observer"],[25,45,27,51],[25,46,27,52],[25,47,27,53],[26,8,28,12],[26,15,28,19],[26,27,28,31],[27,10,29,16,"closed"],[27,16,29,22],[27,19,29,25],[27,23,29,29],[28,10,30,16],[28,14,30,20,"handle"],[28,20,30,26],[28,22,31,20,"handle"],[28,28,31,26],[28,29,31,27,"unsubscribe"],[28,40,31,38],[28,41,31,39],[28,42,31,40],[29,8,32,12],[29,9,32,13],[30,6,33,8],[30,7,33,9],[30,8,33,10],[31,4,34,4],[31,5,34,5],[31,6,34,6],[32,2,35,0],[33,2,37,0,"exports"],[33,9,37,7],[33,10,37,8,"setContext"],[33,20,37,18],[33,23,37,21,"setContext"],[33,33,37,31],[34,0,37,32],[34,3]],"functionMap":{"names":["<global>","setContext","core.ApolloLink$argument_0","utilities.Observable$argument_0","Promise.resolve.then$argument_0","Promise.resolve.then.then.then$argument_0","<anonymous>"],"mappings":"AAA;ACQ;+BCC;wCCE;sBCI,8DD;sBEE;aFQ;mBGE;aHI;SDC;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}