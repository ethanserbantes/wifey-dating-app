{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":32,"index":32}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":33},"end":{"line":2,"column":49,"index":82}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":69,"index":152}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useProfileData = useProfileData;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1]);\n  var _tanstackReactQuery = require(_dependencyMap[2]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  function useProfileData() {\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: [\"profile\", \"me\"],\n        queryFn: function () {\n          var _ref = (0, _asyncToGenerator.default)(function* () {\n            var userData = yield AsyncStorage.default.getItem(\"user\");\n            if (!userData) {\n              throw new Error(\"You're not signed in.\");\n            }\n            var user = JSON.parse(userData);\n            var response = yield fetch(`/api/profile/me?userId=${user.id}`);\n            if (!response.ok) {\n              throw new Error(`When fetching /api/profile/me, the response was [${response.status}] ${response.statusText}`);\n            }\n            var json = yield response.json();\n            return {\n              user,\n              profile: json.profile\n            };\n          });\n          return function queryFn() {\n            return _ref.apply(this, arguments);\n          };\n        }()\n      }),\n      data = _useQuery.data,\n      isLoading = _useQuery.isLoading,\n      error = _useQuery.error;\n    var serverProfile = data?.profile;\n    var preferences = (0, _react.useMemo)(() => {\n      var raw = serverProfile?.preferences;\n      if (!raw) return {};\n      if (typeof raw === \"object\") return raw;\n      try {\n        return JSON.parse(raw);\n      } catch {\n        return {};\n      }\n    }, [serverProfile?.preferences]);\n    return {\n      data,\n      isLoading,\n      error,\n      serverProfile,\n      preferences\n    };\n  }\n});","lineCount":66,"map":[[12,2,5,0,"exports"],[12,9,5,0],[12,10,5,0,"useProfileData"],[12,24,5,0],[12,27,5,0,"useProfileData"],[12,41,5,0],[13,2,46,1],[13,6,46,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,46,1],[13,45,46,1,"require"],[13,52,46,1],[13,53,46,1,"_dependencyMap"],[13,67,46,1],[14,2,46,1],[14,6,46,1,"_asyncToGenerator"],[14,23,46,1],[14,26,46,1,"_interopDefault"],[14,41,46,1],[14,42,46,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,46,1],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_tanstackReactQuery"],[16,25,2,0],[16,28,2,0,"require"],[16,35,2,0],[16,36,2,0,"_dependencyMap"],[16,50,2,0],[17,2,3,0],[17,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[17,42,3,0],[17,45,3,0,"require"],[17,52,3,0],[17,53,3,0,"_dependencyMap"],[17,67,3,0],[18,2,3,0],[18,6,3,0,"AsyncStorage"],[18,18,3,0],[18,21,3,0,"_interopDefault"],[18,36,3,0],[18,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[18,73,3,0],[19,2,5,7],[19,11,5,16,"useProfileData"],[19,25,5,30,"useProfileData"],[19,26,5,30],[19,28,5,33],[20,4,6,2],[20,8,6,2,"_useQuery"],[20,17,6,2],[20,20,6,37],[20,24,6,37,"useQuery"],[20,43,6,45],[20,44,6,45,"useQuery"],[20,52,6,45],[20,54,6,46],[21,8,7,4,"queryKey"],[21,16,7,12],[21,18,7,14],[21,19,7,15],[21,28,7,24],[21,30,7,26],[21,34,7,30],[21,35,7,31],[22,8,8,4,"queryFn"],[22,15,8,11],[23,10,8,11],[23,14,8,11,"_ref"],[23,18,8,11],[23,25,8,11,"_asyncToGenerator"],[23,42,8,11],[23,43,8,11,"default"],[23,50,8,11],[23,52,8,13],[23,65,8,25],[24,12,9,6],[24,16,9,12,"userData"],[24,24,9,20],[24,33,9,29,"AsyncStorage"],[24,45,9,41],[24,46,9,41,"default"],[24,53,9,41],[24,54,9,42,"getItem"],[24,61,9,49],[24,62,9,50],[24,68,9,56],[24,69,9,57],[25,12,10,6],[25,16,10,10],[25,17,10,11,"userData"],[25,25,10,19],[25,27,10,21],[26,14,11,8],[26,20,11,14],[26,24,11,18,"Error"],[26,29,11,23],[26,30,11,24],[26,53,11,47],[26,54,11,48],[27,12,12,6],[28,12,13,6],[28,16,13,12,"user"],[28,20,13,16],[28,23,13,19,"JSON"],[28,27,13,23],[28,28,13,24,"parse"],[28,33,13,29],[28,34,13,30,"userData"],[28,42,13,38],[28,43,13,39],[29,12,15,6],[29,16,15,12,"response"],[29,24,15,20],[29,33,15,29,"fetch"],[29,38,15,34],[29,39,15,35],[29,65,15,61,"user"],[29,69,15,65],[29,70,15,66,"id"],[29,72,15,68],[29,74,15,70],[29,75,15,71],[30,12,16,6],[30,16,16,10],[30,17,16,11,"response"],[30,25,16,19],[30,26,16,20,"ok"],[30,28,16,22],[30,30,16,24],[31,14,17,8],[31,20,17,14],[31,24,17,18,"Error"],[31,29,17,23],[31,30,18,10],[31,82,18,62,"response"],[31,90,18,70],[31,91,18,71,"status"],[31,97,18,77],[31,102,18,82,"response"],[31,110,18,90],[31,111,18,91,"statusText"],[31,121,18,101],[31,123,19,8],[31,124,19,9],[32,12,20,6],[33,12,21,6],[33,16,21,12,"json"],[33,20,21,16],[33,29,21,25,"response"],[33,37,21,33],[33,38,21,34,"json"],[33,42,21,38],[33,43,21,39],[33,44,21,40],[34,12,22,6],[34,19,22,13],[35,14,22,15,"user"],[35,18,22,19],[36,14,22,21,"profile"],[36,21,22,28],[36,23,22,30,"json"],[36,27,22,34],[36,28,22,35,"profile"],[37,12,22,43],[37,13,22,44],[38,10,23,4],[38,11,23,5],[39,10,23,5],[39,26,8,4,"queryFn"],[39,33,8,11,"queryFn"],[39,34,8,11],[40,12,8,11],[40,19,8,11,"_ref"],[40,23,8,11],[40,24,8,11,"apply"],[40,29,8,11],[40,36,8,11,"arguments"],[40,45,8,11],[41,10,8,11],[42,8,8,11],[43,6,24,2],[43,7,24,3],[43,8,24,4],[44,6,6,10,"data"],[44,10,6,14],[44,13,6,14,"_useQuery"],[44,22,6,14],[44,23,6,10,"data"],[44,27,6,14],[45,6,6,16,"isLoading"],[45,15,6,25],[45,18,6,25,"_useQuery"],[45,27,6,25],[45,28,6,16,"isLoading"],[45,37,6,25],[46,6,6,27,"error"],[46,11,6,32],[46,14,6,32,"_useQuery"],[46,23,6,32],[46,24,6,27,"error"],[46,29,6,32],[47,4,26,2],[47,8,26,8,"serverProfile"],[47,21,26,21],[47,24,26,24,"data"],[47,28,26,28],[47,30,26,30,"profile"],[47,37,26,37],[48,4,28,2],[48,8,28,8,"preferences"],[48,19,28,19],[48,22,28,22],[48,26,28,22,"useMemo"],[48,32,28,29],[48,33,28,29,"useMemo"],[48,40,28,29],[48,42,28,30],[48,48,28,36],[49,6,29,4],[49,10,29,10,"raw"],[49,13,29,13],[49,16,29,16,"serverProfile"],[49,29,29,29],[49,31,29,31,"preferences"],[49,42,29,42],[50,6,30,4],[50,10,30,8],[50,11,30,9,"raw"],[50,14,30,12],[50,16,30,14],[50,23,30,21],[50,24,30,22],[50,25,30,23],[51,6,31,4],[51,10,31,8],[51,17,31,15,"raw"],[51,20,31,18],[51,25,31,23],[51,33,31,31],[51,35,31,33],[51,42,31,40,"raw"],[51,45,31,43],[52,6,32,4],[52,10,32,8],[53,8,33,6],[53,15,33,13,"JSON"],[53,19,33,17],[53,20,33,18,"parse"],[53,25,33,23],[53,26,33,24,"raw"],[53,29,33,27],[53,30,33,28],[54,6,34,4],[54,7,34,5],[54,8,34,6],[54,14,34,12],[55,8,35,6],[55,15,35,13],[55,16,35,14],[55,17,35,15],[56,6,36,4],[57,4,37,2],[57,5,37,3],[57,7,37,5],[57,8,37,6,"serverProfile"],[57,21,37,19],[57,23,37,21,"preferences"],[57,34,37,32],[57,35,37,33],[57,36,37,34],[58,4,39,2],[58,11,39,9],[59,6,40,4,"data"],[59,10,40,8],[60,6,41,4,"isLoading"],[60,15,41,13],[61,6,42,4,"error"],[61,11,42,9],[62,6,43,4,"serverProfile"],[62,19,43,17],[63,6,44,4,"preferences"],[64,4,45,2],[64,5,45,3],[65,2,46,0],[66,0,46,1],[66,3]],"functionMap":{"names":["<global>","useProfileData","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;OCI;aCG;KDe;8BEK;GFS;CDS"},"hasCjsExports":false},"type":"js/module"}]}