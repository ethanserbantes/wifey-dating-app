{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":12,"index":91},"end":{"line":5,"column":28,"index":107}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"../../errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":122},"end":{"line":6,"column":36,"index":145}}],"key":"Oc8JdRzxfYrD1sfFSy8Y5QpQ+vg=","exportNames":["*"],"imports":1}},{"name":"../../utilities","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":163},"end":{"line":7,"column":42,"index":189}}],"key":"dylU7Uvu5OAdzBgx7uCZTatncgc=","exportNames":["*"],"imports":1}},{"name":"../core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":11,"index":202},"end":{"line":8,"column":29,"index":220}}],"key":"zfOZh2Df04vdlWWq4HUHohVdYVA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var tslib = require(_dependencyMap[0]);\n  var errors = require(_dependencyMap[1]);\n  var utilities = require(_dependencyMap[2]);\n  var core = require(_dependencyMap[3]);\n  function onError(errorHandler) {\n    return new core.ApolloLink(function (operation, forward) {\n      return new utilities.Observable(function (observer) {\n        var sub;\n        var retriedSub;\n        var retriedResult;\n        try {\n          sub = forward(operation).subscribe({\n            next: function (result) {\n              if (result.errors) {\n                retriedResult = errorHandler({\n                  graphQLErrors: result.errors,\n                  response: result,\n                  operation: operation,\n                  forward: forward\n                });\n              } else if (errors.graphQLResultHasProtocolErrors(result)) {\n                retriedResult = errorHandler({\n                  protocolErrors: result.extensions[errors.PROTOCOL_ERRORS_SYMBOL],\n                  response: result,\n                  operation: operation,\n                  forward: forward\n                });\n              }\n              if (retriedResult) {\n                retriedSub = retriedResult.subscribe({\n                  next: observer.next.bind(observer),\n                  error: observer.error.bind(observer),\n                  complete: observer.complete.bind(observer)\n                });\n                return;\n              }\n              observer.next(result);\n            },\n            error: function (networkError) {\n              retriedResult = errorHandler({\n                operation: operation,\n                networkError: networkError,\n                graphQLErrors: networkError && networkError.result && networkError.result.errors || undefined,\n                forward: forward\n              });\n              if (retriedResult) {\n                retriedSub = retriedResult.subscribe({\n                  next: observer.next.bind(observer),\n                  error: observer.error.bind(observer),\n                  complete: observer.complete.bind(observer)\n                });\n                return;\n              }\n              observer.error(networkError);\n            },\n            complete: function () {\n              if (!retriedResult) {\n                observer.complete.bind(observer)();\n              }\n            }\n          });\n        } catch (e) {\n          errorHandler({\n            networkError: e,\n            operation: operation,\n            forward: forward\n          });\n          observer.error(e);\n        }\n        return function () {\n          if (sub) sub.unsubscribe();\n          if (retriedSub) sub.unsubscribe();\n        };\n      });\n    });\n  }\n  var ErrorLink = function (_super) {\n    tslib.__extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n      var _this = _super.call(this) || this;\n      _this.link = onError(errorHandler);\n      return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n      return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n  }(core.ApolloLink);\n  exports.ErrorLink = ErrorLink;\n  exports.onError = onError;\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,5,0],[7,6,5,4,"tslib"],[7,11,5,9],[7,14,5,12,"require"],[7,21,5,19],[7,22,5,19,"_dependencyMap"],[7,36,5,19],[7,39,5,27],[7,40,5,28],[8,2,6,0],[8,6,6,4,"errors"],[8,12,6,10],[8,15,6,13,"require"],[8,22,6,20],[8,23,6,20,"_dependencyMap"],[8,37,6,20],[8,40,6,35],[8,41,6,36],[9,2,7,0],[9,6,7,4,"utilities"],[9,15,7,13],[9,18,7,16,"require"],[9,25,7,23],[9,26,7,23,"_dependencyMap"],[9,40,7,23],[9,43,7,41],[9,44,7,42],[10,2,8,0],[10,6,8,4,"core"],[10,10,8,8],[10,13,8,11,"require"],[10,20,8,18],[10,21,8,18,"_dependencyMap"],[10,35,8,18],[10,38,8,28],[10,39,8,29],[11,2,10,0],[11,11,10,9,"onError"],[11,18,10,16,"onError"],[11,19,10,17,"errorHandler"],[11,31,10,29],[11,33,10,31],[12,4,11,4],[12,11,11,11],[12,15,11,15,"core"],[12,19,11,19],[12,20,11,20,"ApolloLink"],[12,30,11,30],[12,31,11,31],[12,41,11,41,"operation"],[12,50,11,50],[12,52,11,52,"forward"],[12,59,11,59],[12,61,11,61],[13,6,12,8],[13,13,12,15],[13,17,12,19,"utilities"],[13,26,12,28],[13,27,12,29,"Observable"],[13,37,12,39],[13,38,12,40],[13,48,12,50,"observer"],[13,56,12,58],[13,58,12,60],[14,8,13,12],[14,12,13,16,"sub"],[14,15,13,19],[15,8,14,12],[15,12,14,16,"retriedSub"],[15,22,14,26],[16,8,15,12],[16,12,15,16,"retriedResult"],[16,25,15,29],[17,8,16,12],[17,12,16,16],[18,10,17,16,"sub"],[18,13,17,19],[18,16,17,22,"forward"],[18,23,17,29],[18,24,17,30,"operation"],[18,33,17,39],[18,34,17,40],[18,35,17,41,"subscribe"],[18,44,17,50],[18,45,17,51],[19,12,18,20,"next"],[19,16,18,24],[19,18,18,26],[19,27,18,26,"next"],[19,28,18,36,"result"],[19,34,18,42],[19,36,18,44],[20,14,19,24],[20,18,19,28,"result"],[20,24,19,34],[20,25,19,35,"errors"],[20,31,19,41],[20,33,19,43],[21,16,20,28,"retriedResult"],[21,29,20,41],[21,32,20,44,"errorHandler"],[21,44,20,56],[21,45,20,57],[22,18,21,32,"graphQLErrors"],[22,31,21,45],[22,33,21,47,"result"],[22,39,21,53],[22,40,21,54,"errors"],[22,46,21,60],[23,18,22,32,"response"],[23,26,22,40],[23,28,22,42,"result"],[23,34,22,48],[24,18,23,32,"operation"],[24,27,23,41],[24,29,23,43,"operation"],[24,38,23,52],[25,18,24,32,"forward"],[25,25,24,39],[25,27,24,41,"forward"],[26,16,25,28],[26,17,25,29],[26,18,25,30],[27,14,26,24],[27,15,26,25],[27,21,27,29],[27,25,27,33,"errors"],[27,31,27,39],[27,32,27,40,"graphQLResultHasProtocolErrors"],[27,62,27,70],[27,63,27,71,"result"],[27,69,27,77],[27,70,27,78],[27,72,27,80],[28,16,28,28,"retriedResult"],[28,29,28,41],[28,32,28,44,"errorHandler"],[28,44,28,56],[28,45,28,57],[29,18,29,32,"protocolErrors"],[29,32,29,46],[29,34,29,48,"result"],[29,40,29,54],[29,41,29,55,"extensions"],[29,51,29,65],[29,52,29,66,"errors"],[29,58,29,72],[29,59,29,73,"PROTOCOL_ERRORS_SYMBOL"],[29,81,29,95],[29,82,29,96],[30,18,30,32,"response"],[30,26,30,40],[30,28,30,42,"result"],[30,34,30,48],[31,18,31,32,"operation"],[31,27,31,41],[31,29,31,43,"operation"],[31,38,31,52],[32,18,32,32,"forward"],[32,25,32,39],[32,27,32,41,"forward"],[33,16,33,28],[33,17,33,29],[33,18,33,30],[34,14,34,24],[35,14,35,24],[35,18,35,28,"retriedResult"],[35,31,35,41],[35,33,35,43],[36,16,36,28,"retriedSub"],[36,26,36,38],[36,29,36,41,"retriedResult"],[36,42,36,54],[36,43,36,55,"subscribe"],[36,52,36,64],[36,53,36,65],[37,18,37,32,"next"],[37,22,37,36],[37,24,37,38,"observer"],[37,32,37,46],[37,33,37,47,"next"],[37,37,37,51],[37,38,37,52,"bind"],[37,42,37,56],[37,43,37,57,"observer"],[37,51,37,65],[37,52,37,66],[38,18,38,32,"error"],[38,23,38,37],[38,25,38,39,"observer"],[38,33,38,47],[38,34,38,48,"error"],[38,39,38,53],[38,40,38,54,"bind"],[38,44,38,58],[38,45,38,59,"observer"],[38,53,38,67],[38,54,38,68],[39,18,39,32,"complete"],[39,26,39,40],[39,28,39,42,"observer"],[39,36,39,50],[39,37,39,51,"complete"],[39,45,39,59],[39,46,39,60,"bind"],[39,50,39,64],[39,51,39,65,"observer"],[39,59,39,73],[40,16,40,28],[40,17,40,29],[40,18,40,30],[41,16,41,28],[42,14,42,24],[43,14,43,24,"observer"],[43,22,43,32],[43,23,43,33,"next"],[43,27,43,37],[43,28,43,38,"result"],[43,34,43,44],[43,35,43,45],[44,12,44,20],[44,13,44,21],[45,12,45,20,"error"],[45,17,45,25],[45,19,45,27],[45,28,45,27,"error"],[45,29,45,37,"networkError"],[45,41,45,49],[45,43,45,51],[46,14,46,24,"retriedResult"],[46,27,46,37],[46,30,46,40,"errorHandler"],[46,42,46,52],[46,43,46,53],[47,16,47,28,"operation"],[47,25,47,37],[47,27,47,39,"operation"],[47,36,47,48],[48,16,48,28,"networkError"],[48,28,48,40],[48,30,48,42,"networkError"],[48,42,48,54],[49,16,49,28,"graphQLErrors"],[49,29,49,41],[49,31,49,44,"networkError"],[49,43,49,56],[49,47,50,32,"networkError"],[49,59,50,44],[49,60,50,45,"result"],[49,66,50,51],[49,70,51,32,"networkError"],[49,82,51,44],[49,83,51,45,"result"],[49,89,51,51],[49,90,51,52,"errors"],[49,96,51,58],[49,100,51,58,"undefined"],[49,109,52,38],[50,16,53,28,"forward"],[50,23,53,35],[50,25,53,37,"forward"],[51,14,54,24],[51,15,54,25],[51,16,54,26],[52,14,55,24],[52,18,55,28,"retriedResult"],[52,31,55,41],[52,33,55,43],[53,16,56,28,"retriedSub"],[53,26,56,38],[53,29,56,41,"retriedResult"],[53,42,56,54],[53,43,56,55,"subscribe"],[53,52,56,64],[53,53,56,65],[54,18,57,32,"next"],[54,22,57,36],[54,24,57,38,"observer"],[54,32,57,46],[54,33,57,47,"next"],[54,37,57,51],[54,38,57,52,"bind"],[54,42,57,56],[54,43,57,57,"observer"],[54,51,57,65],[54,52,57,66],[55,18,58,32,"error"],[55,23,58,37],[55,25,58,39,"observer"],[55,33,58,47],[55,34,58,48,"error"],[55,39,58,53],[55,40,58,54,"bind"],[55,44,58,58],[55,45,58,59,"observer"],[55,53,58,67],[55,54,58,68],[56,18,59,32,"complete"],[56,26,59,40],[56,28,59,42,"observer"],[56,36,59,50],[56,37,59,51,"complete"],[56,45,59,59],[56,46,59,60,"bind"],[56,50,59,64],[56,51,59,65,"observer"],[56,59,59,73],[57,16,60,28],[57,17,60,29],[57,18,60,30],[58,16,61,28],[59,14,62,24],[60,14,63,24,"observer"],[60,22,63,32],[60,23,63,33,"error"],[60,28,63,38],[60,29,63,39,"networkError"],[60,41,63,51],[60,42,63,52],[61,12,64,20],[61,13,64,21],[62,12,65,20,"complete"],[62,20,65,28],[62,22,65,30],[62,31,65,30,"complete"],[62,32,65,30],[62,34,65,42],[63,14,66,24],[63,18,66,28],[63,19,66,29,"retriedResult"],[63,32,66,42],[63,34,66,44],[64,16,67,28,"observer"],[64,24,67,36],[64,25,67,37,"complete"],[64,33,67,45],[64,34,67,46,"bind"],[64,38,67,50],[64,39,67,51,"observer"],[64,47,67,59],[64,48,67,60],[64,49,67,61],[64,50,67,62],[65,14,68,24],[66,12,69,20],[67,10,70,16],[67,11,70,17],[67,12,70,18],[68,8,71,12],[68,9,71,13],[68,10,72,12],[68,17,72,19,"e"],[68,18,72,20],[68,20,72,22],[69,10,73,16,"errorHandler"],[69,22,73,28],[69,23,73,29],[70,12,73,31,"networkError"],[70,24,73,43],[70,26,73,45,"e"],[70,27,73,46],[71,12,73,48,"operation"],[71,21,73,57],[71,23,73,59,"operation"],[71,32,73,68],[72,12,73,70,"forward"],[72,19,73,77],[72,21,73,79,"forward"],[73,10,73,87],[73,11,73,88],[73,12,73,89],[74,10,74,16,"observer"],[74,18,74,24],[74,19,74,25,"error"],[74,24,74,30],[74,25,74,31,"e"],[74,26,74,32],[74,27,74,33],[75,8,75,12],[76,8,76,12],[76,15,76,19],[76,27,76,31],[77,10,77,16],[77,14,77,20,"sub"],[77,17,77,23],[77,19,78,20,"sub"],[77,22,78,23],[77,23,78,24,"unsubscribe"],[77,34,78,35],[77,35,78,36],[77,36,78,37],[78,10,79,16],[78,14,79,20,"retriedSub"],[78,24,79,30],[78,26,80,20,"sub"],[78,29,80,23],[78,30,80,24,"unsubscribe"],[78,41,80,35],[78,42,80,36],[78,43,80,37],[79,8,81,12],[79,9,81,13],[80,6,82,8],[80,7,82,9],[80,8,82,10],[81,4,83,4],[81,5,83,5],[81,6,83,6],[82,2,84,0],[83,2,85,0],[83,6,85,4,"ErrorLink"],[83,15,85,13],[83,18,85,18],[83,28,85,28,"_super"],[83,34,85,34],[83,36,85,36],[84,4,86,4,"tslib"],[84,9,86,9],[84,10,86,10,"__extends"],[84,19,86,19],[84,20,86,20,"ErrorLink"],[84,29,86,29],[84,31,86,31,"_super"],[84,37,86,37],[84,38,86,38],[85,4,87,4],[85,13,87,13,"ErrorLink"],[85,22,87,22,"ErrorLink"],[85,23,87,23,"errorHandler"],[85,35,87,35],[85,37,87,37],[86,6,88,8],[86,10,88,12,"_this"],[86,15,88,17],[86,18,88,20,"_super"],[86,24,88,26],[86,25,88,27,"call"],[86,29,88,31],[86,30,88,32],[86,34,88,36],[86,35,88,37],[86,39,88,41],[86,43,88,45],[87,6,89,8,"_this"],[87,11,89,13],[87,12,89,14,"link"],[87,16,89,18],[87,19,89,21,"onError"],[87,26,89,28],[87,27,89,29,"errorHandler"],[87,39,89,41],[87,40,89,42],[88,6,90,8],[88,13,90,15,"_this"],[88,18,90,20],[89,4,91,4],[90,4,92,4,"ErrorLink"],[90,13,92,13],[90,14,92,14,"prototype"],[90,23,92,23],[90,24,92,24,"request"],[90,31,92,31],[90,34,92,34],[90,44,92,44,"operation"],[90,53,92,53],[90,55,92,55,"forward"],[90,62,92,62],[90,64,92,64],[91,6,93,8],[91,13,93,15],[91,17,93,19],[91,18,93,20,"link"],[91,22,93,24],[91,23,93,25,"request"],[91,30,93,32],[91,31,93,33,"operation"],[91,40,93,42],[91,42,93,44,"forward"],[91,49,93,51],[91,50,93,52],[92,4,94,4],[92,5,94,5],[93,4,95,4],[93,11,95,11,"ErrorLink"],[93,20,95,20],[94,2,96,0],[94,3,96,1],[94,4,96,2,"core"],[94,8,96,6],[94,9,96,7,"ApolloLink"],[94,19,96,17],[94,20,96,19],[95,2,98,0,"exports"],[95,9,98,7],[95,10,98,8,"ErrorLink"],[95,19,98,17],[95,22,98,20,"ErrorLink"],[95,31,98,29],[96,2,99,0,"exports"],[96,9,99,7],[96,10,99,8,"onError"],[96,17,99,15],[96,20,99,18,"onError"],[96,27,99,25],[97,0,99,26],[97,3]],"functionMap":{"names":["<global>","onError","core.ApolloLink$argument_0","utilities.Observable$argument_0","forward.subscribe$argument_0.next","forward.subscribe$argument_0.error","forward.subscribe$argument_0.complete","<anonymous>","ErrorLink","ErrorLink.prototype.request"],"mappings":"AAA;ACS;+BCC;wCCC;0BCM;qBD0B;2BEC;qBFmB;8BGC;qBHI;mBIO;aJK;SDC;KDC;CDC;kBOC;ICE;KDI;kCEC;KFE;CPE"},"hasCjsExports":true},"type":"js/module"}]}