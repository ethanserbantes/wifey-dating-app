{"dependencies":[{"name":"../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"4IMzW1L9FGOQbFYVibN4P3pVG0E=","exportNames":["*"],"imports":1}},{"name":"../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":49,"index":109}}],"key":"PyiI6yM07W7J+gN2cHiTPsTCV4c=","exportNames":["*"],"imports":1}},{"name":"../instrument/console.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":76,"index":186}}],"key":"mF9BzpGjRI9MEeXaI3fN4hpukgo=","exportNames":["*"],"imports":1}},{"name":"../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":54,"index":241}}],"key":"B8aKvpmafw58aWtupuC7GWTMiwo=","exportNames":["*"],"imports":1}},{"name":"../utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":242},"end":{"line":5,"column":58,"index":300}}],"key":"bptn1GZFOkS4BOMU8jhPqqHmvAc=","exportNames":["*"],"imports":1}},{"name":"../utils/misc.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":301},"end":{"line":6,"column":57,"index":358}}],"key":"k0C+0ymNRwyO20/vsxl2n7srIEY=","exportNames":["*"],"imports":1}},{"name":"../utils/severity.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":359},"end":{"line":7,"column":63,"index":422}}],"key":"bM6xP+waOuKu/MRFtZ++FJqpEPg=","exportNames":["*"],"imports":1}},{"name":"../utils/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":423},"end":{"line":8,"column":46,"index":469}}],"key":"TOLHLvcm9bKbk8t+hoSWk6MQRNY=","exportNames":["*"],"imports":1}},{"name":"../utils/worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":470},"end":{"line":9,"column":51,"index":521}}],"key":"P+UFfr1ne09dGLmc90iZCFaYonQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"captureConsoleIntegration\", {\n    enumerable: true,\n    get: function () {\n      return captureConsoleIntegration;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0]);\n  var _exportsJs = require(_dependencyMap[1]);\n  var _instrumentConsoleJs = require(_dependencyMap[2]);\n  var _integrationJs = require(_dependencyMap[3]);\n  var _utilsDebugLoggerJs = require(_dependencyMap[4]);\n  var _utilsMiscJs = require(_dependencyMap[5]);\n  var _utilsSeverityJs = require(_dependencyMap[6]);\n  var _utilsStringJs = require(_dependencyMap[7]);\n  var _utilsWorldwideJs = require(_dependencyMap[8]);\n  var INTEGRATION_NAME = 'CaptureConsole';\n  var _captureConsoleIntegration = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var levels = options.levels || _utilsDebugLoggerJs.CONSOLE_LEVELS;\n    var handled = options.handled ?? true;\n    return {\n      name: INTEGRATION_NAME,\n      setup(client) {\n        if (!('console' in _utilsWorldwideJs.GLOBAL_OBJ)) {\n          return;\n        }\n        (0, _instrumentConsoleJs.addConsoleInstrumentationHandler)(_ref => {\n          var args = _ref.args,\n            level = _ref.level;\n          if ((0, _currentScopesJs.getClient)() !== client || !levels.includes(level)) {\n            return;\n          }\n          consoleHandler(args, level, handled);\n        });\n      }\n    };\n  };\n\n  /**\n   * Send Console API calls as Sentry Events.\n   */\n  var captureConsoleIntegration = (0, _integrationJs.defineIntegration)(_captureConsoleIntegration);\n  function consoleHandler(args, level, handled) {\n    var severityLevel = (0, _utilsSeverityJs.severityLevelFromString)(level);\n\n    /*\n      We create this error here already to attach a stack trace to captured messages,\n      if users set `attachStackTrace` to `true` in Sentry.init.\n      We do this here already because we want to minimize the number of Sentry SDK stack frames\n      within the error. Technically, Client.captureMessage will also do it but this happens several\n      stack frames deeper.\n    */\n    var syntheticException = new Error();\n    var captureContext = {\n      level: (0, _utilsSeverityJs.severityLevelFromString)(level),\n      extra: {\n        arguments: args\n      }\n    };\n    (0, _currentScopesJs.withScope)(scope => {\n      scope.addEventProcessor(event => {\n        event.logger = 'console';\n        (0, _utilsMiscJs.addExceptionMechanism)(event, {\n          handled,\n          type: 'auto.core.capture_console'\n        });\n        return event;\n      });\n      if (level === 'assert') {\n        if (!args[0]) {\n          var _message = `Assertion failed: ${(0, _utilsStringJs.safeJoin)(args.slice(1), ' ') || 'console.assert'}`;\n          scope.setExtra('arguments', args.slice(1));\n          scope.captureMessage(_message, severityLevel, {\n            captureContext,\n            syntheticException\n          });\n        }\n        return;\n      }\n      var error = args.find(arg => arg instanceof Error);\n      if (error) {\n        (0, _exportsJs.captureException)(error, captureContext);\n        return;\n      }\n      var message = (0, _utilsStringJs.safeJoin)(args, ' ');\n      scope.captureMessage(message, severityLevel, {\n        captureContext,\n        syntheticException\n      });\n    });\n  }\n});","lineCount":98,"map":[[7,2,91,0,"Object"],[7,8,91,0],[7,9,91,0,"defineProperty"],[7,23,91,0],[7,24,91,0,"exports"],[7,31,91,0],[8,4,91,0,"enumerable"],[8,14,91,0],[9,4,91,0,"get"],[9,7,91,0],[9,18,91,0,"get"],[9,19,91,0],[10,6,91,0],[10,13,91,9,"captureConsoleIntegration"],[10,38,91,34],[11,4,91,34],[12,2,91,34],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_exportsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_instrumentConsoleJs"],[15,26,3,0],[15,29,3,0,"require"],[15,36,3,0],[15,37,3,0,"_dependencyMap"],[15,51,3,0],[16,2,4,0],[16,6,4,0,"_integrationJs"],[16,20,4,0],[16,23,4,0,"require"],[16,30,4,0],[16,31,4,0,"_dependencyMap"],[16,45,4,0],[17,2,5,0],[17,6,5,0,"_utilsDebugLoggerJs"],[17,25,5,0],[17,28,5,0,"require"],[17,35,5,0],[17,36,5,0,"_dependencyMap"],[17,50,5,0],[18,2,6,0],[18,6,6,0,"_utilsMiscJs"],[18,18,6,0],[18,21,6,0,"require"],[18,28,6,0],[18,29,6,0,"_dependencyMap"],[18,43,6,0],[19,2,7,0],[19,6,7,0,"_utilsSeverityJs"],[19,22,7,0],[19,25,7,0,"require"],[19,32,7,0],[19,33,7,0,"_dependencyMap"],[19,47,7,0],[20,2,8,0],[20,6,8,0,"_utilsStringJs"],[20,20,8,0],[20,23,8,0,"require"],[20,30,8,0],[20,31,8,0,"_dependencyMap"],[20,45,8,0],[21,2,9,0],[21,6,9,0,"_utilsWorldwideJs"],[21,23,9,0],[21,26,9,0,"require"],[21,33,9,0],[21,34,9,0,"_dependencyMap"],[21,48,9,0],[22,2,11,0],[22,6,11,6,"INTEGRATION_NAME"],[22,22,11,22],[22,25,11,25],[22,41,11,41],[23,2,13,0],[23,6,13,6,"_captureConsoleIntegration"],[23,32,13,32],[23,35,13,36],[23,44,13,36,"_captureConsoleIntegration"],[23,45,13,36],[23,47,13,54],[24,4,13,54],[24,8,13,37,"options"],[24,15,13,44],[24,18,13,44,"arguments"],[24,27,13,44],[24,28,13,44,"length"],[24,34,13,44],[24,42,13,44,"arguments"],[24,51,13,44],[24,59,13,44,"undefined"],[24,68,13,44],[24,71,13,44,"arguments"],[24,80,13,44],[24,86,13,47],[24,87,13,48],[24,88,13,49],[25,4,14,2],[25,8,14,8,"levels"],[25,14,14,14],[25,17,14,17,"options"],[25,24,14,24],[25,25,14,25,"levels"],[25,31,14,31],[25,35,14,35,"CONSOLE_LEVELS"],[25,54,14,49],[25,55,14,49,"CONSOLE_LEVELS"],[25,69,14,49],[26,4,15,2],[26,8,15,8,"handled"],[26,15,15,15],[26,18,15,18,"options"],[26,25,15,25],[26,26,15,26,"handled"],[26,33,15,33],[26,37,15,37],[26,41,15,41],[27,4,17,2],[27,11,17,9],[28,6,18,4,"name"],[28,10,18,8],[28,12,18,10,"INTEGRATION_NAME"],[28,28,18,26],[29,6,19,4,"setup"],[29,11,19,9,"setup"],[29,12,19,10,"client"],[29,18,19,16],[29,20,19,18],[30,8,20,6],[30,12,20,10],[30,14,20,12],[30,23,20,21],[30,27,20,25,"GLOBAL_OBJ"],[30,44,20,35],[30,45,20,35,"GLOBAL_OBJ"],[30,55,20,35],[30,56,20,36],[30,58,20,38],[31,10,21,8],[32,8,22,6],[33,8,24,6],[33,12,24,6,"addConsoleInstrumentationHandler"],[33,32,24,38],[33,33,24,38,"addConsoleInstrumentationHandler"],[33,65,24,38],[33,67,24,39,"_ref"],[33,71,24,39],[33,75,24,60],[34,10,24,60],[34,14,24,42,"args"],[34,18,24,46],[34,21,24,46,"_ref"],[34,25,24,46],[34,26,24,42,"args"],[34,30,24,46],[35,12,24,48,"level"],[35,17,24,53],[35,20,24,53,"_ref"],[35,24,24,53],[35,25,24,48,"level"],[35,30,24,53],[36,10,25,8],[36,14,25,12],[36,18,25,12,"getClient"],[36,34,25,21],[36,35,25,21,"getClient"],[36,44,25,21],[36,46,25,22],[36,47,25,23],[36,52,25,28,"client"],[36,58,25,34],[36,62,25,38],[36,63,25,39,"levels"],[36,69,25,45],[36,70,25,46,"includes"],[36,78,25,54],[36,79,25,55,"level"],[36,84,25,60],[36,85,25,61],[36,87,25,63],[37,12,26,10],[38,10,27,8],[39,10,29,8,"consoleHandler"],[39,24,29,22],[39,25,29,23,"args"],[39,29,29,27],[39,31,29,29,"level"],[39,36,29,34],[39,38,29,36,"handled"],[39,45,29,43],[39,46,29,44],[40,8,30,6],[40,9,30,7],[40,10,30,8],[41,6,31,4],[42,4,32,2],[42,5,32,3],[43,2,33,0],[43,3,33,2],[45,2,35,0],[46,0,36,0],[47,0,37,0],[48,2,38,0],[48,6,38,6,"captureConsoleIntegration"],[48,31,38,31],[48,34,38,34],[48,38,38,34,"defineIntegration"],[48,52,38,51],[48,53,38,51,"defineIntegration"],[48,70,38,51],[48,72,38,52,"_captureConsoleIntegration"],[48,98,38,78],[48,99,38,79],[49,2,40,0],[49,11,40,9,"consoleHandler"],[49,25,40,23,"consoleHandler"],[49,26,40,24,"args"],[49,30,40,28],[49,32,40,30,"level"],[49,37,40,35],[49,39,40,37,"handled"],[49,46,40,44],[49,48,40,46],[50,4,41,2],[50,8,41,8,"severityLevel"],[50,21,41,21],[50,24,41,24],[50,28,41,24,"severityLevelFromString"],[50,44,41,47],[50,45,41,47,"severityLevelFromString"],[50,68,41,47],[50,70,41,48,"level"],[50,75,41,53],[50,76,41,54],[52,4,43,2],[53,0,44,0],[54,0,45,0],[55,0,46,0],[56,0,47,0],[57,0,48,0],[58,0,49,0],[59,4,50,2],[59,8,50,8,"syntheticException"],[59,26,50,26],[59,29,50,29],[59,33,50,33,"Error"],[59,38,50,38],[59,39,50,39],[59,40,50,40],[60,4,52,2],[60,8,52,8,"captureContext"],[60,22,52,22],[60,25,52,25],[61,6,53,4,"level"],[61,11,53,9],[61,13,53,11],[61,17,53,11,"severityLevelFromString"],[61,33,53,34],[61,34,53,34,"severityLevelFromString"],[61,57,53,34],[61,59,53,35,"level"],[61,64,53,40],[61,65,53,41],[62,6,54,4,"extra"],[62,11,54,9],[62,13,54,11],[63,8,55,6,"arguments"],[63,17,55,15],[63,19,55,17,"args"],[64,6,56,4],[65,4,57,2],[65,5,57,3],[66,4,59,2],[66,8,59,2,"withScope"],[66,24,59,11],[66,25,59,11,"withScope"],[66,34,59,11],[66,36,59,12,"scope"],[66,41,59,17],[66,45,59,21],[67,6,60,4,"scope"],[67,11,60,9],[67,12,60,10,"addEventProcessor"],[67,29,60,27],[67,30,60,28,"event"],[67,35,60,33],[67,39,60,37],[68,8,61,6,"event"],[68,13,61,11],[68,14,61,12,"logger"],[68,20,61,18],[68,23,61,21],[68,32,61,30],[69,8,63,6],[69,12,63,6,"addExceptionMechanism"],[69,24,63,27],[69,25,63,27,"addExceptionMechanism"],[69,46,63,27],[69,48,63,28,"event"],[69,53,63,33],[69,55,63,35],[70,10,64,8,"handled"],[70,17,64,15],[71,10,65,8,"type"],[71,14,65,12],[71,16,65,14],[72,8,66,6],[72,9,66,7],[72,10,66,8],[73,8,68,6],[73,15,68,13,"event"],[73,20,68,18],[74,6,69,4],[74,7,69,5],[74,8,69,6],[75,6,71,4],[75,10,71,8,"level"],[75,15,71,13],[75,20,71,18],[75,28,71,26],[75,30,71,28],[76,8,72,6],[76,12,72,10],[76,13,72,11,"args"],[76,17,72,15],[76,18,72,16],[76,19,72,17],[76,20,72,18],[76,22,72,20],[77,10,73,8],[77,14,73,14,"message"],[77,22,73,21],[77,25,73,24],[77,46,73,45],[77,50,73,45,"safeJoin"],[77,64,73,53],[77,65,73,53,"safeJoin"],[77,73,73,53],[77,75,73,54,"args"],[77,79,73,58],[77,80,73,59,"slice"],[77,85,73,64],[77,86,73,65],[77,87,73,66],[77,88,73,67],[77,90,73,69],[77,93,73,72],[77,94,73,73],[77,98,73,77],[77,114,73,93],[77,116,73,95],[78,10,74,8,"scope"],[78,15,74,13],[78,16,74,14,"setExtra"],[78,24,74,22],[78,25,74,23],[78,36,74,34],[78,38,74,36,"args"],[78,42,74,40],[78,43,74,41,"slice"],[78,48,74,46],[78,49,74,47],[78,50,74,48],[78,51,74,49],[78,52,74,50],[79,10,75,8,"scope"],[79,15,75,13],[79,16,75,14,"captureMessage"],[79,30,75,28],[79,31,75,29,"message"],[79,39,75,36],[79,41,75,38,"severityLevel"],[79,54,75,51],[79,56,75,53],[80,12,75,55,"captureContext"],[80,26,75,69],[81,12,75,71,"syntheticException"],[82,10,75,90],[82,11,75,91],[82,12,75,92],[83,8,76,6],[84,8,77,6],[85,6,78,4],[86,6,80,4],[86,10,80,10,"error"],[86,15,80,15],[86,18,80,18,"args"],[86,22,80,22],[86,23,80,23,"find"],[86,27,80,27],[86,28,80,28,"arg"],[86,31,80,31],[86,35,80,35,"arg"],[86,38,80,38],[86,50,80,50,"Error"],[86,55,80,55],[86,56,80,56],[87,6,81,4],[87,10,81,8,"error"],[87,15,81,13],[87,17,81,15],[88,8,82,6],[88,12,82,6,"captureException"],[88,22,82,22],[88,23,82,22,"captureException"],[88,39,82,22],[88,41,82,23,"error"],[88,46,82,28],[88,48,82,30,"captureContext"],[88,62,82,44],[88,63,82,45],[89,8,83,6],[90,6,84,4],[91,6,86,4],[91,10,86,10,"message"],[91,17,86,17],[91,20,86,20],[91,24,86,20,"safeJoin"],[91,38,86,28],[91,39,86,28,"safeJoin"],[91,47,86,28],[91,49,86,29,"args"],[91,53,86,33],[91,55,86,35],[91,58,86,38],[91,59,86,39],[92,6,87,4,"scope"],[92,11,87,9],[92,12,87,10,"captureMessage"],[92,26,87,24],[92,27,87,25,"message"],[92,34,87,32],[92,36,87,34,"severityLevel"],[92,49,87,47],[92,51,87,49],[93,8,87,51,"captureContext"],[93,22,87,65],[94,8,87,67,"syntheticException"],[95,6,87,86],[95,7,87,87],[95,8,87,88],[96,4,88,2],[96,5,88,3],[96,6,88,4],[97,2,89,0],[98,0,89,1],[98,3]],"functionMap":{"names":["<global>","_captureConsoleIntegration","setup","addConsoleInstrumentationHandler$argument_0","consoleHandler","withScope$argument_0","scope.addEventProcessor$argument_0","args.find$argument_0"],"mappings":"AAA;oCCY;ICM;uCCK;ODM;KDC;CDE;AIO;YCmB;4BCC;KDS;4BEW,2BF;GDQ;CJC"},"hasCjsExports":false},"type":"js/module"}]}