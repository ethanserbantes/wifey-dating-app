{"dependencies":[{"name":"./lib/bindReporter.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"yZXTUsWh1M46DyxIbZ88NUHRymg=","exportNames":["*"],"imports":1}},{"name":"./lib/getVisibilityWatcher.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":69,"index":123}}],"key":"nHtaM9v//YlxGAv+O3W06C++qp8=","exportNames":["*"],"imports":1}},{"name":"./lib/initMetric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":49,"index":173}}],"key":"3h8m+kvAV2o3xN93IHHrmBqzs4s=","exportNames":["*"],"imports":1}},{"name":"./lib/initUnique.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":49,"index":223}}],"key":"hut8a99D/Gv1jGW5dfMa/Znpg4I=","exportNames":["*"],"imports":1}},{"name":"./lib/InteractionManager.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":224},"end":{"line":5,"column":65,"index":289}}],"key":"d15F3tPUyBRUDmamswM68sTk7Y8=","exportNames":["*"],"imports":1}},{"name":"./lib/observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":290},"end":{"line":6,"column":43,"index":333}}],"key":"Cz2RoRvLyGQyofIDJmcgFo6dicM=","exportNames":["*"],"imports":1}},{"name":"./lib/polyfills/interactionCountPolyfill.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":334},"end":{"line":7,"column":91,"index":425}}],"key":"scDlk2WKDLOYPPbp6vPwC12IYso=","exportNames":["*"],"imports":1}},{"name":"./lib/whenActivated.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":426},"end":{"line":8,"column":55,"index":481}}],"key":"ZUHRzyG92JJbjB1/O2ptt6DviqY=","exportNames":["*"],"imports":1}},{"name":"./lib/whenIdleOrHidden.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":482},"end":{"line":9,"column":61,"index":543}}],"key":"aIXUXNtl+4w2mSAxoQv7ThovIbE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"INPThresholds\", {\n    enumerable: true,\n    get: function () {\n      return INPThresholds;\n    }\n  });\n  Object.defineProperty(exports, \"onINP\", {\n    enumerable: true,\n    get: function () {\n      return onINP;\n    }\n  });\n  var _libBindReporterJs = require(_dependencyMap[0], \"./lib/bindReporter.js\");\n  var _libGetVisibilityWatcherJs = require(_dependencyMap[1], \"./lib/getVisibilityWatcher.js\");\n  var _libInitMetricJs = require(_dependencyMap[2], \"./lib/initMetric.js\");\n  var _libInitUniqueJs = require(_dependencyMap[3], \"./lib/initUnique.js\");\n  var _libInteractionManagerJs = require(_dependencyMap[4], \"./lib/InteractionManager.js\");\n  var _libObserveJs = require(_dependencyMap[5], \"./lib/observe.js\");\n  var _libPolyfillsInteractionCountPolyfillJs = require(_dependencyMap[6], \"./lib/polyfills/interactionCountPolyfill.js\");\n  var _libWhenActivatedJs = require(_dependencyMap[7], \"./lib/whenActivated.js\");\n  var _libWhenIdleOrHiddenJs = require(_dependencyMap[8], \"./lib/whenIdleOrHidden.js\");\n  /*\n   * Copyright 2022 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** Thresholds for INP. See https://web.dev/articles/inp#what_is_a_good_inp_score */\n  var INPThresholds = [200, 500];\n\n  // The default `durationThreshold` used across this library for observing\n  // `event` entries via PerformanceObserver.\n  var DEFAULT_DURATION_THRESHOLD = 40;\n\n  /**\n   * Calculates the [INP](https://web.dev/articles/inp) value for the current\n   * page and calls the `callback` function once the value is ready, along with\n   * the `event` performance entries reported for that interaction. The reported\n   * value is a `DOMHighResTimeStamp`.\n   *\n   * A custom `durationThreshold` configuration option can optionally be passed\n   * to control what `event-timing` entries are considered for INP reporting. The\n   * default threshold is `40`, which means INP scores of less than 40 will not\n   * be reported. To avoid reporting no interactions in these cases, the library\n   * will fall back to the input delay of the first interaction. Note that this\n   * will not affect your 75th percentile INP value unless that value is also\n   * less than 40 (well below the recommended\n   * [good](https://web.dev/articles/inp#what_is_a_good_inp_score) threshold).\n   *\n   * If the `reportAllChanges` configuration option is set to `true`, the\n   * `callback` function will be called as soon as the value is initially\n   * determined as well as any time the value changes throughout the page\n   * lifespan.\n   *\n   * _**Important:** INP should be continually monitored for changes throughout\n   * the entire lifespan of a pageâ€”including if the user returns to the page after\n   * it's been hidden/backgrounded. However, since browsers often [will not fire\n   * additional callbacks once the user has backgrounded a\n   * page](https://developer.chrome.com/blog/page-lifecycle-api/#advice-hidden),\n   * `callback` is always called when the page's visibility state changes to\n   * hidden. As a result, the `callback` function might be called multiple times\n   * during the same page load._\n   */\n  var onINP = function (onReport) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // Return if the browser doesn't support all APIs needed to measure INP.\n    if (!(globalThis.PerformanceEventTiming && 'interactionId' in PerformanceEventTiming.prototype)) {\n      return;\n    }\n    var visibilityWatcher = (0, _libGetVisibilityWatcherJs.getVisibilityWatcher)();\n    (0, _libWhenActivatedJs.whenActivated)(() => {\n      // TODO(philipwalton): remove once the polyfill is no longer needed.\n      (0, _libPolyfillsInteractionCountPolyfillJs.initInteractionCountPolyfill)();\n      var metric = (0, _libInitMetricJs.initMetric)('INP');\n      // eslint-disable-next-line prefer-const\n      var report;\n      var interactionManager = (0, _libInitUniqueJs.initUnique)(opts, _libInteractionManagerJs.InteractionManager);\n      var handleEntries = entries => {\n        // Queue the `handleEntries()` callback in the next idle task.\n        // This is needed to increase the chances that all event entries that\n        // occurred between the user interaction and the next paint\n        // have been dispatched. Note: there is currently an experiment\n        // running in Chrome (EventTimingKeypressAndCompositionInteractionId)\n        // 123+ that if rolled out fully may make this no longer necessary.\n        (0, _libWhenIdleOrHiddenJs.whenIdleOrHidden)(() => {\n          for (var entry of entries) {\n            interactionManager._processEntry(entry);\n          }\n          var inp = interactionManager._estimateP98LongestInteraction();\n          if (inp && inp._latency !== metric.value) {\n            metric.value = inp._latency;\n            metric.entries = inp.entries;\n            report();\n          }\n        });\n      };\n      var po = (0, _libObserveJs.observe)('event', handleEntries, {\n        // Event Timing entries have their durations rounded to the nearest 8ms,\n        // so a duration of 40ms would be any event that spans 2.5 or more frames\n        // at 60Hz. This threshold is chosen to strike a balance between usefulness\n        // and performance. Running this callback for any interaction that spans\n        // just one or two frames is likely not worth the insight that could be\n        // gained.\n        durationThreshold: opts.durationThreshold ?? DEFAULT_DURATION_THRESHOLD\n      });\n      report = (0, _libBindReporterJs.bindReporter)(onReport, metric, INPThresholds, opts.reportAllChanges);\n      if (po) {\n        // Also observe entries of type `first-input`. This is useful in cases\n        // where the first interaction is less than the `durationThreshold`.\n        po.observe({\n          type: 'first-input',\n          buffered: true\n        });\n        visibilityWatcher.onHidden(() => {\n          handleEntries(po.takeRecords());\n          report(true);\n        });\n      }\n    });\n  };\n});","lineCount":137,"map":[[7,2,129,0,"Object"],[7,8,129,0],[7,9,129,0,"defineProperty"],[7,23,129,0],[7,24,129,0,"exports"],[7,31,129,0],[8,4,129,0,"enumerable"],[8,14,129,0],[9,4,129,0,"get"],[9,7,129,0],[9,18,129,0,"get"],[9,19,129,0],[10,6,129,0],[10,13,129,9,"INPThresholds"],[10,26,129,22],[11,4,129,22],[12,2,129,22],[13,2,129,0,"Object"],[13,8,129,0],[13,9,129,0,"defineProperty"],[13,23,129,0],[13,24,129,0,"exports"],[13,31,129,0],[14,4,129,0,"enumerable"],[14,14,129,0],[15,4,129,0,"get"],[15,7,129,0],[15,18,129,0,"get"],[15,19,129,0],[16,6,129,0],[16,13,129,24,"onINP"],[16,18,129,29],[17,4,129,29],[18,2,129,29],[19,2,1,0],[19,6,1,0,"_libBindReporterJs"],[19,24,1,0],[19,27,1,0,"require"],[19,34,1,0],[19,35,1,0,"_dependencyMap"],[19,49,1,0],[20,2,2,0],[20,6,2,0,"_libGetVisibilityWatcherJs"],[20,32,2,0],[20,35,2,0,"require"],[20,42,2,0],[20,43,2,0,"_dependencyMap"],[20,57,2,0],[21,2,3,0],[21,6,3,0,"_libInitMetricJs"],[21,22,3,0],[21,25,3,0,"require"],[21,32,3,0],[21,33,3,0,"_dependencyMap"],[21,47,3,0],[22,2,4,0],[22,6,4,0,"_libInitUniqueJs"],[22,22,4,0],[22,25,4,0,"require"],[22,32,4,0],[22,33,4,0,"_dependencyMap"],[22,47,4,0],[23,2,5,0],[23,6,5,0,"_libInteractionManagerJs"],[23,30,5,0],[23,33,5,0,"require"],[23,40,5,0],[23,41,5,0,"_dependencyMap"],[23,55,5,0],[24,2,6,0],[24,6,6,0,"_libObserveJs"],[24,19,6,0],[24,22,6,0,"require"],[24,29,6,0],[24,30,6,0,"_dependencyMap"],[24,44,6,0],[25,2,7,0],[25,6,7,0,"_libPolyfillsInteractionCountPolyfillJs"],[25,45,7,0],[25,48,7,0,"require"],[25,55,7,0],[25,56,7,0,"_dependencyMap"],[25,70,7,0],[26,2,8,0],[26,6,8,0,"_libWhenActivatedJs"],[26,25,8,0],[26,28,8,0,"require"],[26,35,8,0],[26,36,8,0,"_dependencyMap"],[26,50,8,0],[27,2,9,0],[27,6,9,0,"_libWhenIdleOrHiddenJs"],[27,28,9,0],[27,31,9,0,"require"],[27,38,9,0],[27,39,9,0,"_dependencyMap"],[27,53,9,0],[28,2,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[35,0,18,0],[36,0,19,0],[37,0,20,0],[38,0,21,0],[39,0,22,0],[40,0,23,0],[41,0,24,0],[42,0,25,0],[44,2,28,0],[45,2,29,0],[45,6,29,6,"INPThresholds"],[45,19,29,19],[45,22,29,22],[45,23,29,23],[45,26,29,26],[45,28,29,28],[45,31,29,31],[45,32,29,32],[47,2,31,0],[48,2,32,0],[49,2,33,0],[49,6,33,6,"DEFAULT_DURATION_THRESHOLD"],[49,32,33,32],[49,35,33,35],[49,37,33,37],[51,2,35,0],[52,0,36,0],[53,0,37,0],[54,0,38,0],[55,0,39,0],[56,0,40,0],[57,0,41,0],[58,0,42,0],[59,0,43,0],[60,0,44,0],[61,0,45,0],[62,0,46,0],[63,0,47,0],[64,0,48,0],[65,0,49,0],[66,0,50,0],[67,0,51,0],[68,0,52,0],[69,0,53,0],[70,0,54,0],[71,0,55,0],[72,0,56,0],[73,0,57,0],[74,0,58,0],[75,0,59,0],[76,0,60,0],[77,0,61,0],[78,0,62,0],[79,0,63,0],[80,2,64,0],[80,6,64,6,"onINP"],[80,11,64,11],[80,14,64,14],[80,23,64,14,"onINP"],[80,24,64,15,"onReport"],[80,32,64,23],[80,34,64,39],[81,4,64,39],[81,8,64,25,"opts"],[81,12,64,29],[81,15,64,29,"arguments"],[81,24,64,29],[81,25,64,29,"length"],[81,31,64,29],[81,39,64,29,"arguments"],[81,48,64,29],[81,56,64,29,"undefined"],[81,65,64,29],[81,68,64,29,"arguments"],[81,77,64,29],[81,83,64,32],[81,84,64,33],[81,85,64,34],[82,4,65,2],[83,4,66,2],[83,8,66,6],[83,10,66,8,"globalThis"],[83,20,66,18],[83,21,66,19,"PerformanceEventTiming"],[83,43,66,41],[83,47,66,45],[83,62,66,60],[83,66,66,64,"PerformanceEventTiming"],[83,88,66,86],[83,89,66,87,"prototype"],[83,98,66,96],[83,99,66,97],[83,101,66,99],[84,6,67,4],[85,4,68,2],[86,4,70,2],[86,8,70,8,"visibilityWatcher"],[86,25,70,25],[86,28,70,28],[86,32,70,28,"getVisibilityWatcher"],[86,58,70,48],[86,59,70,48,"getVisibilityWatcher"],[86,79,70,48],[86,81,70,49],[86,82,70,50],[87,4,72,2],[87,8,72,2,"whenActivated"],[87,27,72,15],[87,28,72,15,"whenActivated"],[87,41,72,15],[87,43,72,16],[87,49,72,22],[88,6,73,4],[89,6,74,4],[89,10,74,4,"initInteractionCountPolyfill"],[89,49,74,32],[89,50,74,32,"initInteractionCountPolyfill"],[89,78,74,32],[89,80,74,33],[89,81,74,34],[90,6,76,4],[90,10,76,10,"metric"],[90,16,76,16],[90,19,76,19],[90,23,76,19,"initMetric"],[90,39,76,29],[90,40,76,29,"initMetric"],[90,50,76,29],[90,52,76,30],[90,57,76,35],[90,58,76,36],[91,6,77,4],[92,6,78,4],[92,10,78,8,"report"],[92,16,78,14],[93,6,80,4],[93,10,80,10,"interactionManager"],[93,28,80,28],[93,31,80,31],[93,35,80,31,"initUnique"],[93,51,80,41],[93,52,80,41,"initUnique"],[93,62,80,41],[93,64,80,42,"opts"],[93,68,80,46],[93,70,80,48,"InteractionManager"],[93,94,80,66],[93,95,80,66,"InteractionManager"],[93,113,80,66],[93,114,80,67],[94,6,82,4],[94,10,82,10,"handleEntries"],[94,23,82,23],[94,26,82,27,"entries"],[94,33,82,34],[94,37,82,39],[95,8,83,6],[96,8,84,6],[97,8,85,6],[98,8,86,6],[99,8,87,6],[100,8,88,6],[101,8,89,6],[101,12,89,6,"whenIdleOrHidden"],[101,34,89,22],[101,35,89,22,"whenIdleOrHidden"],[101,51,89,22],[101,53,89,23],[101,59,89,29],[102,10,90,8],[102,15,90,13],[102,19,90,19,"entry"],[102,24,90,24],[102,28,90,28,"entries"],[102,35,90,35],[102,37,90,37],[103,12,91,10,"interactionManager"],[103,30,91,28],[103,31,91,29,"_processEntry"],[103,44,91,42],[103,45,91,43,"entry"],[103,50,91,48],[103,51,91,49],[104,10,92,8],[105,10,94,8],[105,14,94,14,"inp"],[105,17,94,17],[105,20,94,20,"interactionManager"],[105,38,94,38],[105,39,94,39,"_estimateP98LongestInteraction"],[105,69,94,69],[105,70,94,70],[105,71,94,71],[106,10,96,8],[106,14,96,12,"inp"],[106,17,96,15],[106,21,96,19,"inp"],[106,24,96,22],[106,25,96,23,"_latency"],[106,33,96,31],[106,38,96,36,"metric"],[106,44,96,42],[106,45,96,43,"value"],[106,50,96,48],[106,52,96,50],[107,12,97,10,"metric"],[107,18,97,16],[107,19,97,17,"value"],[107,24,97,22],[107,27,97,25,"inp"],[107,30,97,28],[107,31,97,29,"_latency"],[107,39,97,37],[108,12,98,10,"metric"],[108,18,98,16],[108,19,98,17,"entries"],[108,26,98,24],[108,29,98,27,"inp"],[108,32,98,30],[108,33,98,31,"entries"],[108,40,98,38],[109,12,99,10,"report"],[109,18,99,16],[109,19,99,17],[109,20,99,18],[110,10,100,8],[111,8,101,6],[111,9,101,7],[111,10,101,8],[112,6,102,4],[112,7,102,5],[113,6,104,4],[113,10,104,10,"po"],[113,12,104,12],[113,15,104,15],[113,19,104,15,"observe"],[113,32,104,22],[113,33,104,22,"observe"],[113,40,104,22],[113,42,104,23],[113,49,104,30],[113,51,104,32,"handleEntries"],[113,64,104,45],[113,66,104,47],[114,8,105,6],[115,8,106,6],[116,8,107,6],[117,8,108,6],[118,8,109,6],[119,8,110,6],[120,8,111,6,"durationThreshold"],[120,25,111,23],[120,27,111,25,"opts"],[120,31,111,29],[120,32,111,30,"durationThreshold"],[120,49,111,47],[120,53,111,51,"DEFAULT_DURATION_THRESHOLD"],[121,6,112,4],[121,7,112,5],[121,8,112,6],[122,6,114,4,"report"],[122,12,114,10],[122,15,114,13],[122,19,114,13,"bindReporter"],[122,37,114,25],[122,38,114,25,"bindReporter"],[122,50,114,25],[122,52,114,26,"onReport"],[122,60,114,34],[122,62,114,36,"metric"],[122,68,114,42],[122,70,114,44,"INPThresholds"],[122,83,114,57],[122,85,114,59,"opts"],[122,89,114,63],[122,90,114,64,"reportAllChanges"],[122,106,114,80],[122,107,114,81],[123,6,116,4],[123,10,116,8,"po"],[123,12,116,10],[123,14,116,12],[124,8,117,6],[125,8,118,6],[126,8,119,6,"po"],[126,10,119,8],[126,11,119,9,"observe"],[126,18,119,16],[126,19,119,17],[127,10,119,19,"type"],[127,14,119,23],[127,16,119,25],[127,29,119,38],[128,10,119,40,"buffered"],[128,18,119,48],[128,20,119,50],[129,8,119,55],[129,9,119,56],[129,10,119,57],[130,8,121,6,"visibilityWatcher"],[130,25,121,23],[130,26,121,24,"onHidden"],[130,34,121,32],[130,35,121,33],[130,41,121,39],[131,10,122,8,"handleEntries"],[131,23,122,21],[131,24,122,22,"po"],[131,26,122,24],[131,27,122,25,"takeRecords"],[131,38,122,36],[131,39,122,37],[131,40,122,39],[131,41,122,40],[132,10,123,8,"report"],[132,16,123,14],[132,17,123,15],[132,21,123,19],[132,22,123,20],[133,8,124,6],[133,9,124,7],[133,10,124,8],[134,6,125,4],[135,4,126,2],[135,5,126,3],[135,6,126,4],[136,2,127,0],[136,3,127,1],[137,0,127,2],[137,3]],"functionMap":{"names":["<global>","onINP","whenActivated$argument_0","handleEntries","whenIdleOrHidden$argument_0","visibilityWatcher.onHidden$argument_0"],"mappings":"AAA;cC+D;gBCQ;0BCU;uBCO;ODY;KDC;iCGmB;OHG;GDE;CDC"},"hasCjsExports":false},"type":"js/module"}]}