{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":31},"end":{"line":2,"column":61,"index":92}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":41,"index":134}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../utils/environment","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":135},"end":{"line":4,"column":45,"index":180}}],"key":"ZHbdf+zAJuwAaiIxqWoPGRJz4oo=","exportNames":["*"],"imports":1}},{"name":"./../integrations/debugsymbolicatorutils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":181},"end":{"line":5,"column":72,"index":253}}],"key":"nUqhHiztfuAdMFFfqd4U6Ns6Szo=","exportNames":["*"],"imports":1}},{"name":"./span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":254},"end":{"line":6,"column":90,"index":344}}],"key":"WASfu1uBL/rVwi9nIGl911GmKqk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"INTEGRATION_NAME\", {\n    enumerable: true,\n    get: function () {\n      return INTEGRATION_NAME;\n    }\n  });\n  Object.defineProperty(exports, \"defaultReactNativeTracingOptions\", {\n    enumerable: true,\n    get: function () {\n      return defaultReactNativeTracingOptions;\n    }\n  });\n  Object.defineProperty(exports, \"reactNativeTracingIntegration\", {\n    enumerable: true,\n    get: function () {\n      return reactNativeTracingIntegration;\n    }\n  });\n  exports.getCurrentReactNativeTracingIntegration = getCurrentReactNativeTracingIntegration;\n  exports.getReactNativeTracingIntegration = getReactNativeTracingIntegration;\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryCore = require(_dependencyMap[1], \"@sentry/core\");\n  var _utilsEnvironment = require(_dependencyMap[2], \"../utils/environment\");\n  var _integrationsDebugsymbolicatorutils = require(_dependencyMap[3], \"./../integrations/debugsymbolicatorutils\");\n  var _span = require(_dependencyMap[4], \"./span\");\n  /* eslint-disable max-lines */\n\n  var INTEGRATION_NAME = 'ReactNativeTracing';\n  function getDefaultTracePropagationTargets() {\n    if ((0, _utilsEnvironment.isWeb)()) {\n      return undefined;\n    }\n    return [/.*/];\n  }\n  var defaultReactNativeTracingOptions = {\n    // Fetch in React Native is a `whatwg-fetch` polyfill which uses XHR under the hood.\n    // This causes duplicates when both `traceFetch` and `traceXHR` are enabled at the same time.\n    // https://github.com/facebook/react-native/blob/28945c68da056ab2ac01de7e542a845b2bca6096/packages/react-native/Libraries/Network/fetch.js\n    // (RN Web uses browsers native fetch implementation)\n    traceFetch: (0, _utilsEnvironment.isWeb)() ? true : false,\n    traceXHR: true,\n    enableHTTPTimings: true\n  };\n  var reactNativeTracingIntegration = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _a, _b, _c, _d;\n    var state = {\n      currentRoute: undefined\n    };\n    var finalOptions = Object.assign(Object.assign(Object.assign({}, defaultReactNativeTracingOptions), options), {\n      beforeStartSpan: (_a = options.beforeStartSpan) !== null && _a !== void 0 ? _a : options => options,\n      finalTimeoutMs: (_b = options.finalTimeoutMs) !== null && _b !== void 0 ? _b : _span.defaultIdleOptions.finalTimeout,\n      idleTimeoutMs: (_c = options.idleTimeoutMs) !== null && _c !== void 0 ? _c : _span.defaultIdleOptions.idleTimeout\n    });\n    var userShouldCreateSpanForRequest = finalOptions.shouldCreateSpanForRequest;\n    // Drop Dev Server Spans\n    var devServerUrl = (_d = (0, _integrationsDebugsymbolicatorutils.getDevServer)()) === null || _d === void 0 ? void 0 : _d.url;\n    var finalShouldCreateSpanForRequest = devServerUrl === undefined ? userShouldCreateSpanForRequest : url => {\n      if (url.startsWith(devServerUrl)) {\n        return false;\n      }\n      if (userShouldCreateSpanForRequest) {\n        return userShouldCreateSpanForRequest(url);\n      }\n      return true;\n    };\n    finalOptions.shouldCreateSpanForRequest = finalShouldCreateSpanForRequest;\n    var setup = client => {\n      (0, _span.addDefaultOpForSpanFrom)(client);\n      (0, _span.addThreadInfoToSpan)(client);\n      (0, _sentryBrowser.instrumentOutgoingRequests)(client, {\n        traceFetch: finalOptions.traceFetch,\n        traceXHR: finalOptions.traceXHR,\n        shouldCreateSpanForRequest: finalOptions.shouldCreateSpanForRequest,\n        tracePropagationTargets: client.getOptions().tracePropagationTargets || getDefaultTracePropagationTargets()\n      });\n    };\n    var processEvent = event => {\n      if (event.contexts && state.currentRoute) {\n        event.contexts.app = Object.assign({\n          view_names: [state.currentRoute]\n        }, event.contexts.app);\n      }\n      return event;\n    };\n    return {\n      name: INTEGRATION_NAME,\n      setup,\n      processEvent,\n      options: finalOptions,\n      state,\n      setCurrentRoute: route => {\n        state.currentRoute = route;\n      }\n    };\n  };\n  /**\n   * Returns the current React Native Tracing integration.\n   */\n  function getCurrentReactNativeTracingIntegration() {\n    var client = (0, _sentryCore.getClient)();\n    if (!client) {\n      return undefined;\n    }\n    return getReactNativeTracingIntegration(client);\n  }\n  /**\n   * Returns React Native Tracing integration of given client.\n   */\n  function getReactNativeTracingIntegration(client) {\n    return client.getIntegrationByName(INTEGRATION_NAME);\n  }\n});","lineCount":119,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"INTEGRATION_NAME"],[10,29,7,0],[11,4,7,0],[12,2,7,0],[13,2,14,0,"Object"],[13,8,14,0],[13,9,14,0,"defineProperty"],[13,23,14,0],[13,24,14,0,"exports"],[13,31,14,0],[14,4,14,0,"enumerable"],[14,14,14,0],[15,4,14,0,"get"],[15,7,14,0],[15,18,14,0,"get"],[15,19,14,0],[16,6,14,0],[16,13,14,0,"defaultReactNativeTracingOptions"],[16,45,14,0],[17,4,14,0],[18,2,14,0],[19,2,23,0,"Object"],[19,8,23,0],[19,9,23,0,"defineProperty"],[19,23,23,0],[19,24,23,0,"exports"],[19,31,23,0],[20,4,23,0,"enumerable"],[20,14,23,0],[21,4,23,0,"get"],[21,7,23,0],[21,18,23,0,"get"],[21,19,23,0],[22,6,23,0],[22,13,23,0,"reactNativeTracingIntegration"],[22,42,23,0],[23,4,23,0],[24,2,23,0],[25,2,74,0,"exports"],[25,9,74,0],[25,10,74,0,"getCurrentReactNativeTracingIntegration"],[25,49,74,0],[25,52,74,0,"getCurrentReactNativeTracingIntegration"],[25,91,74,0],[26,2,84,0,"exports"],[26,9,84,0],[26,10,84,0,"getReactNativeTracingIntegration"],[26,42,84,0],[26,45,84,0,"getReactNativeTracingIntegration"],[26,77,84,0],[27,2,2,0],[27,6,2,0,"_sentryBrowser"],[27,20,2,0],[27,23,2,0,"require"],[27,30,2,0],[27,31,2,0,"_dependencyMap"],[27,45,2,0],[28,2,3,0],[28,6,3,0,"_sentryCore"],[28,17,3,0],[28,20,3,0,"require"],[28,27,3,0],[28,28,3,0,"_dependencyMap"],[28,42,3,0],[29,2,4,0],[29,6,4,0,"_utilsEnvironment"],[29,23,4,0],[29,26,4,0,"require"],[29,33,4,0],[29,34,4,0,"_dependencyMap"],[29,48,4,0],[30,2,5,0],[30,6,5,0,"_integrationsDebugsymbolicatorutils"],[30,41,5,0],[30,44,5,0,"require"],[30,51,5,0],[30,52,5,0,"_dependencyMap"],[30,66,5,0],[31,2,6,0],[31,6,6,0,"_span"],[31,11,6,0],[31,14,6,0,"require"],[31,21,6,0],[31,22,6,0,"_dependencyMap"],[31,36,6,0],[32,2,1,0],[34,2,7,7],[34,6,7,13,"INTEGRATION_NAME"],[34,22,7,29],[34,25,7,32],[34,45,7,52],[35,2,8,0],[35,11,8,9,"getDefaultTracePropagationTargets"],[35,44,8,42,"getDefaultTracePropagationTargets"],[35,45,8,42],[35,47,8,45],[36,4,9,4],[36,8,9,8],[36,12,9,8,"isWeb"],[36,29,9,13],[36,30,9,13,"isWeb"],[36,35,9,13],[36,37,9,14],[36,38,9,15],[36,40,9,17],[37,6,10,8],[37,13,10,15,"undefined"],[37,22,10,24],[38,4,11,4],[39,4,12,4],[39,11,12,11],[39,12,12,12],[39,16,12,16],[39,17,12,17],[40,2,13,0],[41,2,14,7],[41,6,14,13,"defaultReactNativeTracingOptions"],[41,38,14,45],[41,41,14,48],[42,4,15,4],[43,4,16,4],[44,4,17,4],[45,4,18,4],[46,4,19,4,"traceFetch"],[46,14,19,14],[46,16,19,16],[46,20,19,16,"isWeb"],[46,37,19,21],[46,38,19,21,"isWeb"],[46,43,19,21],[46,45,19,22],[46,46,19,23],[46,49,19,26],[46,53,19,30],[46,56,19,33],[46,61,19,38],[47,4,20,4,"traceXHR"],[47,12,20,12],[47,14,20,14],[47,18,20,18],[48,4,21,4,"enableHTTPTimings"],[48,21,21,21],[48,23,21,23],[49,2,22,0],[49,3,22,1],[50,2,23,7],[50,6,23,13,"reactNativeTracingIntegration"],[50,35,23,42],[50,38,23,45],[50,47,23,45,"reactNativeTracingIntegration"],[50,48,23,45],[50,50,23,63],[51,4,23,63],[51,8,23,46,"options"],[51,15,23,53],[51,18,23,53,"arguments"],[51,27,23,53],[51,28,23,53,"length"],[51,34,23,53],[51,42,23,53,"arguments"],[51,51,23,53],[51,59,23,53,"undefined"],[51,68,23,53],[51,71,23,53,"arguments"],[51,80,23,53],[51,86,23,56],[51,87,23,57],[51,88,23,58],[52,4,24,4],[52,8,24,8,"_a"],[52,10,24,10],[52,12,24,12,"_b"],[52,14,24,14],[52,16,24,16,"_c"],[52,18,24,18],[52,20,24,20,"_d"],[52,22,24,22],[53,4,25,4],[53,8,25,10,"state"],[53,13,25,15],[53,16,25,18],[54,6,26,8,"currentRoute"],[54,18,26,20],[54,20,26,22,"undefined"],[55,4,27,4],[55,5,27,5],[56,4,28,4],[56,8,28,10,"finalOptions"],[56,20,28,22],[56,23,28,25,"Object"],[56,29,28,31],[56,30,28,32,"assign"],[56,36,28,38],[56,37,28,39,"Object"],[56,43,28,45],[56,44,28,46,"assign"],[56,50,28,52],[56,51,28,53,"Object"],[56,57,28,59],[56,58,28,60,"assign"],[56,64,28,66],[56,65,28,67],[56,66,28,68],[56,67,28,69],[56,69,28,71,"defaultReactNativeTracingOptions"],[56,101,28,103],[56,102,28,104],[56,104,28,106,"options"],[56,111,28,113],[56,112,28,114],[56,114,28,116],[57,6,28,118,"beforeStartSpan"],[57,21,28,133],[57,23,28,135],[57,24,28,136,"_a"],[57,26,28,138],[57,29,28,141,"options"],[57,36,28,148],[57,37,28,149,"beforeStartSpan"],[57,52,28,164],[57,58,28,170],[57,62,28,174],[57,66,28,178,"_a"],[57,68,28,180],[57,73,28,185],[57,78,28,190],[57,79,28,191],[57,82,28,194,"_a"],[57,84,28,196],[57,87,28,201,"options"],[57,94,28,208],[57,98,28,213,"options"],[57,105,28,221],[58,6,28,223,"finalTimeoutMs"],[58,20,28,237],[58,22,28,239],[58,23,28,240,"_b"],[58,25,28,242],[58,28,28,245,"options"],[58,35,28,252],[58,36,28,253,"finalTimeoutMs"],[58,50,28,267],[58,56,28,273],[58,60,28,277],[58,64,28,281,"_b"],[58,66,28,283],[58,71,28,288],[58,76,28,293],[58,77,28,294],[58,80,28,297,"_b"],[58,82,28,299],[58,85,28,302,"defaultIdleOptions"],[58,90,28,320],[58,91,28,320,"defaultIdleOptions"],[58,109,28,320],[58,110,28,321,"finalTimeout"],[58,122,28,333],[59,6,28,335,"idleTimeoutMs"],[59,19,28,348],[59,21,28,350],[59,22,28,351,"_c"],[59,24,28,353],[59,27,28,356,"options"],[59,34,28,363],[59,35,28,364,"idleTimeoutMs"],[59,48,28,377],[59,54,28,383],[59,58,28,387],[59,62,28,391,"_c"],[59,64,28,393],[59,69,28,398],[59,74,28,403],[59,75,28,404],[59,78,28,407,"_c"],[59,80,28,409],[59,83,28,412,"defaultIdleOptions"],[59,88,28,430],[59,89,28,430,"defaultIdleOptions"],[59,107,28,430],[59,108,28,431,"idleTimeout"],[60,4,28,443],[60,5,28,444],[60,6,28,445],[61,4,29,4],[61,8,29,10,"userShouldCreateSpanForRequest"],[61,38,29,40],[61,41,29,43,"finalOptions"],[61,53,29,55],[61,54,29,56,"shouldCreateSpanForRequest"],[61,80,29,82],[62,4,30,4],[63,4,31,4],[63,8,31,10,"devServerUrl"],[63,20,31,22],[63,23,31,25],[63,24,31,26,"_d"],[63,26,31,28],[63,29,31,31],[63,33,31,31,"getDevServer"],[63,68,31,43],[63,69,31,43,"getDevServer"],[63,81,31,43],[63,83,31,44],[63,84,31,45],[63,90,31,51],[63,94,31,55],[63,98,31,59,"_d"],[63,100,31,61],[63,105,31,66],[63,110,31,71],[63,111,31,72],[63,114,31,75],[63,119,31,80],[63,120,31,81],[63,123,31,84,"_d"],[63,125,31,86],[63,126,31,87,"url"],[63,129,31,90],[64,4,32,4],[64,8,32,10,"finalShouldCreateSpanForRequest"],[64,39,32,41],[64,42,32,44,"devServerUrl"],[64,54,32,56],[64,59,32,61,"undefined"],[64,68,32,70],[64,71,33,10,"userShouldCreateSpanForRequest"],[64,101,33,40],[64,104,34,11,"url"],[64,107,34,14],[64,111,34,19],[65,6,35,12],[65,10,35,16,"url"],[65,13,35,19],[65,14,35,20,"startsWith"],[65,24,35,30],[65,25,35,31,"devServerUrl"],[65,37,35,43],[65,38,35,44],[65,40,35,46],[66,8,36,16],[66,15,36,23],[66,20,36,28],[67,6,37,12],[68,6,38,12],[68,10,38,16,"userShouldCreateSpanForRequest"],[68,40,38,46],[68,42,38,48],[69,8,39,16],[69,15,39,23,"userShouldCreateSpanForRequest"],[69,45,39,53],[69,46,39,54,"url"],[69,49,39,57],[69,50,39,58],[70,6,40,12],[71,6,41,12],[71,13,41,19],[71,17,41,23],[72,4,42,8],[72,5,42,9],[73,4,43,4,"finalOptions"],[73,16,43,16],[73,17,43,17,"shouldCreateSpanForRequest"],[73,43,43,43],[73,46,43,46,"finalShouldCreateSpanForRequest"],[73,77,43,77],[74,4,44,4],[74,8,44,10,"setup"],[74,13,44,15],[74,16,44,19,"client"],[74,22,44,25],[74,26,44,30],[75,6,45,8],[75,10,45,8,"addDefaultOpForSpanFrom"],[75,15,45,31],[75,16,45,31,"addDefaultOpForSpanFrom"],[75,39,45,31],[75,41,45,32,"client"],[75,47,45,38],[75,48,45,39],[76,6,46,8],[76,10,46,8,"addThreadInfoToSpan"],[76,15,46,27],[76,16,46,27,"addThreadInfoToSpan"],[76,35,46,27],[76,37,46,28,"client"],[76,43,46,34],[76,44,46,35],[77,6,47,8],[77,10,47,8,"instrumentOutgoingRequests"],[77,24,47,34],[77,25,47,34,"instrumentOutgoingRequests"],[77,51,47,34],[77,53,47,35,"client"],[77,59,47,41],[77,61,47,43],[78,8,48,12,"traceFetch"],[78,18,48,22],[78,20,48,24,"finalOptions"],[78,32,48,36],[78,33,48,37,"traceFetch"],[78,43,48,47],[79,8,49,12,"traceXHR"],[79,16,49,20],[79,18,49,22,"finalOptions"],[79,30,49,34],[79,31,49,35,"traceXHR"],[79,39,49,43],[80,8,50,12,"shouldCreateSpanForRequest"],[80,34,50,38],[80,36,50,40,"finalOptions"],[80,48,50,52],[80,49,50,53,"shouldCreateSpanForRequest"],[80,75,50,79],[81,8,51,12,"tracePropagationTargets"],[81,31,51,35],[81,33,51,37,"client"],[81,39,51,43],[81,40,51,44,"getOptions"],[81,50,51,54],[81,51,51,55],[81,52,51,56],[81,53,51,57,"tracePropagationTargets"],[81,76,51,80],[81,80,51,84,"getDefaultTracePropagationTargets"],[81,113,51,117],[81,114,51,118],[82,6,52,8],[82,7,52,9],[82,8,52,10],[83,4,53,4],[83,5,53,5],[84,4,54,4],[84,8,54,10,"processEvent"],[84,20,54,22],[84,23,54,26,"event"],[84,28,54,31],[84,32,54,36],[85,6,55,8],[85,10,55,12,"event"],[85,15,55,17],[85,16,55,18,"contexts"],[85,24,55,26],[85,28,55,30,"state"],[85,33,55,35],[85,34,55,36,"currentRoute"],[85,46,55,48],[85,48,55,50],[86,8,56,12,"event"],[86,13,56,17],[86,14,56,18,"contexts"],[86,22,56,26],[86,23,56,27,"app"],[86,26,56,30],[86,29,56,33,"Object"],[86,35,56,39],[86,36,56,40,"assign"],[86,42,56,46],[86,43,56,47],[87,10,56,49,"view_names"],[87,20,56,59],[87,22,56,61],[87,23,56,62,"state"],[87,28,56,67],[87,29,56,68,"currentRoute"],[87,41,56,80],[88,8,56,82],[88,9,56,83],[88,11,56,85,"event"],[88,16,56,90],[88,17,56,91,"contexts"],[88,25,56,99],[88,26,56,100,"app"],[88,29,56,103],[88,30,56,104],[89,6,57,8],[90,6,58,8],[90,13,58,15,"event"],[90,18,58,20],[91,4,59,4],[91,5,59,5],[92,4,60,4],[92,11,60,11],[93,6,61,8,"name"],[93,10,61,12],[93,12,61,14,"INTEGRATION_NAME"],[93,28,61,30],[94,6,62,8,"setup"],[94,11,62,13],[95,6,63,8,"processEvent"],[95,18,63,20],[96,6,64,8,"options"],[96,13,64,15],[96,15,64,17,"finalOptions"],[96,27,64,29],[97,6,65,8,"state"],[97,11,65,13],[98,6,66,8,"setCurrentRoute"],[98,21,66,23],[98,23,66,26,"route"],[98,28,66,31],[98,32,66,36],[99,8,67,12,"state"],[99,13,67,17],[99,14,67,18,"currentRoute"],[99,26,67,30],[99,29,67,33,"route"],[99,34,67,38],[100,6,68,8],[101,4,69,4],[101,5,69,5],[102,2,70,0],[102,3,70,1],[103,2,71,0],[104,0,72,0],[105,0,73,0],[106,2,74,7],[106,11,74,16,"getCurrentReactNativeTracingIntegration"],[106,50,74,55,"getCurrentReactNativeTracingIntegration"],[106,51,74,55],[106,53,74,58],[107,4,75,4],[107,8,75,10,"client"],[107,14,75,16],[107,17,75,19],[107,21,75,19,"getClient"],[107,32,75,28],[107,33,75,28,"getClient"],[107,42,75,28],[107,44,75,29],[107,45,75,30],[108,4,76,4],[108,8,76,8],[108,9,76,9,"client"],[108,15,76,15],[108,17,76,17],[109,6,77,8],[109,13,77,15,"undefined"],[109,22,77,24],[110,4,78,4],[111,4,79,4],[111,11,79,11,"getReactNativeTracingIntegration"],[111,43,79,43],[111,44,79,44,"client"],[111,50,79,50],[111,51,79,51],[112,2,80,0],[113,2,81,0],[114,0,82,0],[115,0,83,0],[116,2,84,7],[116,11,84,16,"getReactNativeTracingIntegration"],[116,43,84,48,"getReactNativeTracingIntegration"],[116,44,84,49,"client"],[116,50,84,55],[116,52,84,57],[117,4,85,4],[117,11,85,11,"client"],[117,17,85,17],[117,18,85,18,"getIntegrationByName"],[117,38,85,38],[117,39,85,39,"INTEGRATION_NAME"],[117,55,85,55],[117,56,85,56],[118,2,86,0],[119,0,86,1],[119,3]],"functionMap":{"names":["<global>","getDefaultTracePropagationTargets","reactNativeTracingIntegration","<anonymous>","setup","processEvent","setCurrentRoute","getCurrentReactNativeTracingIntegration","getReactNativeTracingIntegration"],"mappings":"AAA;ACO;CDK;6CEU;wMCK,oBD;UCM;SDQ;kBEE;KFS;yBGC;KHK;yBIO;SJE;CFE;OOI;CPM;OQI;CRE"},"hasCjsExports":false},"type":"js/module"}]}