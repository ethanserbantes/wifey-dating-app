{"dependencies":[{"name":"../../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"GVdvDFD/AkBCJqfDFK9nbMdH7BE=","exportNames":["*"],"imports":1}},{"name":"../../utils/featureFlags.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":149,"index":207}}],"key":"2NgHqWJ5eXWIDKJoq0bR6DcXkT0=","exportNames":["*"],"imports":1}},{"name":"../../utils/object.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":208},"end":{"line":3,"column":45,"index":253}}],"key":"RQrRGqbksOCD9OzK2x3a4ahzdIU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"growthbookIntegration\", {\n    enumerable: true,\n    get: function () {\n      return growthbookIntegration;\n    }\n  });\n  var _integrationJs = require(_dependencyMap[0], \"../../integration.js\");\n  var _utilsFeatureFlagsJs = require(_dependencyMap[1], \"../../utils/featureFlags.js\");\n  var _utilsObjectJs = require(_dependencyMap[2], \"../../utils/object.js\");\n  /**\n   * Sentry integration for capturing feature flag evaluations from GrowthBook.\n   *\n   * Only boolean results are captured at this time.\n   *\n   * @example\n   * ```typescript\n   * import { GrowthBook } from '@growthbook/growthbook';\n   * import * as Sentry from '@sentry/browser'; // or '@sentry/node'\n   *\n   * Sentry.init({\n   *   dsn: 'your-dsn',\n   *   integrations: [\n   *     Sentry.growthbookIntegration({ growthbookClass: GrowthBook })\n   *   ]\n   * });\n   * ```\n   */\n  var growthbookIntegration = (0, _integrationJs.defineIntegration)(_ref => {\n    var growthbookClass = _ref.growthbookClass;\n    return {\n      name: 'GrowthBook',\n      setupOnce() {\n        var proto = growthbookClass.prototype;\n\n        // Type guard and wrap isOn\n        if (typeof proto.isOn === 'function') {\n          (0, _utilsObjectJs.fill)(proto, 'isOn', _wrapAndCaptureBooleanResult);\n        }\n\n        // Type guard and wrap getFeatureValue\n        if (typeof proto.getFeatureValue === 'function') {\n          (0, _utilsObjectJs.fill)(proto, 'getFeatureValue', _wrapAndCaptureBooleanResult);\n        }\n      },\n      processEvent(event, _hint, _client) {\n        return (0, _utilsFeatureFlagsJs._INTERNAL_copyFlagsFromScopeToEvent)(event);\n      }\n    };\n  });\n  function _wrapAndCaptureBooleanResult(original) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var flagName = args[0];\n      var result = original.apply(this, args);\n      if (typeof flagName === 'string' && typeof result === 'boolean') {\n        (0, _utilsFeatureFlagsJs._INTERNAL_insertFlagToScope)(flagName, result);\n        (0, _utilsFeatureFlagsJs._INTERNAL_addFeatureFlagToActiveSpan)(flagName, result);\n      }\n      return result;\n    };\n  }\n});","lineCount":70,"map":[[7,2,65,0,"Object"],[7,8,65,0],[7,9,65,0,"defineProperty"],[7,23,65,0],[7,24,65,0,"exports"],[7,31,65,0],[8,4,65,0,"enumerable"],[8,14,65,0],[9,4,65,0,"get"],[9,7,65,0],[9,18,65,0,"get"],[9,19,65,0],[10,6,65,0],[10,13,65,9,"growthbookIntegration"],[10,34,65,30],[11,4,65,30],[12,2,65,30],[13,2,1,0],[13,6,1,0,"_integrationJs"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_utilsFeatureFlagsJs"],[14,26,2,0],[14,29,2,0,"require"],[14,36,2,0],[14,37,2,0,"_dependencyMap"],[14,51,2,0],[15,2,3,0],[15,6,3,0,"_utilsObjectJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,0,19,0],[31,0,20,0],[32,0,21,0],[33,0,22,0],[34,2,23,0],[34,6,23,6,"growthbookIntegration"],[34,27,23,27],[34,30,23,30],[34,34,23,30,"defineIntegration"],[34,48,23,47],[34,49,23,47,"defineIntegration"],[34,66,23,47],[34,68,24,2,"_ref"],[34,72,24,2],[34,76,24,27],[35,4,24,27],[35,8,24,5,"growthbookClass"],[35,23,24,20],[35,26,24,20,"_ref"],[35,30,24,20],[35,31,24,5,"growthbookClass"],[35,46,24,20],[36,4,25,4],[36,11,25,11],[37,6,26,6,"name"],[37,10,26,10],[37,12,26,12],[37,24,26,24],[38,6,28,6,"setupOnce"],[38,15,28,15,"setupOnce"],[38,16,28,15],[38,18,28,18],[39,8,29,8],[39,12,29,14,"proto"],[39,17,29,19],[39,20,29,22,"growthbookClass"],[39,35,29,37],[39,36,29,38,"prototype"],[39,45,29,47],[41,8,31,8],[42,8,32,8],[42,12,32,12],[42,19,32,19,"proto"],[42,24,32,24],[42,25,32,25,"isOn"],[42,29,32,29],[42,34,32,34],[42,44,32,44],[42,46,32,46],[43,10,33,10],[43,14,33,10,"fill"],[43,28,33,14],[43,29,33,14,"fill"],[43,33,33,14],[43,35,33,15,"proto"],[43,40,33,20],[43,42,33,22],[43,48,33,28],[43,50,33,30,"_wrapAndCaptureBooleanResult"],[43,78,33,58],[43,79,33,59],[44,8,34,8],[46,8,36,8],[47,8,37,8],[47,12,37,12],[47,19,37,19,"proto"],[47,24,37,24],[47,25,37,25,"getFeatureValue"],[47,40,37,40],[47,45,37,45],[47,55,37,55],[47,57,37,57],[48,10,38,10],[48,14,38,10,"fill"],[48,28,38,14],[48,29,38,14,"fill"],[48,33,38,14],[48,35,38,15,"proto"],[48,40,38,20],[48,42,38,22],[48,59,38,39],[48,61,38,41,"_wrapAndCaptureBooleanResult"],[48,89,38,69],[48,90,38,70],[49,8,39,8],[50,6,40,6],[50,7,40,7],[51,6,42,6,"processEvent"],[51,18,42,18,"processEvent"],[51,19,42,19,"event"],[51,24,42,24],[51,26,42,26,"_hint"],[51,31,42,31],[51,33,42,33,"_client"],[51,40,42,40],[51,42,42,42],[52,8,43,8],[52,15,43,15],[52,19,43,15,"_INTERNAL_copyFlagsFromScopeToEvent"],[52,39,43,50],[52,40,43,50,"_INTERNAL_copyFlagsFromScopeToEvent"],[52,75,43,50],[52,77,43,51,"event"],[52,82,43,56],[52,83,43,57],[53,6,44,6],[54,4,45,4],[54,5,45,5],[55,2,46,2],[55,3,47,0],[55,4,47,1],[56,2,49,0],[56,11,49,9,"_wrapAndCaptureBooleanResult"],[56,39,49,37,"_wrapAndCaptureBooleanResult"],[56,40,50,2,"original"],[56,48,50,10],[56,50,51,2],[57,4,52,2],[57,11,52,9],[57,23,52,29],[58,6,52,29],[58,15,52,29,"_len"],[58,19,52,29],[58,22,52,29,"arguments"],[58,31,52,29],[58,32,52,29,"length"],[58,38,52,29],[58,40,52,23,"args"],[58,44,52,27],[58,51,52,27,"Array"],[58,56,52,27],[58,57,52,27,"_len"],[58,61,52,27],[58,64,52,27,"_key"],[58,68,52,27],[58,74,52,27,"_key"],[58,78,52,27],[58,81,52,27,"_len"],[58,85,52,27],[58,87,52,27,"_key"],[58,91,52,27],[59,8,52,23,"args"],[59,12,52,27],[59,13,52,27,"_key"],[59,17,52,27],[59,21,52,27,"arguments"],[59,30,52,27],[59,31,52,27,"_key"],[59,35,52,27],[60,6,52,27],[61,6,53,4],[61,10,53,10,"flagName"],[61,18,53,18],[61,21,53,21,"args"],[61,25,53,25],[61,26,53,26],[61,27,53,27],[61,28,53,28],[62,6,54,4],[62,10,54,10,"result"],[62,16,54,16],[62,19,54,19,"original"],[62,27,54,27],[62,28,54,28,"apply"],[62,33,54,33],[62,34,54,34],[62,38,54,38],[62,40,54,40,"args"],[62,44,54,44],[62,45,54,45],[63,6,56,4],[63,10,56,8],[63,17,56,15,"flagName"],[63,25,56,23],[63,30,56,28],[63,38,56,36],[63,42,56,40],[63,49,56,47,"result"],[63,55,56,53],[63,60,56,58],[63,69,56,67],[63,71,56,69],[64,8,57,6],[64,12,57,6,"_INTERNAL_insertFlagToScope"],[64,32,57,33],[64,33,57,33,"_INTERNAL_insertFlagToScope"],[64,60,57,33],[64,62,57,34,"flagName"],[64,70,57,42],[64,72,57,44,"result"],[64,78,57,50],[64,79,57,51],[65,8,58,6],[65,12,58,6,"_INTERNAL_addFeatureFlagToActiveSpan"],[65,32,58,42],[65,33,58,42,"_INTERNAL_addFeatureFlagToActiveSpan"],[65,69,58,42],[65,71,58,43,"flagName"],[65,79,58,51],[65,81,58,53,"result"],[65,87,58,59],[65,88,58,60],[66,6,59,4],[67,6,61,4],[67,13,61,11,"result"],[67,19,61,17],[68,4,62,2],[68,5,62,3],[69,2,63,0],[70,0,63,1],[70,3]],"functionMap":{"names":["<global>","defineIntegration$argument_0","setupOnce","processEvent","_wrapAndCaptureBooleanResult","<anonymous>"],"mappings":"AAA;ECuB;MCI;ODY;MEE;OFE;GDE;AIG;SCG;GDU;CJC"},"hasCjsExports":false},"type":"js/module"}]}