{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":32,"index":32}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":33},"end":{"line":2,"column":49,"index":82}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":69,"index":152}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useProfileData = useProfileData;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[2], \"@tanstack/react-query\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  function useProfileData() {\n    _s();\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: [\"profile\", \"me\"],\n        queryFn: function () {\n          var _ref = (0, _asyncToGenerator.default)(function* () {\n            var userData = yield AsyncStorage.default.getItem(\"user\");\n            if (!userData) {\n              throw new Error(\"You're not signed in.\");\n            }\n            var user = JSON.parse(userData);\n            var response = yield fetch(`/api/profile/me?userId=${user.id}`);\n            if (!response.ok) {\n              throw new Error(`When fetching /api/profile/me, the response was [${response.status}] ${response.statusText}`);\n            }\n            var json = yield response.json();\n            return {\n              user,\n              profile: json.profile\n            };\n          });\n          return function queryFn() {\n            return _ref.apply(this, arguments);\n          };\n        }()\n      }),\n      data = _useQuery.data,\n      isLoading = _useQuery.isLoading,\n      error = _useQuery.error;\n    var serverProfile = data?.profile;\n    var preferences = (0, _react.useMemo)(() => {\n      var raw = serverProfile?.preferences;\n      if (!raw) return {};\n      if (typeof raw === \"object\") return raw;\n      try {\n        return JSON.parse(raw);\n      } catch {\n        return {};\n      }\n    }, [serverProfile?.preferences]);\n    return {\n      data,\n      isLoading,\n      error,\n      serverProfile,\n      preferences\n    };\n  }\n  _s(useProfileData, \"Cy32PmcoIIL2TKHo32uv0BcJxqs=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n});","lineCount":71,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useProfileData"],[13,24,5,0],[13,27,5,0,"useProfileData"],[13,41,5,0],[14,2,46,1],[14,6,46,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,46,1],[14,45,46,1,"require"],[14,52,46,1],[14,53,46,1,"_dependencyMap"],[14,67,46,1],[15,2,46,1],[15,6,46,1,"_asyncToGenerator"],[15,23,46,1],[15,26,46,1,"_interopDefault"],[15,41,46,1],[15,42,46,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,46,1],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_tanstackReactQuery"],[17,25,2,0],[17,28,2,0,"require"],[17,35,2,0],[17,36,2,0,"_dependencyMap"],[17,50,2,0],[18,2,3,0],[18,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,3,0],[18,45,3,0,"require"],[18,52,3,0],[18,53,3,0,"_dependencyMap"],[18,67,3,0],[19,2,3,0],[19,6,3,0,"AsyncStorage"],[19,18,3,0],[19,21,3,0,"_interopDefault"],[19,36,3,0],[19,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,3,0],[20,2,5,7],[20,11,5,16,"useProfileData"],[20,25,5,30,"useProfileData"],[20,26,5,30],[20,28,5,33],[21,4,5,33,"_s"],[21,6,5,33],[22,4,6,2],[22,8,6,2,"_useQuery"],[22,17,6,2],[22,20,6,37],[22,24,6,37,"useQuery"],[22,43,6,45],[22,44,6,45,"useQuery"],[22,52,6,45],[22,54,6,46],[23,8,7,4,"queryKey"],[23,16,7,12],[23,18,7,14],[23,19,7,15],[23,28,7,24],[23,30,7,26],[23,34,7,30],[23,35,7,31],[24,8,8,4,"queryFn"],[24,15,8,11],[25,10,8,11],[25,14,8,11,"_ref"],[25,18,8,11],[25,25,8,11,"_asyncToGenerator"],[25,42,8,11],[25,43,8,11,"default"],[25,50,8,11],[25,52,8,13],[25,65,8,25],[26,12,9,6],[26,16,9,12,"userData"],[26,24,9,20],[26,33,9,29,"AsyncStorage"],[26,45,9,41],[26,46,9,41,"default"],[26,53,9,41],[26,54,9,42,"getItem"],[26,61,9,49],[26,62,9,50],[26,68,9,56],[26,69,9,57],[27,12,10,6],[27,16,10,10],[27,17,10,11,"userData"],[27,25,10,19],[27,27,10,21],[28,14,11,8],[28,20,11,14],[28,24,11,18,"Error"],[28,29,11,23],[28,30,11,24],[28,53,11,47],[28,54,11,48],[29,12,12,6],[30,12,13,6],[30,16,13,12,"user"],[30,20,13,16],[30,23,13,19,"JSON"],[30,27,13,23],[30,28,13,24,"parse"],[30,33,13,29],[30,34,13,30,"userData"],[30,42,13,38],[30,43,13,39],[31,12,15,6],[31,16,15,12,"response"],[31,24,15,20],[31,33,15,29,"fetch"],[31,38,15,34],[31,39,15,35],[31,65,15,61,"user"],[31,69,15,65],[31,70,15,66,"id"],[31,72,15,68],[31,74,15,70],[31,75,15,71],[32,12,16,6],[32,16,16,10],[32,17,16,11,"response"],[32,25,16,19],[32,26,16,20,"ok"],[32,28,16,22],[32,30,16,24],[33,14,17,8],[33,20,17,14],[33,24,17,18,"Error"],[33,29,17,23],[33,30,18,10],[33,82,18,62,"response"],[33,90,18,70],[33,91,18,71,"status"],[33,97,18,77],[33,102,18,82,"response"],[33,110,18,90],[33,111,18,91,"statusText"],[33,121,18,101],[33,123,19,8],[33,124,19,9],[34,12,20,6],[35,12,21,6],[35,16,21,12,"json"],[35,20,21,16],[35,29,21,25,"response"],[35,37,21,33],[35,38,21,34,"json"],[35,42,21,38],[35,43,21,39],[35,44,21,40],[36,12,22,6],[36,19,22,13],[37,14,22,15,"user"],[37,18,22,19],[38,14,22,21,"profile"],[38,21,22,28],[38,23,22,30,"json"],[38,27,22,34],[38,28,22,35,"profile"],[39,12,22,43],[39,13,22,44],[40,10,23,4],[40,11,23,5],[41,10,23,5],[41,26,8,4,"queryFn"],[41,33,8,11,"queryFn"],[41,34,8,11],[42,12,8,11],[42,19,8,11,"_ref"],[42,23,8,11],[42,24,8,11,"apply"],[42,29,8,11],[42,36,8,11,"arguments"],[42,45,8,11],[43,10,8,11],[44,8,8,11],[45,6,24,2],[45,7,24,3],[45,8,24,4],[46,6,6,10,"data"],[46,10,6,14],[46,13,6,14,"_useQuery"],[46,22,6,14],[46,23,6,10,"data"],[46,27,6,14],[47,6,6,16,"isLoading"],[47,15,6,25],[47,18,6,25,"_useQuery"],[47,27,6,25],[47,28,6,16,"isLoading"],[47,37,6,25],[48,6,6,27,"error"],[48,11,6,32],[48,14,6,32,"_useQuery"],[48,23,6,32],[48,24,6,27,"error"],[48,29,6,32],[49,4,26,2],[49,8,26,8,"serverProfile"],[49,21,26,21],[49,24,26,24,"data"],[49,28,26,28],[49,30,26,30,"profile"],[49,37,26,37],[50,4,28,2],[50,8,28,8,"preferences"],[50,19,28,19],[50,22,28,22],[50,26,28,22,"useMemo"],[50,32,28,29],[50,33,28,29,"useMemo"],[50,40,28,29],[50,42,28,30],[50,48,28,36],[51,6,29,4],[51,10,29,10,"raw"],[51,13,29,13],[51,16,29,16,"serverProfile"],[51,29,29,29],[51,31,29,31,"preferences"],[51,42,29,42],[52,6,30,4],[52,10,30,8],[52,11,30,9,"raw"],[52,14,30,12],[52,16,30,14],[52,23,30,21],[52,24,30,22],[52,25,30,23],[53,6,31,4],[53,10,31,8],[53,17,31,15,"raw"],[53,20,31,18],[53,25,31,23],[53,33,31,31],[53,35,31,33],[53,42,31,40,"raw"],[53,45,31,43],[54,6,32,4],[54,10,32,8],[55,8,33,6],[55,15,33,13,"JSON"],[55,19,33,17],[55,20,33,18,"parse"],[55,25,33,23],[55,26,33,24,"raw"],[55,29,33,27],[55,30,33,28],[56,6,34,4],[56,7,34,5],[56,8,34,6],[56,14,34,12],[57,8,35,6],[57,15,35,13],[57,16,35,14],[57,17,35,15],[58,6,36,4],[59,4,37,2],[59,5,37,3],[59,7,37,5],[59,8,37,6,"serverProfile"],[59,21,37,19],[59,23,37,21,"preferences"],[59,34,37,32],[59,35,37,33],[59,36,37,34],[60,4,39,2],[60,11,39,9],[61,6,40,4,"data"],[61,10,40,8],[62,6,41,4,"isLoading"],[62,15,41,13],[63,6,42,4,"error"],[63,11,42,9],[64,6,43,4,"serverProfile"],[64,19,43,17],[65,6,44,4,"preferences"],[66,4,45,2],[66,5,45,3],[67,2,46,0],[68,2,46,1,"_s"],[68,4,46,1],[68,5,5,16,"useProfileData"],[68,19,5,30],[69,4,5,30],[69,12,6,37,"useQuery"],[69,31,6,45],[69,32,6,45,"useQuery"],[69,40,6,45],[70,2,6,45],[71,0,6,45],[71,3]],"functionMap":{"names":["<global>","useProfileData","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;OCI;aCG;KDe;8BEK;GFS;CDS"},"hasCjsExports":false},"type":"js/module"}]}