{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOnboardingStepValidation = useOnboardingStepValidation;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[1], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  function useOnboardingStepValidation({\n    step,\n    setStep,\n    totalSteps,\n    heightInches,\n    ageMin,\n    ageMax,\n    bornIn,\n    setBornIn,\n    jobTitle,\n    setJobTitle,\n    company,\n    setCompany,\n    primaryPhotoUrl,\n    about,\n    interests,\n    saveMutation,\n    router,\n    busy,\n    skippedSteps,\n    setSkippedSteps\n  }) {\n    const goNext = (0, _react.useCallback)(() => {\n      setStep(s => Math.min(totalSteps - 1, s + 1));\n    }, [setStep, totalSteps]);\n    const skipCurrentStep = (0, _react.useCallback)(() => {\n      if (busy) return;\n      setSkippedSteps(prev => {\n        const safePrev = prev && typeof prev === \"object\" ? prev : {};\n        return {\n          ...safePrev,\n          [step]: true\n        };\n      });\n      if (step >= totalSteps - 1) {\n        // last screen skip = finish\n        saveMutation.mutate({\n          skippedSteps: {\n            ...(skippedSteps || {}),\n            [step]: true\n          }\n        }, {\n          onSuccess: () => {\n            // After finishing onboarding, ask for notifications + location.\n            // (Split into two screens: notifications first, then location.)\n            router.replace(\"/onboarding/notifications\");\n          },\n          onError: e => {\n            console.error(e);\n            Alert.default.alert(\"Could not save\", e?.message || \"Please try again.\");\n          }\n        });\n        return;\n      }\n      goNext();\n    }, [busy, goNext, router, saveMutation, setSkippedSteps, skippedSteps, step, totalSteps]);\n    const validateAndNext = (0, _react.useCallback)(() => {\n      if (busy) return;\n\n      // Only required: height + profile photo.\n      if (step === 0) {\n        if (!heightInches) {\n          Alert.default.alert(\"Missing info\", \"Please select your height\");\n          return;\n        }\n        goNext();\n        return;\n      }\n      if (step === 4) {\n        if (!primaryPhotoUrl) {\n          Alert.default.alert(\"Required\", \"Please add a profile photo to continue\");\n          return;\n        }\n        goNext();\n        return;\n      }\n\n      // Optional screens: we still lightly clean up input if present, but we do not block.\n      if (step === 2) {\n        const trimmed = String(bornIn || \"\").trim();\n        if (trimmed) {\n          setBornIn(trimmed);\n        }\n        goNext();\n        return;\n      }\n      if (step === 3) {\n        const jt = String(jobTitle || \"\").trim();\n        const co = String(company || \"\").trim();\n        if (jt) setJobTitle(jt);\n        if (co) setCompany(co);\n        goNext();\n        return;\n      }\n      if (step < totalSteps - 1) {\n        goNext();\n        return;\n      }\n\n      // Last step: save and finish (About + interests are optional now)\n      saveMutation.mutate({\n        skippedSteps\n      }, {\n        onSuccess: () => {\n          // After finishing onboarding, ask for notifications + location.\n          // (Split into two screens: notifications first, then location.)\n          router.replace(\"/onboarding/notifications\");\n        },\n        onError: e => {\n          console.error(e);\n          Alert.default.alert(\"Could not save\", e?.message || \"Please try again.\");\n        }\n      });\n    }, [about, ageMax, ageMin, bornIn, busy, company, goNext, heightInches, interests, jobTitle, primaryPhotoUrl, router, saveMutation, setBornIn, setCompany, setJobTitle, skippedSteps, step, totalSteps]);\n    return {\n      validateAndNext,\n      skipCurrentStep\n    };\n  }\n});","lineCount":135,"map":[[12,2,4,0,"exports"],[12,9,4,0],[12,10,4,0,"useOnboardingStepValidation"],[12,37,4,0],[12,40,4,0,"useOnboardingStepValidation"],[12,67,4,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,1,36],[14,6,1,36,"_reactNativeWebDistExportsAlert"],[14,37,1,36],[14,40,1,36,"require"],[14,47,1,36],[14,48,1,36,"_dependencyMap"],[14,62,1,36],[15,2,1,36],[15,6,1,36,"Alert"],[15,11,1,36],[15,14,1,36,"_interopDefault"],[15,29,1,36],[15,30,1,36,"_reactNativeWebDistExportsAlert"],[15,61,1,36],[16,2,4,7],[16,11,4,16,"useOnboardingStepValidation"],[16,38,4,43,"useOnboardingStepValidation"],[16,39,4,44],[17,4,5,2,"step"],[17,8,5,6],[18,4,6,2,"setStep"],[18,11,6,9],[19,4,7,2,"totalSteps"],[19,14,7,12],[20,4,8,2,"heightInches"],[20,16,8,14],[21,4,9,2,"ageMin"],[21,10,9,8],[22,4,10,2,"ageMax"],[22,10,10,8],[23,4,11,2,"bornIn"],[23,10,11,8],[24,4,12,2,"setBornIn"],[24,13,12,11],[25,4,13,2,"jobTitle"],[25,12,13,10],[26,4,14,2,"setJobTitle"],[26,15,14,13],[27,4,15,2,"company"],[27,11,15,9],[28,4,16,2,"setCompany"],[28,14,16,12],[29,4,17,2,"primaryPhotoUrl"],[29,19,17,17],[30,4,18,2,"about"],[30,9,18,7],[31,4,19,2,"interests"],[31,13,19,11],[32,4,20,2,"saveMutation"],[32,16,20,14],[33,4,21,2,"router"],[33,10,21,8],[34,4,22,2,"busy"],[34,8,22,6],[35,4,23,2,"skippedSteps"],[35,16,23,14],[36,4,24,2,"setSkippedSteps"],[37,2,25,0],[37,3,25,1],[37,5,25,3],[38,4,26,2],[38,10,26,8,"goNext"],[38,16,26,14],[38,19,26,17],[38,23,26,17,"useCallback"],[38,29,26,28],[38,30,26,28,"useCallback"],[38,41,26,28],[38,43,26,29],[38,49,26,35],[39,6,27,4,"setStep"],[39,13,27,11],[39,14,27,13,"s"],[39,15,27,14],[39,19,27,19,"Math"],[39,23,27,23],[39,24,27,24,"min"],[39,27,27,27],[39,28,27,28,"totalSteps"],[39,38,27,38],[39,41,27,41],[39,42,27,42],[39,44,27,44,"s"],[39,45,27,45],[39,48,27,48],[39,49,27,49],[39,50,27,50],[39,51,27,51],[40,4,28,2],[40,5,28,3],[40,7,28,5],[40,8,28,6,"setStep"],[40,15,28,13],[40,17,28,15,"totalSteps"],[40,27,28,25],[40,28,28,26],[40,29,28,27],[41,4,30,2],[41,10,30,8,"skipCurrentStep"],[41,25,30,23],[41,28,30,26],[41,32,30,26,"useCallback"],[41,38,30,37],[41,39,30,37,"useCallback"],[41,50,30,37],[41,52,30,38],[41,58,30,44],[42,6,31,4],[42,10,31,8,"busy"],[42,14,31,12],[42,16,31,14],[43,6,33,4,"setSkippedSteps"],[43,21,33,19],[43,22,33,21,"prev"],[43,26,33,25],[43,30,33,30],[44,8,34,6],[44,14,34,12,"safePrev"],[44,22,34,20],[44,25,34,23,"prev"],[44,29,34,27],[44,33,34,31],[44,40,34,38,"prev"],[44,44,34,42],[44,49,34,47],[44,57,34,55],[44,60,34,58,"prev"],[44,64,34,62],[44,67,34,65],[44,68,34,66],[44,69,34,67],[45,8,35,6],[45,15,35,13],[46,10,35,15],[46,13,35,18,"safePrev"],[46,21,35,26],[47,10,35,28],[47,11,35,29,"step"],[47,15,35,33],[47,18,35,36],[48,8,35,41],[48,9,35,42],[49,6,36,4],[49,7,36,5],[49,8,36,6],[50,6,38,4],[50,10,38,8,"step"],[50,14,38,12],[50,18,38,16,"totalSteps"],[50,28,38,26],[50,31,38,29],[50,32,38,30],[50,34,38,32],[51,8,39,6],[52,8,40,6,"saveMutation"],[52,20,40,18],[52,21,40,19,"mutate"],[52,27,40,25],[52,28,41,8],[53,10,41,10,"skippedSteps"],[53,22,41,22],[53,24,41,24],[54,12,41,26],[54,16,41,30,"skippedSteps"],[54,28,41,42],[54,32,41,46],[54,33,41,47],[54,34,41,48],[54,35,41,49],[55,12,41,51],[55,13,41,52,"step"],[55,17,41,56],[55,20,41,59],[56,10,41,64],[57,8,41,66],[57,9,41,67],[57,11,42,8],[58,10,43,10,"onSuccess"],[58,19,43,19],[58,21,43,21,"onSuccess"],[58,22,43,21],[58,27,43,27],[59,12,44,12],[60,12,45,12],[61,12,46,12,"router"],[61,18,46,18],[61,19,46,19,"replace"],[61,26,46,26],[61,27,46,27],[61,54,46,54],[61,55,46,55],[62,10,47,10],[62,11,47,11],[63,10,48,10,"onError"],[63,17,48,17],[63,19,48,20,"e"],[63,20,48,21],[63,24,48,26],[64,12,49,12,"console"],[64,19,49,19],[64,20,49,20,"error"],[64,25,49,25],[64,26,49,26,"e"],[64,27,49,27],[64,28,49,28],[65,12,50,12,"Alert"],[65,17,50,17],[65,18,50,17,"default"],[65,25,50,17],[65,26,50,18,"alert"],[65,31,50,23],[65,32,50,24],[65,48,50,40],[65,50,50,42,"e"],[65,51,50,43],[65,53,50,45,"message"],[65,60,50,52],[65,64,50,56],[65,83,50,75],[65,84,50,76],[66,10,51,10],[67,8,52,8],[67,9,53,6],[67,10,53,7],[68,8,54,6],[69,6,55,4],[70,6,57,4,"goNext"],[70,12,57,10],[70,13,57,11],[70,14,57,12],[71,4,58,2],[71,5,58,3],[71,7,58,5],[71,8,59,4,"busy"],[71,12,59,8],[71,14,60,4,"goNext"],[71,20,60,10],[71,22,61,4,"router"],[71,28,61,10],[71,30,62,4,"saveMutation"],[71,42,62,16],[71,44,63,4,"setSkippedSteps"],[71,59,63,19],[71,61,64,4,"skippedSteps"],[71,73,64,16],[71,75,65,4,"step"],[71,79,65,8],[71,81,66,4,"totalSteps"],[71,91,66,14],[71,92,67,3],[71,93,67,4],[72,4,69,2],[72,10,69,8,"validateAndNext"],[72,25,69,23],[72,28,69,26],[72,32,69,26,"useCallback"],[72,38,69,37],[72,39,69,37,"useCallback"],[72,50,69,37],[72,52,69,38],[72,58,69,44],[73,6,70,4],[73,10,70,8,"busy"],[73,14,70,12],[73,16,70,14],[75,6,72,4],[76,6,73,4],[76,10,73,8,"step"],[76,14,73,12],[76,19,73,17],[76,20,73,18],[76,22,73,20],[77,8,74,6],[77,12,74,10],[77,13,74,11,"heightInches"],[77,25,74,23],[77,27,74,25],[78,10,75,8,"Alert"],[78,15,75,13],[78,16,75,13,"default"],[78,23,75,13],[78,24,75,14,"alert"],[78,29,75,19],[78,30,75,20],[78,44,75,34],[78,46,75,36],[78,73,75,63],[78,74,75,64],[79,10,76,8],[80,8,77,6],[81,8,78,6,"goNext"],[81,14,78,12],[81,15,78,13],[81,16,78,14],[82,8,79,6],[83,6,80,4],[84,6,82,4],[84,10,82,8,"step"],[84,14,82,12],[84,19,82,17],[84,20,82,18],[84,22,82,20],[85,8,83,6],[85,12,83,10],[85,13,83,11,"primaryPhotoUrl"],[85,28,83,26],[85,30,83,28],[86,10,84,8,"Alert"],[86,15,84,13],[86,16,84,13,"default"],[86,23,84,13],[86,24,84,14,"alert"],[86,29,84,19],[86,30,84,20],[86,40,84,30],[86,42,84,32],[86,82,84,72],[86,83,84,73],[87,10,85,8],[88,8,86,6],[89,8,87,6,"goNext"],[89,14,87,12],[89,15,87,13],[89,16,87,14],[90,8,88,6],[91,6,89,4],[93,6,91,4],[94,6,92,4],[94,10,92,8,"step"],[94,14,92,12],[94,19,92,17],[94,20,92,18],[94,22,92,20],[95,8,93,6],[95,14,93,12,"trimmed"],[95,21,93,19],[95,24,93,22,"String"],[95,30,93,28],[95,31,93,29,"bornIn"],[95,37,93,35],[95,41,93,39],[95,43,93,41],[95,44,93,42],[95,45,93,43,"trim"],[95,49,93,47],[95,50,93,48],[95,51,93,49],[96,8,94,6],[96,12,94,10,"trimmed"],[96,19,94,17],[96,21,94,19],[97,10,95,8,"setBornIn"],[97,19,95,17],[97,20,95,18,"trimmed"],[97,27,95,25],[97,28,95,26],[98,8,96,6],[99,8,97,6,"goNext"],[99,14,97,12],[99,15,97,13],[99,16,97,14],[100,8,98,6],[101,6,99,4],[102,6,101,4],[102,10,101,8,"step"],[102,14,101,12],[102,19,101,17],[102,20,101,18],[102,22,101,20],[103,8,102,6],[103,14,102,12,"jt"],[103,16,102,14],[103,19,102,17,"String"],[103,25,102,23],[103,26,102,24,"jobTitle"],[103,34,102,32],[103,38,102,36],[103,40,102,38],[103,41,102,39],[103,42,102,40,"trim"],[103,46,102,44],[103,47,102,45],[103,48,102,46],[104,8,103,6],[104,14,103,12,"co"],[104,16,103,14],[104,19,103,17,"String"],[104,25,103,23],[104,26,103,24,"company"],[104,33,103,31],[104,37,103,35],[104,39,103,37],[104,40,103,38],[104,41,103,39,"trim"],[104,45,103,43],[104,46,103,44],[104,47,103,45],[105,8,104,6],[105,12,104,10,"jt"],[105,14,104,12],[105,16,104,14,"setJobTitle"],[105,27,104,25],[105,28,104,26,"jt"],[105,30,104,28],[105,31,104,29],[106,8,105,6],[106,12,105,10,"co"],[106,14,105,12],[106,16,105,14,"setCompany"],[106,26,105,24],[106,27,105,25,"co"],[106,29,105,27],[106,30,105,28],[107,8,106,6,"goNext"],[107,14,106,12],[107,15,106,13],[107,16,106,14],[108,8,107,6],[109,6,108,4],[110,6,110,4],[110,10,110,8,"step"],[110,14,110,12],[110,17,110,15,"totalSteps"],[110,27,110,25],[110,30,110,28],[110,31,110,29],[110,33,110,31],[111,8,111,6,"goNext"],[111,14,111,12],[111,15,111,13],[111,16,111,14],[112,8,112,6],[113,6,113,4],[115,6,115,4],[116,6,116,4,"saveMutation"],[116,18,116,16],[116,19,116,17,"mutate"],[116,25,116,23],[116,26,117,6],[117,8,117,8,"skippedSteps"],[118,6,117,21],[118,7,117,22],[118,9,118,6],[119,8,119,8,"onSuccess"],[119,17,119,17],[119,19,119,19,"onSuccess"],[119,20,119,19],[119,25,119,25],[120,10,120,10],[121,10,121,10],[122,10,122,10,"router"],[122,16,122,16],[122,17,122,17,"replace"],[122,24,122,24],[122,25,122,25],[122,52,122,52],[122,53,122,53],[123,8,123,8],[123,9,123,9],[124,8,124,8,"onError"],[124,15,124,15],[124,17,124,18,"e"],[124,18,124,19],[124,22,124,24],[125,10,125,10,"console"],[125,17,125,17],[125,18,125,18,"error"],[125,23,125,23],[125,24,125,24,"e"],[125,25,125,25],[125,26,125,26],[126,10,126,10,"Alert"],[126,15,126,15],[126,16,126,15,"default"],[126,23,126,15],[126,24,126,16,"alert"],[126,29,126,21],[126,30,126,22],[126,46,126,38],[126,48,126,40,"e"],[126,49,126,41],[126,51,126,43,"message"],[126,58,126,50],[126,62,126,54],[126,81,126,73],[126,82,126,74],[127,8,127,8],[128,6,128,6],[128,7,129,4],[128,8,129,5],[129,4,130,2],[129,5,130,3],[129,7,130,5],[129,8,131,4,"about"],[129,13,131,9],[129,15,132,4,"ageMax"],[129,21,132,10],[129,23,133,4,"ageMin"],[129,29,133,10],[129,31,134,4,"bornIn"],[129,37,134,10],[129,39,135,4,"busy"],[129,43,135,8],[129,45,136,4,"company"],[129,52,136,11],[129,54,137,4,"goNext"],[129,60,137,10],[129,62,138,4,"heightInches"],[129,74,138,16],[129,76,139,4,"interests"],[129,85,139,13],[129,87,140,4,"jobTitle"],[129,95,140,12],[129,97,141,4,"primaryPhotoUrl"],[129,112,141,19],[129,114,142,4,"router"],[129,120,142,10],[129,122,143,4,"saveMutation"],[129,134,143,16],[129,136,144,4,"setBornIn"],[129,145,144,13],[129,147,145,4,"setCompany"],[129,157,145,14],[129,159,146,4,"setJobTitle"],[129,170,146,15],[129,172,147,4,"skippedSteps"],[129,184,147,16],[129,186,148,4,"step"],[129,190,148,8],[129,192,149,4,"totalSteps"],[129,202,149,14],[129,203,150,3],[129,204,150,4],[130,4,152,2],[130,11,152,9],[131,6,152,11,"validateAndNext"],[131,21,152,26],[132,6,152,28,"skipCurrentStep"],[133,4,152,44],[133,5,152,45],[134,2,153,0],[135,0,153,1],[135,3]],"functionMap":{"names":["<global>","useOnboardingStepValidation","goNext","setStep$argument_0","skipCurrentStep","setSkippedSteps$argument_0","saveMutation.mutate$argument_1.onSuccess","saveMutation.mutate$argument_1.onError","validateAndNext"],"mappings":"AAA;OCG;6BCsB;YCC,sCD;GDC;sCGE;oBCG;KDG;qBEO;WFI;mBGC;WHG;GHO;sCOW;mBFkD;SEI;iBDC;SCG;GPG;CDuB"},"hasCjsExports":false},"type":"js/module"}]}