{"dependencies":[{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"LZlrQCVO4H3zUFIdbw1eEy4GKGE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"browserPerformanceTimeOrigin\", {\n    enumerable: true,\n    get: function () {\n      return browserPerformanceTimeOrigin;\n    }\n  });\n  Object.defineProperty(exports, \"dateTimestampInSeconds\", {\n    enumerable: true,\n    get: function () {\n      return dateTimestampInSeconds;\n    }\n  });\n  Object.defineProperty(exports, \"timestampInSeconds\", {\n    enumerable: true,\n    get: function () {\n      return timestampInSeconds;\n    }\n  });\n  var _worldwideJs = require(_dependencyMap[0]);\n  var ONE_SECOND_IN_MS = 1000;\n\n  /**\n   * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n   * for accessing a high-resolution monotonic clock.\n   */\n\n  /**\n   * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n   */\n  function dateTimestampInSeconds() {\n    return Date.now() / ONE_SECOND_IN_MS;\n  }\n\n  /**\n   * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n   * support the API.\n   *\n   * Wrapping the native API works around differences in behavior from different browsers.\n   */\n  function createUnixTimestampInSecondsFunc() {\n    var performance = _worldwideJs.GLOBAL_OBJ.performance;\n    // Some browser and environments don't have a performance or timeOrigin, so we fallback to\n    // using Date.now() to compute the starting time.\n    if (!performance?.now || !performance.timeOrigin) {\n      return dateTimestampInSeconds;\n    }\n    var timeOrigin = performance.timeOrigin;\n\n    // performance.now() is a monotonic clock, which means it starts at 0 when the process begins. To get the current\n    // wall clock time (actual UNIX timestamp), we need to add the starting time origin and the current time elapsed.\n    //\n    // TODO: This does not account for the case where the monotonic clock that powers performance.now() drifts from the\n    // wall clock time, which causes the returned timestamp to be inaccurate. We should investigate how to detect and\n    // correct for this.\n    // See: https://github.com/getsentry/sentry-javascript/issues/2590\n    // See: https://github.com/mdn/content/issues/4713\n    // See: https://dev.to/noamr/when-a-millisecond-is-not-a-millisecond-3h6\n    return () => {\n      return (timeOrigin + performance.now()) / ONE_SECOND_IN_MS;\n    };\n  }\n  var _cachedTimestampInSeconds;\n\n  /**\n   * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n   * availability of the Performance API.\n   *\n   * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n   * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n   * skew can grow to arbitrary amounts like days, weeks or months.\n   * See https://github.com/getsentry/sentry-javascript/issues/2590.\n   */\n  function timestampInSeconds() {\n    // We store this in a closure so that we don't have to create a new function every time this is called.\n    var func = _cachedTimestampInSeconds ?? (_cachedTimestampInSeconds = createUnixTimestampInSecondsFunc());\n    return func();\n  }\n\n  /**\n   * Cached result of getBrowserTimeOrigin.\n   */\n  var cachedTimeOrigin;\n\n  /**\n   * Gets the time origin and the mode used to determine it.\n   */\n  function getBrowserTimeOrigin() {\n    // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n    // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n    // data as reliable if they are within a reasonable threshold of the current time.\n\n    var performance = _worldwideJs.GLOBAL_OBJ.performance;\n    if (!performance?.now) {\n      return [undefined, 'none'];\n    }\n    var threshold = 3600000;\n    var performanceNow = performance.now();\n    var dateNow = Date.now();\n\n    // if timeOrigin isn't available set delta to threshold so it isn't used\n    var timeOriginDelta = performance.timeOrigin ? Math.abs(performance.timeOrigin + performanceNow - dateNow) : threshold;\n    var timeOriginIsReliable = timeOriginDelta < threshold;\n\n    // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n    // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n    // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n    // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n    // Date API.\n    // eslint-disable-next-line deprecation/deprecation\n    var navigationStart = performance.timing?.navigationStart;\n    var hasNavigationStart = typeof navigationStart === 'number';\n    // if navigationStart isn't available set delta to threshold so it isn't used\n    var navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n    var navigationStartIsReliable = navigationStartDelta < threshold;\n    if (timeOriginIsReliable || navigationStartIsReliable) {\n      // Use the more reliable time origin\n      if (timeOriginDelta <= navigationStartDelta) {\n        return [performance.timeOrigin, 'timeOrigin'];\n      } else {\n        return [navigationStart, 'navigationStart'];\n      }\n    }\n\n    // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n    return [dateNow, 'dateNow'];\n  }\n\n  /**\n   * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n   * performance API is available.\n   */\n  function browserPerformanceTimeOrigin() {\n    if (!cachedTimeOrigin) {\n      cachedTimeOrigin = getBrowserTimeOrigin();\n    }\n    return cachedTimeOrigin[0];\n  }\n});","lineCount":144,"map":[[7,2,129,0,"Object"],[7,8,129,0],[7,9,129,0,"defineProperty"],[7,23,129,0],[7,24,129,0,"exports"],[7,31,129,0],[8,4,129,0,"enumerable"],[8,14,129,0],[9,4,129,0,"get"],[9,7,129,0],[9,18,129,0,"get"],[9,19,129,0],[10,6,129,0],[10,13,129,9,"browserPerformanceTimeOrigin"],[10,41,129,37],[11,4,129,37],[12,2,129,37],[13,2,129,0,"Object"],[13,8,129,0],[13,9,129,0,"defineProperty"],[13,23,129,0],[13,24,129,0,"exports"],[13,31,129,0],[14,4,129,0,"enumerable"],[14,14,129,0],[15,4,129,0,"get"],[15,7,129,0],[15,18,129,0,"get"],[15,19,129,0],[16,6,129,0],[16,13,129,39,"dateTimestampInSeconds"],[16,35,129,61],[17,4,129,61],[18,2,129,61],[19,2,129,0,"Object"],[19,8,129,0],[19,9,129,0,"defineProperty"],[19,23,129,0],[19,24,129,0,"exports"],[19,31,129,0],[20,4,129,0,"enumerable"],[20,14,129,0],[21,4,129,0,"get"],[21,7,129,0],[21,18,129,0,"get"],[21,19,129,0],[22,6,129,0],[22,13,129,63,"timestampInSeconds"],[22,31,129,81],[23,4,129,81],[24,2,129,81],[25,2,1,0],[25,6,1,0,"_worldwideJs"],[25,18,1,0],[25,21,1,0,"require"],[25,28,1,0],[25,29,1,0,"_dependencyMap"],[25,43,1,0],[26,2,3,0],[26,6,3,6,"ONE_SECOND_IN_MS"],[26,22,3,22],[26,25,3,25],[26,29,3,29],[28,2,5,0],[29,0,6,0],[30,0,7,0],[31,0,8,0],[33,2,10,0],[34,0,11,0],[35,0,12,0],[36,2,13,0],[36,11,13,9,"dateTimestampInSeconds"],[36,33,13,31,"dateTimestampInSeconds"],[36,34,13,31],[36,36,13,34],[37,4,14,2],[37,11,14,9,"Date"],[37,15,14,13],[37,16,14,14,"now"],[37,19,14,17],[37,20,14,18],[37,21,14,19],[37,24,14,22,"ONE_SECOND_IN_MS"],[37,40,14,38],[38,2,15,0],[40,2,17,0],[41,0,18,0],[42,0,19,0],[43,0,20,0],[44,0,21,0],[45,0,22,0],[46,2,23,0],[46,11,23,9,"createUnixTimestampInSecondsFunc"],[46,43,23,41,"createUnixTimestampInSecondsFunc"],[46,44,23,41],[46,46,23,44],[47,4,24,2],[47,8,24,10,"performance"],[47,19,24,21],[47,22,24,26,"GLOBAL_OBJ"],[47,34,24,36],[47,35,24,36,"GLOBAL_OBJ"],[47,45,24,36],[47,46,24,10,"performance"],[47,57,24,21],[48,4,25,2],[49,4,26,2],[50,4,27,2],[50,8,27,6],[50,9,27,7,"performance"],[50,20,27,18],[50,22,27,20,"now"],[50,25,27,23],[50,29,27,27],[50,30,27,28,"performance"],[50,41,27,39],[50,42,27,40,"timeOrigin"],[50,52,27,50],[50,54,27,52],[51,6,28,4],[51,13,28,11,"dateTimestampInSeconds"],[51,35,28,33],[52,4,29,2],[53,4,31,2],[53,8,31,8,"timeOrigin"],[53,18,31,18],[53,21,31,21,"performance"],[53,32,31,32],[53,33,31,33,"timeOrigin"],[53,43,31,43],[55,4,33,2],[56,4,34,2],[57,4,35,2],[58,4,36,2],[59,4,37,2],[60,4,38,2],[61,4,39,2],[62,4,40,2],[63,4,41,2],[64,4,42,2],[64,11,42,9],[64,17,42,15],[65,6,43,4],[65,13,43,11],[65,14,43,12,"timeOrigin"],[65,24,43,22],[65,27,43,25,"performance"],[65,38,43,36],[65,39,43,37,"now"],[65,42,43,40],[65,43,43,41],[65,44,43,42],[65,48,43,46,"ONE_SECOND_IN_MS"],[65,64,43,62],[66,4,44,2],[66,5,44,3],[67,2,45,0],[68,2,47,0],[68,6,47,4,"_cachedTimestampInSeconds"],[68,31,47,29],[70,2,49,0],[71,0,50,0],[72,0,51,0],[73,0,52,0],[74,0,53,0],[75,0,54,0],[76,0,55,0],[77,0,56,0],[78,0,57,0],[79,2,58,0],[79,11,58,9,"timestampInSeconds"],[79,29,58,27,"timestampInSeconds"],[79,30,58,27],[79,32,58,30],[80,4,59,2],[81,4,60,2],[81,8,60,8,"func"],[81,12,60,12],[81,15,60,15,"_cachedTimestampInSeconds"],[81,40,60,40],[81,45,60,45,"_cachedTimestampInSeconds"],[81,70,60,70],[81,73,60,73,"createUnixTimestampInSecondsFunc"],[81,105,60,105],[81,106,60,106],[81,107,60,107],[81,108,60,108],[82,4,61,2],[82,11,61,9,"func"],[82,15,61,13],[82,16,61,14],[82,17,61,15],[83,2,62,0],[85,2,64,0],[86,0,65,0],[87,0,66,0],[88,2,67,0],[88,6,67,4,"cachedTimeOrigin"],[88,22,67,20],[90,2,69,0],[91,0,70,0],[92,0,71,0],[93,2,72,0],[93,11,72,9,"getBrowserTimeOrigin"],[93,31,72,29,"getBrowserTimeOrigin"],[93,32,72,29],[93,34,72,32],[94,4,73,2],[95,4,74,2],[96,4,75,2],[98,4,77,2],[98,8,77,10,"performance"],[98,19,77,21],[98,22,77,26,"GLOBAL_OBJ"],[98,34,77,36],[98,35,77,36,"GLOBAL_OBJ"],[98,45,77,36],[98,46,77,10,"performance"],[98,57,77,21],[99,4,78,2],[99,8,78,6],[99,9,78,7,"performance"],[99,20,78,18],[99,22,78,20,"now"],[99,25,78,23],[99,27,78,25],[100,6,79,4],[100,13,79,11],[100,14,79,12,"undefined"],[100,23,79,21],[100,25,79,23],[100,31,79,29],[100,32,79,30],[101,4,80,2],[102,4,82,2],[102,8,82,8,"threshold"],[102,17,82,17],[102,27,82,31],[103,4,83,2],[103,8,83,8,"performanceNow"],[103,22,83,22],[103,25,83,25,"performance"],[103,36,83,36],[103,37,83,37,"now"],[103,40,83,40],[103,41,83,41],[103,42,83,42],[104,4,84,2],[104,8,84,8,"dateNow"],[104,15,84,15],[104,18,84,18,"Date"],[104,22,84,22],[104,23,84,23,"now"],[104,26,84,26],[104,27,84,27],[104,28,84,28],[106,4,86,2],[107,4,87,2],[107,8,87,8,"timeOriginDelta"],[107,23,87,23],[107,26,87,26,"performance"],[107,37,87,37],[107,38,87,38,"timeOrigin"],[107,48,87,48],[107,51,88,6,"Math"],[107,55,88,10],[107,56,88,11,"abs"],[107,59,88,14],[107,60,88,15,"performance"],[107,71,88,26],[107,72,88,27,"timeOrigin"],[107,82,88,37],[107,85,88,40,"performanceNow"],[107,99,88,54],[107,102,88,57,"dateNow"],[107,109,88,64],[107,110,88,65],[107,113,89,6,"threshold"],[107,122,89,15],[108,4,90,2],[108,8,90,8,"timeOriginIsReliable"],[108,28,90,28],[108,31,90,31,"timeOriginDelta"],[108,46,90,46],[108,49,90,49,"threshold"],[108,58,90,58],[110,4,92,2],[111,4,93,2],[112,4,94,2],[113,4,95,2],[114,4,96,2],[115,4,97,2],[116,4,98,2],[116,8,98,8,"navigationStart"],[116,23,98,23],[116,26,98,26,"performance"],[116,37,98,37],[116,38,98,38,"timing"],[116,44,98,44],[116,46,98,46,"navigationStart"],[116,61,98,61],[117,4,99,2],[117,8,99,8,"hasNavigationStart"],[117,26,99,26],[117,29,99,29],[117,36,99,36,"navigationStart"],[117,51,99,51],[117,56,99,56],[117,64,99,64],[118,4,100,2],[119,4,101,2],[119,8,101,8,"navigationStartDelta"],[119,28,101,28],[119,31,101,31,"hasNavigationStart"],[119,49,101,49],[119,52,101,52,"Math"],[119,56,101,56],[119,57,101,57,"abs"],[119,60,101,60],[119,61,101,61,"navigationStart"],[119,76,101,76],[119,79,101,79,"performanceNow"],[119,93,101,93],[119,96,101,96,"dateNow"],[119,103,101,103],[119,104,101,104],[119,107,101,107,"threshold"],[119,116,101,116],[120,4,102,2],[120,8,102,8,"navigationStartIsReliable"],[120,33,102,33],[120,36,102,36,"navigationStartDelta"],[120,56,102,56],[120,59,102,59,"threshold"],[120,68,102,68],[121,4,104,2],[121,8,104,6,"timeOriginIsReliable"],[121,28,104,26],[121,32,104,30,"navigationStartIsReliable"],[121,57,104,55],[121,59,104,57],[122,6,105,4],[123,6,106,4],[123,10,106,8,"timeOriginDelta"],[123,25,106,23],[123,29,106,27,"navigationStartDelta"],[123,49,106,47],[123,51,106,49],[124,8,107,6],[124,15,107,13],[124,16,107,14,"performance"],[124,27,107,25],[124,28,107,26,"timeOrigin"],[124,38,107,36],[124,40,107,38],[124,52,107,50],[124,53,107,51],[125,6,108,4],[125,7,108,5],[125,13,108,11],[126,8,109,6],[126,15,109,13],[126,16,109,14,"navigationStart"],[126,31,109,29],[126,33,109,31],[126,50,109,48],[126,51,109,49],[127,6,110,4],[128,4,111,2],[130,4,113,2],[131,4,114,2],[131,11,114,9],[131,12,114,10,"dateNow"],[131,19,114,17],[131,21,114,19],[131,30,114,28],[131,31,114,29],[132,2,115,0],[134,2,117,0],[135,0,118,0],[136,0,119,0],[137,0,120,0],[138,2,121,0],[138,11,121,9,"browserPerformanceTimeOrigin"],[138,39,121,37,"browserPerformanceTimeOrigin"],[138,40,121,37],[138,42,121,40],[139,4,122,2],[139,8,122,6],[139,9,122,7,"cachedTimeOrigin"],[139,25,122,23],[139,27,122,25],[140,6,123,4,"cachedTimeOrigin"],[140,22,123,20],[140,25,123,23,"getBrowserTimeOrigin"],[140,45,123,43],[140,46,123,44],[140,47,123,45],[141,4,124,2],[142,4,126,2],[142,11,126,9,"cachedTimeOrigin"],[142,27,126,25],[142,28,126,26],[142,29,126,27],[142,30,126,28],[143,2,127,0],[144,0,127,1],[144,3]],"functionMap":{"names":["<global>","dateTimestampInSeconds","createUnixTimestampInSecondsFunc","<anonymous>","timestampInSeconds","getBrowserTimeOrigin","browserPerformanceTimeOrigin"],"mappings":"AAA;ACY;CDE;AEQ;SCmB;GDE;CFC;AIa;CJI;AKU;CL2C;AMM;CNM"},"hasCjsExports":false},"type":"js/module"}]}