{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":126,"index":126}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"reportingObserverIntegration\", {\n    enumerable: true,\n    get: function () {\n      return reportingObserverIntegration;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var WINDOW = _sentryCore.GLOBAL_OBJ;\n  var INTEGRATION_NAME = 'ReportingObserver';\n  var SETUP_CLIENTS = new WeakMap();\n  var _reportingObserverIntegration = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var types = options.types || ['crash', 'deprecation', 'intervention'];\n\n    /** Handler for the reporting observer. */\n    function handler(reports) {\n      if (!SETUP_CLIENTS.has((0, _sentryCore.getClient)())) {\n        return;\n      }\n      var _loop = function (report) {\n        (0, _sentryCore.withScope)(scope => {\n          scope.setExtra('url', report.url);\n          var label = `ReportingObserver [${report.type}]`;\n          var details = 'No details available';\n          if (report.body) {\n            // Object.keys doesn't work on ReportBody, as all properties are inherited\n            var plainBody = {};\n\n            // eslint-disable-next-line guard-for-in\n            for (var prop in report.body) {\n              plainBody[prop] = report.body[prop];\n            }\n            scope.setExtra('body', plainBody);\n            if (report.type === 'crash') {\n              var body = report.body;\n              // A fancy way to create a message out of crashId OR reason OR both OR fallback\n              details = [body.crashId || '', body.reason || ''].join(' ').trim() || details;\n            } else {\n              var _body = report.body;\n              details = _body.message || details;\n            }\n          }\n          (0, _sentryCore.captureMessage)(`${label}: ${details}`);\n        });\n      };\n      for (var report of reports) {\n        _loop(report);\n      }\n    }\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce() {\n        if (!(0, _sentryCore.supportsReportingObserver)()) {\n          return;\n        }\n        var observer = new WINDOW.ReportingObserver(handler, {\n          buffered: true,\n          types\n        });\n        observer.observe();\n      },\n      setup(client) {\n        SETUP_CLIENTS.set(client, true);\n      }\n    };\n  };\n\n  /**\n   * Reporting API integration - https://w3c.github.io/reporting/\n   */\n  var reportingObserverIntegration = (0, _sentryCore.defineIntegration)(_reportingObserverIntegration);\n});","lineCount":78,"map":[[7,2,82,0,"Object"],[7,8,82,0],[7,9,82,0,"defineProperty"],[7,23,82,0],[7,24,82,0,"exports"],[7,31,82,0],[8,4,82,0,"enumerable"],[8,14,82,0],[9,4,82,0,"get"],[9,7,82,0],[9,18,82,0,"get"],[9,19,82,0],[10,6,82,0],[10,13,82,9,"reportingObserverIntegration"],[10,41,82,37],[11,4,82,37],[12,2,82,37],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,3,0],[14,6,3,6,"WINDOW"],[14,12,3,12],[14,15,3,15,"GLOBAL_OBJ"],[14,26,3,25],[14,27,3,25,"GLOBAL_OBJ"],[14,37,3,25],[15,2,5,0],[15,6,5,6,"INTEGRATION_NAME"],[15,22,5,22],[15,25,5,25],[15,44,5,44],[16,2,7,0],[16,6,7,6,"SETUP_CLIENTS"],[16,19,7,19],[16,22,7,22],[16,26,7,26,"WeakMap"],[16,33,7,33],[16,34,7,34],[16,35,7,35],[17,2,9,0],[17,6,9,6,"_reportingObserverIntegration"],[17,35,9,35],[17,38,9,39],[17,47,9,39,"_reportingObserverIntegration"],[17,48,9,39],[17,50,9,57],[18,4,9,57],[18,8,9,40,"options"],[18,15,9,47],[18,18,9,47,"arguments"],[18,27,9,47],[18,28,9,47,"length"],[18,34,9,47],[18,42,9,47,"arguments"],[18,51,9,47],[18,59,9,47,"undefined"],[18,68,9,47],[18,71,9,47,"arguments"],[18,80,9,47],[18,86,9,50],[18,87,9,51],[18,88,9,52],[19,4,10,2],[19,8,10,8,"types"],[19,13,10,13],[19,16,10,16,"options"],[19,23,10,23],[19,24,10,24,"types"],[19,29,10,29],[19,33,10,33],[19,34,10,34],[19,41,10,41],[19,43,10,43],[19,56,10,56],[19,58,10,58],[19,72,10,72],[19,73,10,73],[21,4,12,2],[22,4,13,2],[22,13,13,11,"handler"],[22,20,13,18,"handler"],[22,21,13,19,"reports"],[22,28,13,26],[22,30,13,28],[23,6,14,4],[23,10,14,8],[23,11,14,9,"SETUP_CLIENTS"],[23,24,14,22],[23,25,14,23,"has"],[23,28,14,26],[23,29,14,27],[23,33,14,27,"getClient"],[23,44,14,36],[23,45,14,36,"getClient"],[23,54,14,36],[23,56,14,37],[23,57,14,39],[23,58,14,40],[23,60,14,42],[24,8,15,6],[25,6,16,4],[26,6,16,5],[26,10,16,5,"_loop"],[26,15,16,5],[26,27,16,5,"_loop"],[26,28,16,5,"report"],[26,34,16,5],[26,36,18,34],[27,8,19,6],[27,12,19,6,"withScope"],[27,23,19,15],[27,24,19,15,"withScope"],[27,33,19,15],[27,35,19,16,"scope"],[27,40,19,21],[27,44,19,25],[28,10,20,8,"scope"],[28,15,20,13],[28,16,20,14,"setExtra"],[28,24,20,22],[28,25,20,23],[28,30,20,28],[28,32,20,30,"report"],[28,38,20,36],[28,39,20,37,"url"],[28,42,20,40],[28,43,20,41],[29,10,22,8],[29,14,22,14,"label"],[29,19,22,19],[29,22,22,22],[29,44,22,44,"report"],[29,50,22,50],[29,51,22,51,"type"],[29,55,22,55],[29,58,22,58],[30,10,23,8],[30,14,23,12,"details"],[30,21,23,19],[30,24,23,22],[30,46,23,44],[31,10,25,8],[31,14,25,12,"report"],[31,20,25,18],[31,21,25,19,"body"],[31,25,25,23],[31,27,25,25],[32,12,26,10],[33,12,27,10],[33,16,27,16,"plainBody"],[33,25,27,25],[33,28,29,3],[33,29,29,4],[33,30,29,5],[35,12,31,10],[36,12,32,10],[36,17,32,15],[36,21,32,21,"prop"],[36,25,32,25],[36,29,32,29,"report"],[36,35,32,35],[36,36,32,36,"body"],[36,40,32,40],[36,42,32,42],[37,14,33,12,"plainBody"],[37,23,33,21],[37,24,33,22,"prop"],[37,28,33,26],[37,29,33,27],[37,32,33,30,"report"],[37,38,33,36],[37,39,33,37,"body"],[37,43,33,41],[37,44,33,42,"prop"],[37,48,33,46],[37,49,33,47],[38,12,34,10],[39,12,36,10,"scope"],[39,17,36,15],[39,18,36,16,"setExtra"],[39,26,36,24],[39,27,36,25],[39,33,36,31],[39,35,36,33,"plainBody"],[39,44,36,42],[39,45,36,43],[40,12,38,10],[40,16,38,14,"report"],[40,22,38,20],[40,23,38,21,"type"],[40,27,38,25],[40,32,38,30],[40,39,38,37],[40,41,38,39],[41,14,39,12],[41,18,39,18,"body"],[41,22,39,22],[41,25,39,25,"report"],[41,31,39,31],[41,32,39,32,"body"],[41,36,39,36],[42,14,40,12],[43,14,41,12,"details"],[43,21,41,19],[43,24,41,22],[43,25,41,23,"body"],[43,29,41,27],[43,30,41,28,"crashId"],[43,37,41,35],[43,41,41,39],[43,43,41,41],[43,45,41,43,"body"],[43,49,41,47],[43,50,41,48,"reason"],[43,56,41,54],[43,60,41,58],[43,62,41,60],[43,63,41,61],[43,64,41,62,"join"],[43,68,41,66],[43,69,41,67],[43,72,41,70],[43,73,41,71],[43,74,41,72,"trim"],[43,78,41,76],[43,79,41,77],[43,80,41,78],[43,84,41,82,"details"],[43,91,41,89],[44,12,42,10],[44,13,42,11],[44,19,42,17],[45,14,43,12],[45,18,43,18,"body"],[45,23,43,22],[45,26,43,25,"report"],[45,32,43,31],[45,33,43,32,"body"],[45,37,43,36],[46,14,44,12,"details"],[46,21,44,19],[46,24,44,22,"body"],[46,29,44,26],[46,30,44,27,"message"],[46,37,44,34],[46,41,44,38,"details"],[46,48,44,45],[47,12,45,10],[48,10,46,8],[49,10,48,8],[49,14,48,8,"captureMessage"],[49,25,48,22],[49,26,48,22,"captureMessage"],[49,40,48,22],[49,42,48,23],[49,45,48,26,"label"],[49,50,48,31],[49,55,48,36,"details"],[49,62,48,43],[49,64,48,45],[49,65,48,46],[50,8,49,6],[50,9,49,7],[50,10,49,8],[51,6,50,4],[51,7,50,5],[52,6,18,4],[52,11,18,9],[52,15,18,15,"report"],[52,21,18,21],[52,25,18,25,"reports"],[52,32,18,32],[53,8,18,32,"_loop"],[53,13,18,32],[53,14,18,32,"report"],[53,20,18,32],[54,6,18,32],[55,4,51,2],[56,4,53,2],[56,11,53,9],[57,6,54,4,"name"],[57,10,54,8],[57,12,54,10,"INTEGRATION_NAME"],[57,28,54,26],[58,6,55,4,"setupOnce"],[58,15,55,13,"setupOnce"],[58,16,55,13],[58,18,55,16],[59,8,56,6],[59,12,56,10],[59,13,56,11],[59,17,56,11,"supportsReportingObserver"],[59,28,56,36],[59,29,56,36,"supportsReportingObserver"],[59,54,56,36],[59,56,56,37],[59,57,56,38],[59,59,56,40],[60,10,57,8],[61,8,58,6],[62,8,60,6],[62,12,60,12,"observer"],[62,20,60,20],[62,23,60,23],[62,27,60,28,"WINDOW"],[62,33,60,34],[62,34,60,37,"ReportingObserver"],[62,51,60,54],[62,52,61,8,"handler"],[62,59,61,15],[62,61,62,8],[63,10,63,10,"buffered"],[63,18,63,18],[63,20,63,20],[63,24,63,24],[64,10,64,10,"types"],[65,8,65,8],[65,9,66,6],[65,10,66,7],[66,8,68,6,"observer"],[66,16,68,14],[66,17,68,15,"observe"],[66,24,68,22],[66,25,68,23],[66,26,68,24],[67,6,69,4],[67,7,69,5],[68,6,71,4,"setup"],[68,11,71,9,"setup"],[68,12,71,10,"client"],[68,18,71,16],[68,20,71,18],[69,8,72,6,"SETUP_CLIENTS"],[69,21,72,19],[69,22,72,20,"set"],[69,25,72,23],[69,26,72,24,"client"],[69,32,72,30],[69,34,72,32],[69,38,72,36],[69,39,72,37],[70,6,73,4],[71,4,74,2],[71,5,74,3],[72,2,75,0],[72,3,75,2],[74,2,77,0],[75,0,78,0],[76,0,79,0],[77,2,80,0],[77,6,80,6,"reportingObserverIntegration"],[77,34,80,34],[77,37,80,37],[77,41,80,37,"defineIntegration"],[77,52,80,54],[77,53,80,54,"defineIntegration"],[77,70,80,54],[77,72,80,55,"_reportingObserverIntegration"],[77,101,80,84],[77,102,80,85],[78,0,80,86],[78,3]],"functionMap":{"names":["<global>","_reportingObserverIntegration","handler","withScope$argument_0","setupOnce","setup"],"mappings":"AAA;uCCQ;ECI;gBCM;OD8B;GDE;IGI;KHc;IIE;KJE;CDE"},"hasCjsExports":false},"type":"js/module"}]}