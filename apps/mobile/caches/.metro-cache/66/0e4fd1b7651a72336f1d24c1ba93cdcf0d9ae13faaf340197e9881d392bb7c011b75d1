{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.formatTime = formatTime;\n  exports.formatDurationMs = formatDurationMs;\n  exports.tryParseJson = tryParseJson;\n  exports.getDateInvite = getDateInvite;\n  exports.formatReviewLine = formatReviewLine;\n  exports.getReplyPreview = getReplyPreview;\n  function formatTime(timestamp) {\n    var date = new Date(timestamp);\n    return date.toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  }\n  function formatDurationMs(ms) {\n    var n = Number(ms);\n    if (!Number.isFinite(n) || n <= 0) return \"0:00\";\n    var totalSeconds = Math.floor(n / 1000);\n    var mins = Math.floor(totalSeconds / 60);\n    var secs = totalSeconds % 60;\n    return `${mins}:${String(secs).padStart(2, \"0\")}`;\n  }\n  function tryParseJson(text) {\n    try {\n      if (!text) return null;\n      var s = String(text);\n      if (!s.startsWith(\"{\")) return null;\n      return JSON.parse(s);\n    } catch {\n      return null;\n    }\n  }\n  function getDateInvite(message) {\n    var parsed = tryParseJson(message?.message_text);\n    if (!parsed || typeof parsed !== \"object\") return null;\n    if (parsed.type !== \"date_invite\") return null;\n    if (!parsed.date || typeof parsed.date !== \"object\") return null;\n    return parsed;\n  }\n  function formatReviewLine(_ref) {\n    var rating = _ref.rating,\n      ratingsTotal = _ref.ratingsTotal;\n    var r = Number(rating);\n    var n = Number(ratingsTotal);\n    var hasRating = Number.isFinite(r);\n    var hasCount = Number.isFinite(n) && n > 0;\n    if (!hasRating && !hasCount) return null;\n    var ratingText = hasRating ? r.toFixed(1) : null;\n    var countText = hasCount ? `${n.toLocaleString()} reviews` : null;\n    if (ratingText && countText) return `${ratingText} • ${countText}`;\n    if (ratingText) return ratingText;\n    return countText;\n  }\n  function getReplyPreview(message) {\n    var hasReply = message?.replied_to_message_id != null || message?.reply_message_text != null || message?.reply_audio_url != null;\n    if (!hasReply) return null;\n    var type = String(message?.reply_message_type || \"TEXT\").toUpperCase();\n    var hasAudio = type === \"AUDIO\" || Boolean(message?.reply_audio_url);\n    if (hasAudio) {\n      return \"Voice memo\";\n    }\n    var txt = String(message?.reply_message_text || \"\").trim();\n    if (!txt) return \"Message\";\n    return txt.length > 80 ? `${txt.slice(0, 80)}…` : txt;\n  }\n});","lineCount":71,"map":[[7,2,1,0,"exports"],[7,9,1,0],[7,10,1,0,"formatTime"],[7,20,1,0],[7,23,1,0,"formatTime"],[7,33,1,0],[8,2,6,0,"exports"],[8,9,6,0],[8,10,6,0,"formatDurationMs"],[8,26,6,0],[8,29,6,0,"formatDurationMs"],[8,45,6,0],[9,2,15,0,"exports"],[9,9,15,0],[9,10,15,0,"tryParseJson"],[9,22,15,0],[9,25,15,0,"tryParseJson"],[9,37,15,0],[10,2,26,0,"exports"],[10,9,26,0],[10,10,26,0,"getDateInvite"],[10,23,26,0],[10,26,26,0,"getDateInvite"],[10,39,26,0],[11,2,34,0,"exports"],[11,9,34,0],[11,10,34,0,"formatReviewLine"],[11,26,34,0],[11,29,34,0,"formatReviewLine"],[11,45,34,0],[12,2,51,0,"exports"],[12,9,51,0],[12,10,51,0,"getReplyPreview"],[12,25,51,0],[12,28,51,0,"getReplyPreview"],[12,43,51,0],[13,2,1,7],[13,11,1,16,"formatTime"],[13,21,1,26,"formatTime"],[13,22,1,27,"timestamp"],[13,31,1,36],[13,33,1,38],[14,4,2,2],[14,8,2,8,"date"],[14,12,2,12],[14,15,2,15],[14,19,2,19,"Date"],[14,23,2,23],[14,24,2,24,"timestamp"],[14,33,2,33],[14,34,2,34],[15,4,3,2],[15,11,3,9,"date"],[15,15,3,13],[15,16,3,14,"toLocaleTimeString"],[15,34,3,32],[15,35,3,33],[15,37,3,35],[15,39,3,37],[16,6,3,39,"hour"],[16,10,3,43],[16,12,3,45],[16,21,3,54],[17,6,3,56,"minute"],[17,12,3,62],[17,14,3,64],[18,4,3,74],[18,5,3,75],[18,6,3,76],[19,2,4,0],[20,2,6,7],[20,11,6,16,"formatDurationMs"],[20,27,6,32,"formatDurationMs"],[20,28,6,33,"ms"],[20,30,6,35],[20,32,6,37],[21,4,7,2],[21,8,7,8,"n"],[21,9,7,9],[21,12,7,12,"Number"],[21,18,7,18],[21,19,7,19,"ms"],[21,21,7,21],[21,22,7,22],[22,4,8,2],[22,8,8,6],[22,9,8,7,"Number"],[22,15,8,13],[22,16,8,14,"isFinite"],[22,24,8,22],[22,25,8,23,"n"],[22,26,8,24],[22,27,8,25],[22,31,8,29,"n"],[22,32,8,30],[22,36,8,34],[22,37,8,35],[22,39,8,37],[22,46,8,44],[22,52,8,50],[23,4,9,2],[23,8,9,8,"totalSeconds"],[23,20,9,20],[23,23,9,23,"Math"],[23,27,9,27],[23,28,9,28,"floor"],[23,33,9,33],[23,34,9,34,"n"],[23,35,9,35],[23,38,9,38],[23,42,9,42],[23,43,9,43],[24,4,10,2],[24,8,10,8,"mins"],[24,12,10,12],[24,15,10,15,"Math"],[24,19,10,19],[24,20,10,20,"floor"],[24,25,10,25],[24,26,10,26,"totalSeconds"],[24,38,10,38],[24,41,10,41],[24,43,10,43],[24,44,10,44],[25,4,11,2],[25,8,11,8,"secs"],[25,12,11,12],[25,15,11,15,"totalSeconds"],[25,27,11,27],[25,30,11,30],[25,32,11,32],[26,4,12,2],[26,11,12,9],[26,14,12,12,"mins"],[26,18,12,16],[26,22,12,20,"String"],[26,28,12,26],[26,29,12,27,"secs"],[26,33,12,31],[26,34,12,32],[26,35,12,33,"padStart"],[26,43,12,41],[26,44,12,42],[26,45,12,43],[26,47,12,45],[26,50,12,48],[26,51,12,49],[26,53,12,51],[27,2,13,0],[28,2,15,7],[28,11,15,16,"tryParseJson"],[28,23,15,28,"tryParseJson"],[28,24,15,29,"text"],[28,28,15,33],[28,30,15,35],[29,4,16,2],[29,8,16,6],[30,6,17,4],[30,10,17,8],[30,11,17,9,"text"],[30,15,17,13],[30,17,17,15],[30,24,17,22],[30,28,17,26],[31,6,18,4],[31,10,18,10,"s"],[31,11,18,11],[31,14,18,14,"String"],[31,20,18,20],[31,21,18,21,"text"],[31,25,18,25],[31,26,18,26],[32,6,19,4],[32,10,19,8],[32,11,19,9,"s"],[32,12,19,10],[32,13,19,11,"startsWith"],[32,23,19,21],[32,24,19,22],[32,27,19,25],[32,28,19,26],[32,30,19,28],[32,37,19,35],[32,41,19,39],[33,6,20,4],[33,13,20,11,"JSON"],[33,17,20,15],[33,18,20,16,"parse"],[33,23,20,21],[33,24,20,22,"s"],[33,25,20,23],[33,26,20,24],[34,4,21,2],[34,5,21,3],[34,6,21,4],[34,12,21,10],[35,6,22,4],[35,13,22,11],[35,17,22,15],[36,4,23,2],[37,2,24,0],[38,2,26,7],[38,11,26,16,"getDateInvite"],[38,24,26,29,"getDateInvite"],[38,25,26,30,"message"],[38,32,26,37],[38,34,26,39],[39,4,27,2],[39,8,27,8,"parsed"],[39,14,27,14],[39,17,27,17,"tryParseJson"],[39,29,27,29],[39,30,27,30,"message"],[39,37,27,37],[39,39,27,39,"message_text"],[39,51,27,51],[39,52,27,52],[40,4,28,2],[40,8,28,6],[40,9,28,7,"parsed"],[40,15,28,13],[40,19,28,17],[40,26,28,24,"parsed"],[40,32,28,30],[40,37,28,35],[40,45,28,43],[40,47,28,45],[40,54,28,52],[40,58,28,56],[41,4,29,2],[41,8,29,6,"parsed"],[41,14,29,12],[41,15,29,13,"type"],[41,19,29,17],[41,24,29,22],[41,37,29,35],[41,39,29,37],[41,46,29,44],[41,50,29,48],[42,4,30,2],[42,8,30,6],[42,9,30,7,"parsed"],[42,15,30,13],[42,16,30,14,"date"],[42,20,30,18],[42,24,30,22],[42,31,30,29,"parsed"],[42,37,30,35],[42,38,30,36,"date"],[42,42,30,40],[42,47,30,45],[42,55,30,53],[42,57,30,55],[42,64,30,62],[42,68,30,66],[43,4,31,2],[43,11,31,9,"parsed"],[43,17,31,15],[44,2,32,0],[45,2,34,7],[45,11,34,16,"formatReviewLine"],[45,27,34,32,"formatReviewLine"],[45,28,34,32,"_ref"],[45,32,34,32],[45,34,34,59],[46,4,34,59],[46,8,34,35,"rating"],[46,14,34,41],[46,17,34,41,"_ref"],[46,21,34,41],[46,22,34,35,"rating"],[46,28,34,41],[47,6,34,43,"ratingsTotal"],[47,18,34,55],[47,21,34,55,"_ref"],[47,25,34,55],[47,26,34,43,"ratingsTotal"],[47,38,34,55],[48,4,35,2],[48,8,35,8,"r"],[48,9,35,9],[48,12,35,12,"Number"],[48,18,35,18],[48,19,35,19,"rating"],[48,25,35,25],[48,26,35,26],[49,4,36,2],[49,8,36,8,"n"],[49,9,36,9],[49,12,36,12,"Number"],[49,18,36,18],[49,19,36,19,"ratingsTotal"],[49,31,36,31],[49,32,36,32],[50,4,38,2],[50,8,38,8,"hasRating"],[50,17,38,17],[50,20,38,20,"Number"],[50,26,38,26],[50,27,38,27,"isFinite"],[50,35,38,35],[50,36,38,36,"r"],[50,37,38,37],[50,38,38,38],[51,4,39,2],[51,8,39,8,"hasCount"],[51,16,39,16],[51,19,39,19,"Number"],[51,25,39,25],[51,26,39,26,"isFinite"],[51,34,39,34],[51,35,39,35,"n"],[51,36,39,36],[51,37,39,37],[51,41,39,41,"n"],[51,42,39,42],[51,45,39,45],[51,46,39,46],[52,4,41,2],[52,8,41,6],[52,9,41,7,"hasRating"],[52,18,41,16],[52,22,41,20],[52,23,41,21,"hasCount"],[52,31,41,29],[52,33,41,31],[52,40,41,38],[52,44,41,42],[53,4,43,2],[53,8,43,8,"ratingText"],[53,18,43,18],[53,21,43,21,"hasRating"],[53,30,43,30],[53,33,43,33,"r"],[53,34,43,34],[53,35,43,35,"toFixed"],[53,42,43,42],[53,43,43,43],[53,44,43,44],[53,45,43,45],[53,48,43,48],[53,52,43,52],[54,4,44,2],[54,8,44,8,"countText"],[54,17,44,17],[54,20,44,20,"hasCount"],[54,28,44,28],[54,31,44,31],[54,34,44,34,"n"],[54,35,44,35],[54,36,44,36,"toLocaleString"],[54,50,44,50],[54,51,44,51],[54,52,44,52],[54,62,44,62],[54,65,44,65],[54,69,44,69],[55,4,46,2],[55,8,46,6,"ratingText"],[55,18,46,16],[55,22,46,20,"countText"],[55,31,46,29],[55,33,46,31],[55,40,46,38],[55,43,46,41,"ratingText"],[55,53,46,51],[55,59,46,57,"countText"],[55,68,46,66],[55,70,46,68],[56,4,47,2],[56,8,47,6,"ratingText"],[56,18,47,16],[56,20,47,18],[56,27,47,25,"ratingText"],[56,37,47,35],[57,4,48,2],[57,11,48,9,"countText"],[57,20,48,18],[58,2,49,0],[59,2,51,7],[59,11,51,16,"getReplyPreview"],[59,26,51,31,"getReplyPreview"],[59,27,51,32,"message"],[59,34,51,39],[59,36,51,41],[60,4,52,2],[60,8,52,8,"hasReply"],[60,16,52,16],[60,19,53,4,"message"],[60,26,53,11],[60,28,53,13,"replied_to_message_id"],[60,49,53,34],[60,53,53,38],[60,57,53,42],[60,61,54,4,"message"],[60,68,54,11],[60,70,54,13,"reply_message_text"],[60,88,54,31],[60,92,54,35],[60,96,54,39],[60,100,55,4,"message"],[60,107,55,11],[60,109,55,13,"reply_audio_url"],[60,124,55,28],[60,128,55,32],[60,132,55,36],[61,4,57,2],[61,8,57,6],[61,9,57,7,"hasReply"],[61,17,57,15],[61,19,57,17],[61,26,57,24],[61,30,57,28],[62,4,59,2],[62,8,59,8,"type"],[62,12,59,12],[62,15,59,15,"String"],[62,21,59,21],[62,22,59,22,"message"],[62,29,59,29],[62,31,59,31,"reply_message_type"],[62,49,59,49],[62,53,59,53],[62,59,59,59],[62,60,59,60],[62,61,59,61,"toUpperCase"],[62,72,59,72],[62,73,59,73],[62,74,59,74],[63,4,60,2],[63,8,60,8,"hasAudio"],[63,16,60,16],[63,19,60,19,"type"],[63,23,60,23],[63,28,60,28],[63,35,60,35],[63,39,60,39,"Boolean"],[63,46,60,46],[63,47,60,47,"message"],[63,54,60,54],[63,56,60,56,"reply_audio_url"],[63,71,60,71],[63,72,60,72],[64,4,62,2],[64,8,62,6,"hasAudio"],[64,16,62,14],[64,18,62,16],[65,6,63,4],[65,13,63,11],[65,25,63,23],[66,4,64,2],[67,4,66,2],[67,8,66,8,"txt"],[67,11,66,11],[67,14,66,14,"String"],[67,20,66,20],[67,21,66,21,"message"],[67,28,66,28],[67,30,66,30,"reply_message_text"],[67,48,66,48],[67,52,66,52],[67,54,66,54],[67,55,66,55],[67,56,66,56,"trim"],[67,60,66,60],[67,61,66,61],[67,62,66,62],[68,4,67,2],[68,8,67,6],[68,9,67,7,"txt"],[68,12,67,10],[68,14,67,12],[68,21,67,19],[68,30,67,28],[69,4,68,2],[69,11,68,9,"txt"],[69,14,68,12],[69,15,68,13,"length"],[69,21,68,19],[69,24,68,22],[69,26,68,24],[69,29,68,27],[69,32,68,30,"txt"],[69,35,68,33],[69,36,68,34,"slice"],[69,41,68,39],[69,42,68,40],[69,43,68,41],[69,45,68,43],[69,47,68,45],[69,48,68,46],[69,51,68,49],[69,54,68,52,"txt"],[69,57,68,55],[70,2,69,0],[71,0,69,1],[71,3]],"functionMap":{"names":["<global>","formatTime","formatDurationMs","tryParseJson","getDateInvite","formatReviewLine","getReplyPreview"],"mappings":"AAA,OC;CDG;OEE;CFO;OGE;CHS;OIE;CJM;OKE;CLe;OME;CNkB"},"hasCjsExports":false},"type":"js/module"}]}