{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"expo-image","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":40,"index":86}}],"key":"CQoyA5YM/c4OP0f72LFtbvLyNOo=","exportNames":["*"],"imports":1}},{"name":"buffer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":87},"end":{"line":3,"column":32,"index":119}}],"key":"L2R9OUI0/cSYwzijo34ce4VujKY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":120},"end":{"line":4,"column":84,"index":204}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":40,"index":245}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}},{"name":"../../src/__create/placeholder.svg","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":82,"column":26,"index":3457},"end":{"line":82,"column":71,"index":3502}}],"key":"VGqtlkvPulfL5vWHCbv1d5dLI0E=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"Image\", {\n    enumerable: true,\n    get: function () {\n      return Image;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _expoImage = require(_dependencyMap[1]);\n  Object.keys(_expoImage).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _expoImage[k];\n        }\n      });\n    }\n  });\n  var ExpoImage = _interopNamespace(_expoImage);\n  var _buffer = require(_dependencyMap[2]);\n  var _react = require(_dependencyMap[3]);\n  require(_dependencyMap[4]);\n  var _reactJsxRuntime = require(_dependencyMap[5]);\n  function computeSourceKey(src) {\n    if (Array.isArray(src)) return src.map(computeSourceKey).join('|');\n    if (typeof src === 'number') return String(src); // require('./img.png')\n    if (typeof src === 'string') return src; // remote on web\n    if (src && typeof src === 'object' && 'uri' in src) return src.uri ?? '';\n    return '';\n  }\n  var WrappedImage = /*#__PURE__*/(0, _react.forwardRef)(function WrappedImage(props, ref) {\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      fallbackSource = _useState2[0],\n      setFallbackSource = _useState2[1];\n    var source = props.source;\n    var onError = props.onError;\n    var style = props.style;\n    var currentKey = computeSourceKey(props.source);\n    var prevKeyRef = (0, _react.useRef)(currentKey);\n    (0, _react.useEffect)(() => {\n      if (prevKeyRef.current !== currentKey) {\n        // parent really pointed to a different image: clear any old fallback\n        setFallbackSource(null);\n        prevKeyRef.current = currentKey;\n      }\n    }, [currentKey]);\n    var handleError = (0, _react.useCallback)(e => {\n      onError?.(e);\n\n      /* already swapped or dealing with a multi‑src array */\n      if (fallbackSource || Array.isArray(source)) return;\n\n      // prevent it from recursing\n      if (source && typeof source === 'object' && 'uri' in source && source?.uri?.startsWith('data:')) {\n        return;\n      }\n      /* try to infer a sensible grid size */\n      var finalStyle = Array.isArray(style) ? Object.assign({}, ...style) : style;\n      var width = finalStyle?.width ?? 128;\n      var height = finalStyle?.height ?? 128;\n      {\n        setFallbackSource(require(_dependencyMap[6]));\n      }\n    }, [source, fallbackSource, onError, style]);\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(ExpoImage.Image, {\n      ...props,\n      source: fallbackSource ?? source,\n      ref: ref,\n      onError: handleError\n    });\n  });\n\n  /* expose static helpers so nothing breaks */\n  Object.assign(WrappedImage, ExpoImage);\n\n  /* re‑export everything that expo-image provides */\n\n  var Image = WrappedImage;\n  var _default = Image;\n});","lineCount":114,"map":[[27,2,99,0,"Object"],[27,8,99,0],[27,9,99,0,"defineProperty"],[27,23,99,0],[27,24,99,0,"exports"],[27,31,99,0],[28,4,99,0,"enumerable"],[28,14,99,0],[29,4,99,0,"get"],[29,7,99,0],[29,18,99,0,"get"],[29,19,99,0],[30,6,99,0],[30,13,99,0,"_default"],[30,21,99,0],[31,4,99,0],[32,2,99,0],[33,2,98,0,"Object"],[33,8,98,0],[33,9,98,0,"defineProperty"],[33,23,98,0],[33,24,98,0,"exports"],[33,31,98,0],[34,4,98,0,"enumerable"],[34,14,98,0],[35,4,98,0,"get"],[35,7,98,0],[35,18,98,0,"get"],[35,19,98,0],[36,6,98,0],[36,13,98,0,"Image"],[36,18,98,0],[37,4,98,0],[38,2,98,0],[39,2,98,34],[39,6,98,34,"_babelRuntimeHelpersSlicedToArray"],[39,39,98,34],[39,42,98,34,"require"],[39,49,98,34],[39,50,98,34,"_dependencyMap"],[39,64,98,34],[40,2,98,34],[40,6,98,34,"_slicedToArray"],[40,20,98,34],[40,23,98,34,"_interopDefault"],[40,38,98,34],[40,39,98,34,"_babelRuntimeHelpersSlicedToArray"],[40,72,98,34],[41,2,2,0],[41,6,2,0,"_expoImage"],[41,16,2,0],[41,19,2,0,"require"],[41,26,2,0],[41,27,2,0,"_dependencyMap"],[41,41,2,0],[42,2,97,0,"Object"],[42,8,97,0],[42,9,97,0,"keys"],[42,13,97,0],[42,14,97,0,"_expoImage"],[42,24,97,0],[42,26,97,0,"forEach"],[42,33,97,0],[42,44,97,0,"k"],[42,45,97,0],[43,4,97,0],[43,8,97,0,"k"],[43,9,97,0],[43,28,97,0,"Object"],[43,34,97,0],[43,35,97,0,"prototype"],[43,44,97,0],[43,45,97,0,"hasOwnProperty"],[43,59,97,0],[43,60,97,0,"call"],[43,64,97,0],[43,65,97,0,"exports"],[43,72,97,0],[43,74,97,0,"k"],[43,75,97,0],[44,6,97,0,"Object"],[44,12,97,0],[44,13,97,0,"defineProperty"],[44,27,97,0],[44,28,97,0,"exports"],[44,35,97,0],[44,37,97,0,"k"],[44,38,97,0],[45,8,97,0,"enumerable"],[45,18,97,0],[46,8,97,0,"get"],[46,11,97,0],[46,22,97,0,"get"],[46,23,97,0],[47,10,97,0],[47,17,97,0,"_expoImage"],[47,27,97,0],[47,28,97,0,"k"],[47,29,97,0],[48,8,97,0],[49,6,97,0],[50,4,97,0],[51,2,97,0],[52,2,2,0],[52,6,2,0,"ExpoImage"],[52,15,2,0],[52,18,2,0,"_interopNamespace"],[52,35,2,0],[52,36,2,0,"_expoImage"],[52,46,2,0],[53,2,3,0],[53,6,3,0,"_buffer"],[53,13,3,0],[53,16,3,0,"require"],[53,23,3,0],[53,24,3,0,"_dependencyMap"],[53,38,3,0],[54,2,4,0],[54,6,4,0,"_react"],[54,12,4,0],[54,15,4,0,"require"],[54,22,4,0],[54,23,4,0,"_dependencyMap"],[54,37,4,0],[55,2,5,0,"require"],[55,9,5,0],[55,10,5,0,"_dependencyMap"],[55,24,5,0],[56,2,5,40],[56,6,5,40,"_reactJsxRuntime"],[56,22,5,40],[56,25,5,40,"require"],[56,32,5,40],[56,33,5,40,"_dependencyMap"],[56,47,5,40],[57,2,35,0],[57,11,35,9,"computeSourceKey"],[57,27,35,25,"computeSourceKey"],[57,28,35,26,"src"],[57,31,35,34],[57,33,35,44],[58,4,36,2],[58,8,36,6,"Array"],[58,13,36,11],[58,14,36,12,"isArray"],[58,21,36,19],[58,22,36,20,"src"],[58,25,36,23],[58,26,36,24],[58,28,36,26],[58,35,36,33,"src"],[58,38,36,36],[58,39,36,37,"map"],[58,42,36,40],[58,43,36,41,"computeSourceKey"],[58,59,36,57],[58,60,36,58],[58,61,36,59,"join"],[58,65,36,63],[58,66,36,64],[58,69,36,67],[58,70,36,68],[59,4,37,2],[59,8,37,6],[59,15,37,13,"src"],[59,18,37,16],[59,23,37,21],[59,31,37,29],[59,33,37,31],[59,40,37,38,"String"],[59,46,37,44],[59,47,37,45,"src"],[59,50,37,48],[59,51,37,49],[59,52,37,50],[59,53,37,51],[60,4,38,2],[60,8,38,6],[60,15,38,13,"src"],[60,18,38,16],[60,23,38,21],[60,31,38,29],[60,33,38,31],[60,40,38,38,"src"],[60,43,38,41],[60,44,38,42],[60,45,38,43],[61,4,39,2],[61,8,39,6,"src"],[61,11,39,9],[61,15,39,13],[61,22,39,20,"src"],[61,25,39,23],[61,30,39,28],[61,38,39,36],[61,42,39,40],[61,47,39,45],[61,51,39,49,"src"],[61,54,39,52],[61,56,39,54],[61,63,39,61,"src"],[61,66,39,64],[61,67,39,65,"uri"],[61,70,39,68],[61,74,39,72],[61,76,39,74],[62,4,40,2],[62,11,40,9],[62,13,40,11],[63,2,41,0],[64,2,43,0],[64,6,43,6,"WrappedImage"],[64,18,43,18],[64,34,43,21],[64,38,43,21,"forwardRef"],[64,44,43,31],[64,45,43,31,"forwardRef"],[64,55,43,31],[64,57,43,61],[64,66,43,70,"WrappedImage"],[64,78,43,82,"WrappedImage"],[64,79,43,83,"props"],[64,84,43,88],[64,86,43,90,"ref"],[64,89,43,93],[64,91,43,95],[65,4,44,2],[65,8,44,2,"_useState"],[65,17,44,2],[65,20,44,46],[65,24,44,46,"useState"],[65,30,44,54],[65,31,44,54,"useState"],[65,39,44,54],[65,41,44,67],[65,45,44,71],[65,46,44,72],[66,6,44,72,"_useState2"],[66,16,44,72],[66,23,44,72,"_slicedToArray"],[66,37,44,72],[66,38,44,72,"default"],[66,45,44,72],[66,47,44,72,"_useState"],[66,56,44,72],[67,6,44,9,"fallbackSource"],[67,20,44,23],[67,23,44,23,"_useState2"],[67,33,44,23],[68,6,44,25,"setFallbackSource"],[68,23,44,42],[68,26,44,42,"_useState2"],[68,36,44,42],[69,4,45,2],[69,8,45,8,"source"],[69,14,45,14],[69,17,45,17,"props"],[69,22,45,22],[69,23,45,23,"source"],[69,29,45,29],[70,4,46,2],[70,8,46,8,"onError"],[70,15,46,15],[70,18,46,18,"props"],[70,23,46,23],[70,24,46,24,"onError"],[70,31,46,31],[71,4,47,2],[71,8,47,8,"style"],[71,13,47,13],[71,16,47,16,"props"],[71,21,47,21],[71,22,47,22,"style"],[71,27,47,27],[72,4,48,2],[72,8,48,8,"currentKey"],[72,18,48,18],[72,21,48,21,"computeSourceKey"],[72,37,48,37],[72,38,48,38,"props"],[72,43,48,43],[72,44,48,44,"source"],[72,50,48,50],[72,51,48,51],[73,4,49,2],[73,8,49,8,"prevKeyRef"],[73,18,49,18],[73,21,49,21],[73,25,49,21,"useRef"],[73,31,49,27],[73,32,49,27,"useRef"],[73,38,49,27],[73,40,49,28,"currentKey"],[73,50,49,38],[73,51,49,39],[74,4,51,2],[74,8,51,2,"useEffect"],[74,14,51,11],[74,15,51,11,"useEffect"],[74,24,51,11],[74,26,51,12],[74,32,51,18],[75,6,52,4],[75,10,52,8,"prevKeyRef"],[75,20,52,18],[75,21,52,19,"current"],[75,28,52,26],[75,33,52,31,"currentKey"],[75,43,52,41],[75,45,52,43],[76,8,53,6],[77,8,54,6,"setFallbackSource"],[77,25,54,23],[77,26,54,24],[77,30,54,28],[77,31,54,29],[78,8,55,6,"prevKeyRef"],[78,18,55,16],[78,19,55,17,"current"],[78,26,55,24],[78,29,55,27,"currentKey"],[78,39,55,37],[79,6,56,4],[80,4,57,2],[80,5,57,3],[80,7,57,5],[80,8,57,6,"currentKey"],[80,18,57,16],[80,19,57,17],[80,20,57,18],[81,4,58,2],[81,8,58,8,"handleError"],[81,19,58,42],[81,22,58,45],[81,26,58,45,"useCallback"],[81,32,58,56],[81,33,58,56,"useCallback"],[81,44,58,56],[81,46,59,5,"e"],[81,47,59,37],[81,51,59,42],[82,6,60,6,"onError"],[82,13,60,13],[82,16,60,16,"e"],[82,17,60,17],[82,18,60,18],[84,6,62,6],[85,6,63,6],[85,10,63,10,"fallbackSource"],[85,24,63,24],[85,28,63,28,"Array"],[85,33,63,33],[85,34,63,34,"isArray"],[85,41,63,41],[85,42,63,42,"source"],[85,48,63,48],[85,49,63,49],[85,51,63,51],[87,6,65,6],[88,6,66,6],[88,10,67,8,"source"],[88,16,67,14],[88,20,68,8],[88,27,68,15,"source"],[88,33,68,21],[88,38,68,26],[88,46,68,34],[88,50,69,8],[88,55,69,13],[88,59,69,17,"source"],[88,65,69,23],[88,69,70,8,"source"],[88,75,70,14],[88,77,70,16,"uri"],[88,80,70,19],[88,82,70,21,"startsWith"],[88,92,70,31],[88,93,70,32],[88,100,70,39],[88,101,70,40],[88,103,71,8],[89,8,72,8],[90,6,73,6],[91,6,74,6],[92,6,75,6],[92,10,75,12,"finalStyle"],[92,20,75,22],[92,23,75,25,"Array"],[92,28,75,30],[92,29,75,31,"isArray"],[92,36,75,38],[92,37,75,39,"style"],[92,42,75,44],[92,43,75,45],[92,46,75,48,"Object"],[92,52,75,54],[92,53,75,55,"assign"],[92,59,75,61],[92,60,75,62],[92,61,75,63],[92,62,75,64],[92,64,75,66],[92,67,75,69,"style"],[92,72,75,74],[92,73,75,75],[92,76,75,78,"style"],[92,81,75,83],[93,6,76,6],[93,10,76,12,"width"],[93,15,76,17],[93,18,76,20,"finalStyle"],[93,28,76,30],[93,30,76,32,"width"],[93,35,76,37],[93,39,76,41],[93,42,76,44],[94,6,77,6],[94,10,77,12,"height"],[94,16,77,18],[94,19,77,21,"finalStyle"],[94,29,77,31],[94,31,77,33,"height"],[94,37,77,39],[94,41,77,43],[94,44,77,46],[95,6,81,13],[96,8,82,8,"setFallbackSource"],[96,25,82,25],[96,26,82,26,"require"],[96,33,82,33],[96,34,82,33,"_dependencyMap"],[96,48,82,33],[96,51,82,70],[96,52,82,71],[96,53,82,72],[97,6,83,6],[98,4,84,4],[98,5,84,5],[98,7,85,4],[98,8,85,5,"source"],[98,14,85,11],[98,16,85,13,"fallbackSource"],[98,30,85,27],[98,32,85,29,"onError"],[98,39,85,36],[98,41,85,38,"style"],[98,46,85,43],[98,47,86,2],[98,48,86,3],[99,4,88,2],[99,24,89,4],[99,28,89,4,"_reactJsxRuntime"],[99,44,89,4],[99,45,89,4,"jsx"],[99,48,89,4],[99,50,89,5,"ExpoImage"],[99,59,89,14],[99,60,89,15,"Image"],[99,65,89,20],[100,6,89,20],[100,9,89,25,"props"],[100,14,89,30],[101,6,89,32,"source"],[101,12,89,38],[101,14,89,40,"fallbackSource"],[101,28,89,54],[101,32,89,58,"source"],[101,38,89,65],[102,6,89,66,"ref"],[102,9,89,69],[102,11,89,71,"ref"],[102,14,89,75],[103,6,89,76,"onError"],[103,13,89,83],[103,15,89,85,"handleError"],[104,4,89,97],[104,5,89,99],[104,6,89,100],[105,2,91,0],[105,3,91,1],[105,4,91,2],[107,2,93,0],[108,2,94,0,"Object"],[108,8,94,6],[108,9,94,7,"assign"],[108,15,94,13],[108,16,94,14,"WrappedImage"],[108,28,94,26],[108,30,94,28,"ExpoImage"],[108,39,94,37],[108,40,94,38],[110,2,96,0],[112,2,98,7],[112,6,98,13,"Image"],[112,11,98,18],[112,14,98,21,"WrappedImage"],[112,26,98,33],[113,2,99,0],[113,6,99,0,"_default"],[113,14,99,0],[113,17,99,15,"Image"],[113,22,99,20],[114,0,99,21],[114,3]],"functionMap":{"names":["<global>","buildGridPlaceholder","computeSourceKey","WrappedImage","useEffect$argument_0","handleError"],"mappings":"AAA;ACM;CDyB;AEG;CFM;6DGE;YCQ;GDM;IEE;KFyB;CHO"},"hasCjsExports":false},"type":"js/module"}]}