{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":37,"index":83}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":47,"index":131}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"@/utils/dateCreditsHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":7,"column":36,"index":230}}],"key":"oRWBdvQUhGiyZ/vbJNT/hHj85Fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useDateCreditsActions = useDateCreditsActions;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _reactNativePurchases = require(_dependencyMap[3], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _utilsDateCreditsHelpers = require(_dependencyMap[4], \"@/utils/dateCreditsHelpers\");\n  function useDateCreditsActions(_ref) {\n    _s();\n    var userId = _ref.userId,\n      setUserId = _ref.setUserId,\n      jwt = _ref.jwt,\n      tier = _ref.tier,\n      matchIdParam = _ref.matchIdParam,\n      returnToParam = _ref.returnToParam,\n      router = _ref.router,\n      refresh = _ref.refresh,\n      credits = _ref.credits,\n      setCredits = _ref.setCredits,\n      maxCredits = _ref.maxCredits,\n      setMaxCredits = _ref.setMaxCredits,\n      balanceCents = _ref.balanceCents,\n      setBalanceCents = _ref.setBalanceCents,\n      isDevRuntime = _ref.isDevRuntime;\n    var stockedUp = (0, _react.useMemo)(() => {\n      var c = Number(credits || 0);\n      var m = Number(maxCredits || 0);\n      if (!Number.isFinite(c) || !Number.isFinite(m)) return false;\n      if (m <= 0) return false;\n      return c >= m;\n    }, [credits, maxCredits]);\n    var goBack = (0, _react.useCallback)(function () {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var next = returnToParam;\n      var purchaseStateRaw = opts?.purchaseState;\n      var purchaseState = purchaseStateRaw != null ? String(purchaseStateRaw).trim() : \"\";\n\n      // Add a nonce so the Messages screen can reliably refresh credits/matches\n      var refreshNonce = String(Date.now());\n      var appendParam = (url, key, value) => {\n        var joiner = url.includes(\"?\") ? \"&\" : \"?\";\n        return `${url}${joiner}${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      };\n      next = appendParam(next, \"creditsRefresh\", refreshNonce);\n      if (purchaseState) {\n        next = appendParam(next, \"purchaseState\", purchaseState);\n      }\n      if (matchIdParam) {\n        var isMessagesList = String(returnToParam || \"\").split(\"?\")[0] === \"/messages\";\n        if (isMessagesList) {\n          next = appendParam(next, \"matchId\", matchIdParam);\n        }\n      }\n      router.replace(next);\n    }, [matchIdParam, returnToParam, router]);\n\n    // NEW: link the RevenueCat app user id (often $RCAnonymousID:...) to our numeric user id.\n    // This makes the webhook able to credit the right wallet reliably.\n    var linkRevenueCatToUser = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (uid) {\n        var idNum = Number(uid);\n        var hasJwt = jwt && typeof jwt === \"string\";\n        if (!Number.isFinite(idNum) && !hasJwt) return;\n        try {\n          var info = yield Purchases.default.getCustomerInfo();\n          var candidates = [info?.appUserID, info?.appUserId, info?.originalAppUserId, info?.originalAppUserID].map(v => v != null ? String(v).trim() : \"\").filter(Boolean);\n\n          // De-dupe\n          var uniq = Array.from(new Set(candidates));\n          if (!uniq.length) return;\n          var headers = {\n            \"Content-Type\": \"application/json\"\n          };\n          if (hasJwt) {\n            headers.Authorization = `Bearer ${jwt}`;\n          }\n\n          // v2 API: can link multiple app user ids in one request.\n          yield fetch(\"/api/revenuecat/link\", {\n            method: \"POST\",\n            headers,\n            body: JSON.stringify({\n              userId: Number.isFinite(idNum) ? idNum : undefined,\n              appUserIds: uniq\n            })\n          }).catch(() => null);\n        } catch (e) {\n          // Not fatal â€” purchases can still work; this just improves webhook mapping.\n          console.error(e);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [jwt]);\n    var devGrantOneCredit = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!isDevRuntime) {\n        _reactNative.Alert.alert(\"Not available\", \"This is only available in development.\");\n        return {\n          ok: false,\n          skipped: true\n        };\n      }\n      if (!userId) {\n        _reactNative.Alert.alert(\"Sign in\", \"Please sign in again.\");\n        return {\n          ok: false,\n          error: \"Missing userId\"\n        };\n      }\n      try {\n        var resp = yield fetch(\"/api/dev/date-credits/grant\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            userId: Number(userId),\n            amountCents: 3000\n          })\n        });\n        if (!resp.ok) {\n          var text = yield resp.text().catch(() => \"\");\n          throw new Error(`Dev grant failed: [${resp.status}] ${resp.statusText} ${text}`);\n        }\n        yield refresh(userId);\n        return {\n          ok: true\n        };\n      } catch (e) {\n        console.error(e);\n        _reactNative.Alert.alert(\"Error\", \"Could not add a dev credit.\");\n        return {\n          ok: false,\n          error: e?.message || \"Dev grant failed\"\n        };\n      }\n    }), [isDevRuntime, refresh, userId]);\n    var claimCreditFromClient = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (_ref4) {\n        var transactionId = _ref4.transactionId,\n          productId = _ref4.productId;\n        // IMPORTANT:\n        // We require *some* auth token here so the backend can map the claim to a user.\n        // This can be either:\n        // - Web auth JWT (NextAuth) OR\n        // - OTP apiJwt (issued by /api/auth/otp/verify)\n        if (!jwt || typeof jwt !== \"string\") {\n          return {\n            ok: false,\n            skipped: true\n          };\n        }\n        var resp = yield fetch(\"/api/date-credits/claim\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${jwt}`\n          },\n          body: JSON.stringify({\n            transactionId,\n            productId\n          })\n        });\n        var json = yield resp.json().catch(() => null);\n        if (!resp.ok) {\n          throw new Error(json?.error || `Claim failed (${resp.status})`);\n        }\n\n        // If claim ensured a new legacy user id, adopt it.\n        var resolvedUserId = Number(json?.userId);\n        if (Number.isFinite(resolvedUserId)) {\n          setUserId(resolvedUserId);\n          var existing = (yield (0, _utilsDateCreditsHelpers.safeReadUserFromStorage)()) || {};\n          yield (0, _utilsDateCreditsHelpers.safeWriteUserToStorage)({\n            ...existing,\n            id: resolvedUserId\n          });\n        }\n\n        // NEW: apply returned wallet status immediately so the UI can unblock\n        // even if the next status poll is slow.\n        var nextCredits = Number(json?.credits);\n        var nextMaxCredits = Number(json?.maxCredits);\n        var nextBalance = Number(json?.balanceCents);\n        if (Number.isFinite(nextCredits)) setCredits(nextCredits);\n        if (Number.isFinite(nextMaxCredits)) setMaxCredits(nextMaxCredits);\n        if (Number.isFinite(nextBalance)) setBalanceCents(nextBalance);\n        return {\n          ok: true,\n          response: json\n        };\n      });\n      return function (_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }(), [jwt, setUserId, setCredits, setMaxCredits, setBalanceCents]);\n    return {\n      stockedUp,\n      goBack,\n      linkRevenueCatToUser,\n      devGrantOneCredit,\n      claimCreditFromClient\n    };\n  }\n  _s(useDateCreditsActions, \"gXzS1EJYh/4qQfg6asELwJyTlEQ=\");\n});","lineCount":220,"map":[[13,2,9,0,"exports"],[13,9,9,0],[13,10,9,0,"useDateCreditsActions"],[13,31,9,0],[13,34,9,0,"useDateCreditsActions"],[13,55,9,0],[14,2,202,1],[14,6,202,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,202,1],[14,45,202,1,"require"],[14,52,202,1],[14,53,202,1,"_dependencyMap"],[14,67,202,1],[15,2,202,1],[15,6,202,1,"_asyncToGenerator"],[15,23,202,1],[15,26,202,1,"_interopDefault"],[15,41,202,1],[15,42,202,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,202,1],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_reactNative"],[17,18,2,0],[17,21,2,0,"require"],[17,28,2,0],[17,29,2,0,"_dependencyMap"],[17,43,2,0],[18,2,3,0],[18,6,3,0,"_reactNativePurchases"],[18,27,3,0],[18,30,3,0,"require"],[18,37,3,0],[18,38,3,0,"_dependencyMap"],[18,52,3,0],[19,2,3,0],[19,6,3,0,"Purchases"],[19,15,3,0],[19,18,3,0,"_interopDefault"],[19,33,3,0],[19,34,3,0,"_reactNativePurchases"],[19,55,3,0],[20,2,4,0],[20,6,4,0,"_utilsDateCreditsHelpers"],[20,30,4,0],[20,33,4,0,"require"],[20,40,4,0],[20,41,4,0,"_dependencyMap"],[20,55,4,0],[21,2,9,7],[21,11,9,16,"useDateCreditsActions"],[21,32,9,37,"useDateCreditsActions"],[21,33,9,37,"_ref"],[21,37,9,37],[21,39,25,3],[22,4,25,3,"_s"],[22,6,25,3],[23,4,25,3],[23,8,10,2,"userId"],[23,14,10,8],[23,17,10,8,"_ref"],[23,21,10,8],[23,22,10,2,"userId"],[23,28,10,8],[24,6,11,2,"setUserId"],[24,15,11,11],[24,18,11,11,"_ref"],[24,22,11,11],[24,23,11,2,"setUserId"],[24,32,11,11],[25,6,12,2,"jwt"],[25,9,12,5],[25,12,12,5,"_ref"],[25,16,12,5],[25,17,12,2,"jwt"],[25,20,12,5],[26,6,13,2,"tier"],[26,10,13,6],[26,13,13,6,"_ref"],[26,17,13,6],[26,18,13,2,"tier"],[26,22,13,6],[27,6,14,2,"matchIdParam"],[27,18,14,14],[27,21,14,14,"_ref"],[27,25,14,14],[27,26,14,2,"matchIdParam"],[27,38,14,14],[28,6,15,2,"returnToParam"],[28,19,15,15],[28,22,15,15,"_ref"],[28,26,15,15],[28,27,15,2,"returnToParam"],[28,40,15,15],[29,6,16,2,"router"],[29,12,16,8],[29,15,16,8,"_ref"],[29,19,16,8],[29,20,16,2,"router"],[29,26,16,8],[30,6,17,2,"refresh"],[30,13,17,9],[30,16,17,9,"_ref"],[30,20,17,9],[30,21,17,2,"refresh"],[30,28,17,9],[31,6,18,2,"credits"],[31,13,18,9],[31,16,18,9,"_ref"],[31,20,18,9],[31,21,18,2,"credits"],[31,28,18,9],[32,6,19,2,"setCredits"],[32,16,19,12],[32,19,19,12,"_ref"],[32,23,19,12],[32,24,19,2,"setCredits"],[32,34,19,12],[33,6,20,2,"maxCredits"],[33,16,20,12],[33,19,20,12,"_ref"],[33,23,20,12],[33,24,20,2,"maxCredits"],[33,34,20,12],[34,6,21,2,"setMaxCredits"],[34,19,21,15],[34,22,21,15,"_ref"],[34,26,21,15],[34,27,21,2,"setMaxCredits"],[34,40,21,15],[35,6,22,2,"balanceCents"],[35,18,22,14],[35,21,22,14,"_ref"],[35,25,22,14],[35,26,22,2,"balanceCents"],[35,38,22,14],[36,6,23,2,"setBalanceCents"],[36,21,23,17],[36,24,23,17,"_ref"],[36,28,23,17],[36,29,23,2,"setBalanceCents"],[36,44,23,17],[37,6,24,2,"isDevRuntime"],[37,18,24,14],[37,21,24,14,"_ref"],[37,25,24,14],[37,26,24,2,"isDevRuntime"],[37,38,24,14],[38,4,26,2],[38,8,26,8,"stockedUp"],[38,17,26,17],[38,20,26,20],[38,24,26,20,"useMemo"],[38,30,26,27],[38,31,26,27,"useMemo"],[38,38,26,27],[38,40,26,28],[38,46,26,34],[39,6,27,4],[39,10,27,10,"c"],[39,11,27,11],[39,14,27,14,"Number"],[39,20,27,20],[39,21,27,21,"credits"],[39,28,27,28],[39,32,27,32],[39,33,27,33],[39,34,27,34],[40,6,28,4],[40,10,28,10,"m"],[40,11,28,11],[40,14,28,14,"Number"],[40,20,28,20],[40,21,28,21,"maxCredits"],[40,31,28,31],[40,35,28,35],[40,36,28,36],[40,37,28,37],[41,6,29,4],[41,10,29,8],[41,11,29,9,"Number"],[41,17,29,15],[41,18,29,16,"isFinite"],[41,26,29,24],[41,27,29,25,"c"],[41,28,29,26],[41,29,29,27],[41,33,29,31],[41,34,29,32,"Number"],[41,40,29,38],[41,41,29,39,"isFinite"],[41,49,29,47],[41,50,29,48,"m"],[41,51,29,49],[41,52,29,50],[41,54,29,52],[41,61,29,59],[41,66,29,64],[42,6,30,4],[42,10,30,8,"m"],[42,11,30,9],[42,15,30,13],[42,16,30,14],[42,18,30,16],[42,25,30,23],[42,30,30,28],[43,6,31,4],[43,13,31,11,"c"],[43,14,31,12],[43,18,31,16,"m"],[43,19,31,17],[44,4,32,2],[44,5,32,3],[44,7,32,5],[44,8,32,6,"credits"],[44,15,32,13],[44,17,32,15,"maxCredits"],[44,27,32,25],[44,28,32,26],[44,29,32,27],[45,4,34,2],[45,8,34,8,"goBack"],[45,14,34,14],[45,17,34,17],[45,21,34,17,"useCallback"],[45,27,34,28],[45,28,34,28,"useCallback"],[45,39,34,28],[45,41,35,4],[45,53,35,19],[46,6,35,19],[46,10,35,5,"opts"],[46,14,35,9],[46,17,35,9,"arguments"],[46,26,35,9],[46,27,35,9,"length"],[46,33,35,9],[46,41,35,9,"arguments"],[46,50,35,9],[46,58,35,9,"undefined"],[46,67,35,9],[46,70,35,9,"arguments"],[46,79,35,9],[46,85,35,12],[46,86,35,13],[46,87,35,14],[47,6,36,6],[47,10,36,10,"next"],[47,14,36,14],[47,17,36,17,"returnToParam"],[47,30,36,30],[48,6,38,6],[48,10,38,12,"purchaseStateRaw"],[48,26,38,28],[48,29,38,31,"opts"],[48,33,38,35],[48,35,38,37,"purchaseState"],[48,48,38,50],[49,6,39,6],[49,10,39,12,"purchaseState"],[49,23,39,25],[49,26,40,8,"purchaseStateRaw"],[49,42,40,24],[49,46,40,28],[49,50,40,32],[49,53,40,35,"String"],[49,59,40,41],[49,60,40,42,"purchaseStateRaw"],[49,76,40,58],[49,77,40,59],[49,78,40,60,"trim"],[49,82,40,64],[49,83,40,65],[49,84,40,66],[49,87,40,69],[49,89,40,71],[51,6,42,6],[52,6,43,6],[52,10,43,12,"refreshNonce"],[52,22,43,24],[52,25,43,27,"String"],[52,31,43,33],[52,32,43,34,"Date"],[52,36,43,38],[52,37,43,39,"now"],[52,40,43,42],[52,41,43,43],[52,42,43,44],[52,43,43,45],[53,6,45,6],[53,10,45,12,"appendParam"],[53,21,45,23],[53,24,45,26,"appendParam"],[53,25,45,27,"url"],[53,28,45,30],[53,30,45,32,"key"],[53,33,45,35],[53,35,45,37,"value"],[53,40,45,42],[53,45,45,47],[54,8,46,8],[54,12,46,14,"joiner"],[54,18,46,20],[54,21,46,23,"url"],[54,24,46,26],[54,25,46,27,"includes"],[54,33,46,35],[54,34,46,36],[54,37,46,39],[54,38,46,40],[54,41,46,43],[54,44,46,46],[54,47,46,49],[54,50,46,52],[55,8,47,8],[55,15,47,15],[55,18,47,18,"url"],[55,21,47,21],[55,24,47,24,"joiner"],[55,30,47,30],[55,33,47,33,"encodeURIComponent"],[55,51,47,51],[55,52,47,52,"key"],[55,55,47,55],[55,56,47,56],[55,60,47,60,"encodeURIComponent"],[55,78,47,78],[55,79,47,79,"value"],[55,84,47,84],[55,85,47,85],[55,87,47,87],[56,6,48,6],[56,7,48,7],[57,6,50,6,"next"],[57,10,50,10],[57,13,50,13,"appendParam"],[57,24,50,24],[57,25,50,25,"next"],[57,29,50,29],[57,31,50,31],[57,47,50,47],[57,49,50,49,"refreshNonce"],[57,61,50,61],[57,62,50,62],[58,6,52,6],[58,10,52,10,"purchaseState"],[58,23,52,23],[58,25,52,25],[59,8,53,8,"next"],[59,12,53,12],[59,15,53,15,"appendParam"],[59,26,53,26],[59,27,53,27,"next"],[59,31,53,31],[59,33,53,33],[59,48,53,48],[59,50,53,50,"purchaseState"],[59,63,53,63],[59,64,53,64],[60,6,54,6],[61,6,56,6],[61,10,56,10,"matchIdParam"],[61,22,56,22],[61,24,56,24],[62,8,57,8],[62,12,57,14,"isMessagesList"],[62,26,57,28],[62,29,58,10,"String"],[62,35,58,16],[62,36,58,17,"returnToParam"],[62,49,58,30],[62,53,58,34],[62,55,58,36],[62,56,58,37],[62,57,58,38,"split"],[62,62,58,43],[62,63,58,44],[62,66,58,47],[62,67,58,48],[62,68,58,49],[62,69,58,50],[62,70,58,51],[62,75,58,56],[62,86,58,67],[63,8,59,8],[63,12,59,12,"isMessagesList"],[63,26,59,26],[63,28,59,28],[64,10,60,10,"next"],[64,14,60,14],[64,17,60,17,"appendParam"],[64,28,60,28],[64,29,60,29,"next"],[64,33,60,33],[64,35,60,35],[64,44,60,44],[64,46,60,46,"matchIdParam"],[64,58,60,58],[64,59,60,59],[65,8,61,8],[66,6,62,6],[67,6,64,6,"router"],[67,12,64,12],[67,13,64,13,"replace"],[67,20,64,20],[67,21,64,21,"next"],[67,25,64,25],[67,26,64,26],[68,4,65,4],[68,5,65,5],[68,7,66,4],[68,8,66,5,"matchIdParam"],[68,20,66,17],[68,22,66,19,"returnToParam"],[68,35,66,32],[68,37,66,34,"router"],[68,43,66,40],[68,44,67,2],[68,45,67,3],[70,4,69,2],[71,4,70,2],[72,4,71,2],[72,8,71,8,"linkRevenueCatToUser"],[72,28,71,28],[72,31,71,31],[72,35,71,31,"useCallback"],[72,41,71,42],[72,42,71,42,"useCallback"],[72,53,71,42],[73,6,71,42],[73,10,71,42,"_ref2"],[73,15,71,42],[73,22,71,42,"_asyncToGenerator"],[73,39,71,42],[73,40,71,42,"default"],[73,47,71,42],[73,49,72,4],[73,60,72,11,"uid"],[73,63,72,14],[73,65,72,19],[74,8,73,6],[74,12,73,12,"idNum"],[74,17,73,17],[74,20,73,20,"Number"],[74,26,73,26],[74,27,73,27,"uid"],[74,30,73,30],[74,31,73,31],[75,8,74,6],[75,12,74,12,"hasJwt"],[75,18,74,18],[75,21,74,21,"jwt"],[75,24,74,24],[75,28,74,28],[75,35,74,35,"jwt"],[75,38,74,38],[75,43,74,43],[75,51,74,51],[76,8,75,6],[76,12,75,10],[76,13,75,11,"Number"],[76,19,75,17],[76,20,75,18,"isFinite"],[76,28,75,26],[76,29,75,27,"idNum"],[76,34,75,32],[76,35,75,33],[76,39,75,37],[76,40,75,38,"hasJwt"],[76,46,75,44],[76,48,75,46],[77,8,77,6],[77,12,77,10],[78,10,78,8],[78,14,78,14,"info"],[78,18,78,18],[78,27,78,27,"Purchases"],[78,36,78,36],[78,37,78,36,"default"],[78,44,78,36],[78,45,78,37,"getCustomerInfo"],[78,60,78,52],[78,61,78,53],[78,62,78,54],[79,10,79,8],[79,14,79,14,"candidates"],[79,24,79,24],[79,27,79,27],[79,28,80,10,"info"],[79,32,80,14],[79,34,80,16,"appUserID"],[79,43,80,25],[79,45,81,10,"info"],[79,49,81,14],[79,51,81,16,"appUserId"],[79,60,81,25],[79,62,82,10,"info"],[79,66,82,14],[79,68,82,16,"originalAppUserId"],[79,85,82,33],[79,87,83,10,"info"],[79,91,83,14],[79,93,83,16,"originalAppUserID"],[79,110,83,33],[79,111,84,9],[79,112,85,11,"map"],[79,115,85,14],[79,116,85,16,"v"],[79,117,85,17],[79,121,85,23,"v"],[79,122,85,24],[79,126,85,28],[79,130,85,32],[79,133,85,35,"String"],[79,139,85,41],[79,140,85,42,"v"],[79,141,85,43],[79,142,85,44],[79,143,85,45,"trim"],[79,147,85,49],[79,148,85,50],[79,149,85,51],[79,152,85,54],[79,154,85,57],[79,155,85,58],[79,156,86,11,"filter"],[79,162,86,17],[79,163,86,18,"Boolean"],[79,170,86,25],[79,171,86,26],[81,10,88,8],[82,10,89,8],[82,14,89,14,"uniq"],[82,18,89,18],[82,21,89,21,"Array"],[82,26,89,26],[82,27,89,27,"from"],[82,31,89,31],[82,32,89,32],[82,36,89,36,"Set"],[82,39,89,39],[82,40,89,40,"candidates"],[82,50,89,50],[82,51,89,51],[82,52,89,52],[83,10,90,8],[83,14,90,12],[83,15,90,13,"uniq"],[83,19,90,17],[83,20,90,18,"length"],[83,26,90,24],[83,28,90,26],[84,10,92,8],[84,14,92,14,"headers"],[84,21,92,21],[84,24,92,24],[85,12,92,26],[85,26,92,40],[85,28,92,42],[86,10,92,61],[86,11,92,62],[87,10,93,8],[87,14,93,12,"hasJwt"],[87,20,93,18],[87,22,93,20],[88,12,94,10,"headers"],[88,19,94,17],[88,20,94,18,"Authorization"],[88,33,94,31],[88,36,94,34],[88,46,94,44,"jwt"],[88,49,94,47],[88,51,94,49],[89,10,95,8],[91,10,97,8],[92,10,98,8],[92,16,98,14,"fetch"],[92,21,98,19],[92,22,98,20],[92,44,98,42],[92,46,98,44],[93,12,99,10,"method"],[93,18,99,16],[93,20,99,18],[93,26,99,24],[94,12,100,10,"headers"],[94,19,100,17],[95,12,101,10,"body"],[95,16,101,14],[95,18,101,16,"JSON"],[95,22,101,20],[95,23,101,21,"stringify"],[95,32,101,30],[95,33,101,31],[96,14,102,12,"userId"],[96,20,102,18],[96,22,102,20,"Number"],[96,28,102,26],[96,29,102,27,"isFinite"],[96,37,102,35],[96,38,102,36,"idNum"],[96,43,102,41],[96,44,102,42],[96,47,102,45,"idNum"],[96,52,102,50],[96,55,102,53,"undefined"],[96,64,102,62],[97,14,103,12,"appUserIds"],[97,24,103,22],[97,26,103,24,"uniq"],[98,12,104,10],[98,13,104,11],[99,10,105,8],[99,11,105,9],[99,12,105,10],[99,13,105,11,"catch"],[99,18,105,16],[99,19,105,17],[99,25,105,23],[99,29,105,27],[99,30,105,28],[100,8,106,6],[100,9,106,7],[100,10,106,8],[100,17,106,15,"e"],[100,18,106,16],[100,20,106,18],[101,10,107,8],[102,10,108,8,"console"],[102,17,108,15],[102,18,108,16,"error"],[102,23,108,21],[102,24,108,22,"e"],[102,25,108,23],[102,26,108,24],[103,8,109,6],[104,6,110,4],[104,7,110,5],[105,6,110,5],[105,23,110,5,"_x"],[105,25,110,5],[106,8,110,5],[106,15,110,5,"_ref2"],[106,20,110,5],[106,21,110,5,"apply"],[106,26,110,5],[106,33,110,5,"arguments"],[106,42,110,5],[107,6,110,5],[108,4,110,5],[108,9,111,4],[108,10,111,5,"jwt"],[108,13,111,8],[108,14,112,2],[108,15,112,3],[109,4,114,2],[109,8,114,8,"devGrantOneCredit"],[109,25,114,25],[109,28,114,28],[109,32,114,28,"useCallback"],[109,38,114,39],[109,39,114,39,"useCallback"],[109,50,114,39],[109,69,114,39,"_asyncToGenerator"],[109,86,114,39],[109,87,114,39,"default"],[109,94,114,39],[109,96,114,40],[109,109,114,52],[110,6,115,4],[110,10,115,8],[110,11,115,9,"isDevRuntime"],[110,23,115,21],[110,25,115,23],[111,8,116,6,"Alert"],[111,20,116,11],[111,21,116,11,"Alert"],[111,26,116,11],[111,27,116,12,"alert"],[111,32,116,17],[111,33,116,18],[111,48,116,33],[111,50,116,35],[111,90,116,75],[111,91,116,76],[112,8,117,6],[112,15,117,13],[113,10,117,15,"ok"],[113,12,117,17],[113,14,117,19],[113,19,117,24],[114,10,117,26,"skipped"],[114,17,117,33],[114,19,117,35],[115,8,117,40],[115,9,117,41],[116,6,118,4],[117,6,120,4],[117,10,120,8],[117,11,120,9,"userId"],[117,17,120,15],[117,19,120,17],[118,8,121,6,"Alert"],[118,20,121,11],[118,21,121,11,"Alert"],[118,26,121,11],[118,27,121,12,"alert"],[118,32,121,17],[118,33,121,18],[118,42,121,27],[118,44,121,29],[118,67,121,52],[118,68,121,53],[119,8,122,6],[119,15,122,13],[120,10,122,15,"ok"],[120,12,122,17],[120,14,122,19],[120,19,122,24],[121,10,122,26,"error"],[121,15,122,31],[121,17,122,33],[122,8,122,50],[122,9,122,51],[123,6,123,4],[124,6,125,4],[124,10,125,8],[125,8,126,6],[125,12,126,12,"resp"],[125,16,126,16],[125,25,126,25,"fetch"],[125,30,126,30],[125,31,126,31],[125,60,126,60],[125,62,126,62],[126,10,127,8,"method"],[126,16,127,14],[126,18,127,16],[126,24,127,22],[127,10,128,8,"headers"],[127,17,128,15],[127,19,128,17],[128,12,128,19],[128,26,128,33],[128,28,128,35],[129,10,128,54],[129,11,128,55],[130,10,129,8,"body"],[130,14,129,12],[130,16,129,14,"JSON"],[130,20,129,18],[130,21,129,19,"stringify"],[130,30,129,28],[130,31,129,29],[131,12,129,31,"userId"],[131,18,129,37],[131,20,129,39,"Number"],[131,26,129,45],[131,27,129,46,"userId"],[131,33,129,52],[131,34,129,53],[132,12,129,55,"amountCents"],[132,23,129,66],[132,25,129,68],[133,10,129,73],[133,11,129,74],[134,8,130,6],[134,9,130,7],[134,10,130,8],[135,8,132,6],[135,12,132,10],[135,13,132,11,"resp"],[135,17,132,15],[135,18,132,16,"ok"],[135,20,132,18],[135,22,132,20],[136,10,133,8],[136,14,133,14,"text"],[136,18,133,18],[136,27,133,27,"resp"],[136,31,133,31],[136,32,133,32,"text"],[136,36,133,36],[136,37,133,37],[136,38,133,38],[136,39,133,39,"catch"],[136,44,133,44],[136,45,133,45],[136,51,133,51],[136,53,133,53],[136,54,133,54],[137,10,134,8],[137,16,134,14],[137,20,134,18,"Error"],[137,25,134,23],[137,26,135,10],[137,48,135,32,"resp"],[137,52,135,36],[137,53,135,37,"status"],[137,59,135,43],[137,64,135,48,"resp"],[137,68,135,52],[137,69,135,53,"statusText"],[137,79,135,63],[137,83,135,67,"text"],[137,87,135,71],[137,89,136,8],[137,90,136,9],[138,8,137,6],[139,8,139,6],[139,14,139,12,"refresh"],[139,21,139,19],[139,22,139,20,"userId"],[139,28,139,26],[139,29,139,27],[140,8,140,6],[140,15,140,13],[141,10,140,15,"ok"],[141,12,140,17],[141,14,140,19],[142,8,140,24],[142,9,140,25],[143,6,141,4],[143,7,141,5],[143,8,141,6],[143,15,141,13,"e"],[143,16,141,14],[143,18,141,16],[144,8,142,6,"console"],[144,15,142,13],[144,16,142,14,"error"],[144,21,142,19],[144,22,142,20,"e"],[144,23,142,21],[144,24,142,22],[145,8,143,6,"Alert"],[145,20,143,11],[145,21,143,11,"Alert"],[145,26,143,11],[145,27,143,12,"alert"],[145,32,143,17],[145,33,143,18],[145,40,143,25],[145,42,143,27],[145,71,143,56],[145,72,143,57],[146,8,144,6],[146,15,144,13],[147,10,144,15,"ok"],[147,12,144,17],[147,14,144,19],[147,19,144,24],[148,10,144,26,"error"],[148,15,144,31],[148,17,144,33,"e"],[148,18,144,34],[148,20,144,36,"message"],[148,27,144,43],[148,31,144,47],[149,8,144,66],[149,9,144,67],[150,6,145,4],[151,4,146,2],[151,5,146,3],[151,8,146,5],[151,9,146,6,"isDevRuntime"],[151,21,146,18],[151,23,146,20,"refresh"],[151,30,146,27],[151,32,146,29,"userId"],[151,38,146,35],[151,39,146,36],[151,40,146,37],[152,4,148,2],[152,8,148,8,"claimCreditFromClient"],[152,29,148,29],[152,32,148,32],[152,36,148,32,"useCallback"],[152,42,148,43],[152,43,148,43,"useCallback"],[152,54,148,43],[153,6,148,43],[153,10,148,43,"_ref5"],[153,15,148,43],[153,22,148,43,"_asyncToGenerator"],[153,39,148,43],[153,40,148,43,"default"],[153,47,148,43],[153,49,149,4],[153,60,149,4,"_ref4"],[153,65,149,4],[153,67,149,44],[154,8,149,44],[154,12,149,13,"transactionId"],[154,25,149,26],[154,28,149,26,"_ref4"],[154,33,149,26],[154,34,149,13,"transactionId"],[154,47,149,26],[155,10,149,28,"productId"],[155,19,149,37],[155,22,149,37,"_ref4"],[155,27,149,37],[155,28,149,28,"productId"],[155,37,149,37],[156,8,150,6],[157,8,151,6],[158,8,152,6],[159,8,153,6],[160,8,154,6],[161,8,155,6],[161,12,155,10],[161,13,155,11,"jwt"],[161,16,155,14],[161,20,155,18],[161,27,155,25,"jwt"],[161,30,155,28],[161,35,155,33],[161,43,155,41],[161,45,155,43],[162,10,156,8],[162,17,156,15],[163,12,156,17,"ok"],[163,14,156,19],[163,16,156,21],[163,21,156,26],[164,12,156,28,"skipped"],[164,19,156,35],[164,21,156,37],[165,10,156,42],[165,11,156,43],[166,8,157,6],[167,8,159,6],[167,12,159,12,"resp"],[167,16,159,16],[167,25,159,25,"fetch"],[167,30,159,30],[167,31,159,31],[167,56,159,56],[167,58,159,58],[168,10,160,8,"method"],[168,16,160,14],[168,18,160,16],[168,24,160,22],[169,10,161,8,"headers"],[169,17,161,15],[169,19,161,17],[170,12,162,10],[170,26,162,24],[170,28,162,26],[170,46,162,44],[171,12,163,10,"Authorization"],[171,25,163,23],[171,27,163,25],[171,37,163,35,"jwt"],[171,40,163,38],[172,10,164,8],[172,11,164,9],[173,10,165,8,"body"],[173,14,165,12],[173,16,165,14,"JSON"],[173,20,165,18],[173,21,165,19,"stringify"],[173,30,165,28],[173,31,165,29],[174,12,165,31,"transactionId"],[174,25,165,44],[175,12,165,46,"productId"],[176,10,165,56],[176,11,165,57],[177,8,166,6],[177,9,166,7],[177,10,166,8],[178,8,168,6],[178,12,168,12,"json"],[178,16,168,16],[178,25,168,25,"resp"],[178,29,168,29],[178,30,168,30,"json"],[178,34,168,34],[178,35,168,35],[178,36,168,36],[178,37,168,37,"catch"],[178,42,168,42],[178,43,168,43],[178,49,168,49],[178,53,168,53],[178,54,168,54],[179,8,169,6],[179,12,169,10],[179,13,169,11,"resp"],[179,17,169,15],[179,18,169,16,"ok"],[179,20,169,18],[179,22,169,20],[180,10,170,8],[180,16,170,14],[180,20,170,18,"Error"],[180,25,170,23],[180,26,170,24,"json"],[180,30,170,28],[180,32,170,30,"error"],[180,37,170,35],[180,41,170,39],[180,58,170,56,"resp"],[180,62,170,60],[180,63,170,61,"status"],[180,69,170,67],[180,72,170,70],[180,73,170,71],[181,8,171,6],[183,8,173,6],[184,8,174,6],[184,12,174,12,"resolvedUserId"],[184,26,174,26],[184,29,174,29,"Number"],[184,35,174,35],[184,36,174,36,"json"],[184,40,174,40],[184,42,174,42,"userId"],[184,48,174,48],[184,49,174,49],[185,8,175,6],[185,12,175,10,"Number"],[185,18,175,16],[185,19,175,17,"isFinite"],[185,27,175,25],[185,28,175,26,"resolvedUserId"],[185,42,175,40],[185,43,175,41],[185,45,175,43],[186,10,176,8,"setUserId"],[186,19,176,17],[186,20,176,18,"resolvedUserId"],[186,34,176,32],[186,35,176,33],[187,10,177,8],[187,14,177,14,"existing"],[187,22,177,22],[187,25,177,25],[187,32,177,32],[187,36,177,32,"safeReadUserFromStorage"],[187,60,177,55],[187,61,177,55,"safeReadUserFromStorage"],[187,84,177,55],[187,86,177,56],[187,87,177,57],[187,92,177,62],[187,93,177,63],[187,94,177,64],[188,10,178,8],[188,16,178,14],[188,20,178,14,"safeWriteUserToStorage"],[188,44,178,36],[188,45,178,36,"safeWriteUserToStorage"],[188,67,178,36],[188,69,178,37],[189,12,178,39],[189,15,178,42,"existing"],[189,23,178,50],[190,12,178,52,"id"],[190,14,178,54],[190,16,178,56,"resolvedUserId"],[191,10,178,71],[191,11,178,72],[191,12,178,73],[192,8,179,6],[194,8,181,6],[195,8,182,6],[196,8,183,6],[196,12,183,12,"nextCredits"],[196,23,183,23],[196,26,183,26,"Number"],[196,32,183,32],[196,33,183,33,"json"],[196,37,183,37],[196,39,183,39,"credits"],[196,46,183,46],[196,47,183,47],[197,8,184,6],[197,12,184,12,"nextMaxCredits"],[197,26,184,26],[197,29,184,29,"Number"],[197,35,184,35],[197,36,184,36,"json"],[197,40,184,40],[197,42,184,42,"maxCredits"],[197,52,184,52],[197,53,184,53],[198,8,185,6],[198,12,185,12,"nextBalance"],[198,23,185,23],[198,26,185,26,"Number"],[198,32,185,32],[198,33,185,33,"json"],[198,37,185,37],[198,39,185,39,"balanceCents"],[198,51,185,51],[198,52,185,52],[199,8,186,6],[199,12,186,10,"Number"],[199,18,186,16],[199,19,186,17,"isFinite"],[199,27,186,25],[199,28,186,26,"nextCredits"],[199,39,186,37],[199,40,186,38],[199,42,186,40,"setCredits"],[199,52,186,50],[199,53,186,51,"nextCredits"],[199,64,186,62],[199,65,186,63],[200,8,187,6],[200,12,187,10,"Number"],[200,18,187,16],[200,19,187,17,"isFinite"],[200,27,187,25],[200,28,187,26,"nextMaxCredits"],[200,42,187,40],[200,43,187,41],[200,45,187,43,"setMaxCredits"],[200,58,187,56],[200,59,187,57,"nextMaxCredits"],[200,73,187,71],[200,74,187,72],[201,8,188,6],[201,12,188,10,"Number"],[201,18,188,16],[201,19,188,17,"isFinite"],[201,27,188,25],[201,28,188,26,"nextBalance"],[201,39,188,37],[201,40,188,38],[201,42,188,40,"setBalanceCents"],[201,57,188,55],[201,58,188,56,"nextBalance"],[201,69,188,67],[201,70,188,68],[202,8,190,6],[202,15,190,13],[203,10,190,15,"ok"],[203,12,190,17],[203,14,190,19],[203,18,190,23],[204,10,190,25,"response"],[204,18,190,33],[204,20,190,35,"json"],[205,8,190,40],[205,9,190,41],[206,6,191,4],[206,7,191,5],[207,6,191,5],[207,23,191,5,"_x2"],[207,26,191,5],[208,8,191,5],[208,15,191,5,"_ref5"],[208,20,191,5],[208,21,191,5,"apply"],[208,26,191,5],[208,33,191,5,"arguments"],[208,42,191,5],[209,6,191,5],[210,4,191,5],[210,9,192,4],[210,10,192,5,"jwt"],[210,13,192,8],[210,15,192,10,"setUserId"],[210,24,192,19],[210,26,192,21,"setCredits"],[210,36,192,31],[210,38,192,33,"setMaxCredits"],[210,51,192,46],[210,53,192,48,"setBalanceCents"],[210,68,192,63],[210,69,193,2],[210,70,193,3],[211,4,195,2],[211,11,195,9],[212,6,196,4,"stockedUp"],[212,15,196,13],[213,6,197,4,"goBack"],[213,12,197,10],[214,6,198,4,"linkRevenueCatToUser"],[214,26,198,24],[215,6,199,4,"devGrantOneCredit"],[215,23,199,21],[216,6,200,4,"claimCreditFromClient"],[217,4,201,2],[217,5,201,3],[218,2,202,0],[219,2,202,1,"_s"],[219,4,202,1],[219,5,9,16,"useDateCreditsActions"],[219,26,9,37],[220,0,9,37],[220,3]],"functionMap":{"names":["<global>","useDateCreditsActions","useMemo$argument_0","goBack","appendParam","linkRevenueCatToUser","map$argument_0","fetch._catch$argument_0","devGrantOneCredit","resp.text._catch$argument_0","claimCreditFromClient","resp.json._catch$argument_0"],"mappings":"AAA;OCQ;4BCiB;GDM;IEG;0BCU;ODG;KFiB;IIO;eCa,0CD;iBEoB,UF;KJK;wCOI;6CCmB,QD;GPa;ISG;2CCmB,UD;KTuB;CDW"},"hasCjsExports":false},"type":"js/module"}]}