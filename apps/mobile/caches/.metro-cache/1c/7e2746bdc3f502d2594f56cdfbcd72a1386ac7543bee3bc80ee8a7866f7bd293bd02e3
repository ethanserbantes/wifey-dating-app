{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.NoUnusedFragmentsRule = NoUnusedFragmentsRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0], \"../../error/GraphQLError.mjs\");\n  /**\n   * No unused fragments\n   *\n   * A GraphQL document is only valid if all fragment definitions are spread\n   * within operations, or spread within other fragments spread within operations.\n   *\n   * See https://spec.graphql.org/draft/#sec-Fragments-Must-Be-Used\n   */\n  function NoUnusedFragmentsRule(context) {\n    var operationDefs = [];\n    var fragmentDefs = [];\n    return {\n      OperationDefinition(node) {\n        operationDefs.push(node);\n        return false;\n      },\n      FragmentDefinition(node) {\n        fragmentDefs.push(node);\n        return false;\n      },\n      Document: {\n        leave() {\n          var fragmentNameUsed = Object.create(null);\n          for (var operation of operationDefs) {\n            for (var fragment of context.getRecursivelyReferencedFragments(operation)) {\n              fragmentNameUsed[fragment.name.value] = true;\n            }\n          }\n          for (var fragmentDef of fragmentDefs) {\n            var fragName = fragmentDef.name.value;\n            if (fragmentNameUsed[fragName] !== true) {\n              context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Fragment \"${fragName}\" is never used.`, {\n                nodes: fragmentDef\n              }));\n            }\n          }\n        }\n      }\n    };\n  }\n});","lineCount":49,"map":[[7,2,11,0,"exports"],[7,9,11,0],[7,10,11,0,"NoUnusedFragmentsRule"],[7,31,11,0],[7,34,11,0,"NoUnusedFragmentsRule"],[7,55,11,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,2,11,7],[17,11,11,16,"NoUnusedFragmentsRule"],[17,32,11,37,"NoUnusedFragmentsRule"],[17,33,11,38,"context"],[17,40,11,45],[17,42,11,47],[18,4,12,2],[18,8,12,8,"operationDefs"],[18,21,12,21],[18,24,12,24],[18,26,12,26],[19,4,13,2],[19,8,13,8,"fragmentDefs"],[19,20,13,20],[19,23,13,23],[19,25,13,25],[20,4,14,2],[20,11,14,9],[21,6,15,4,"OperationDefinition"],[21,25,15,23,"OperationDefinition"],[21,26,15,24,"node"],[21,30,15,28],[21,32,15,30],[22,8,16,6,"operationDefs"],[22,21,16,19],[22,22,16,20,"push"],[22,26,16,24],[22,27,16,25,"node"],[22,31,16,29],[22,32,16,30],[23,8,17,6],[23,15,17,13],[23,20,17,18],[24,6,18,4],[24,7,18,5],[25,6,20,4,"FragmentDefinition"],[25,24,20,22,"FragmentDefinition"],[25,25,20,23,"node"],[25,29,20,27],[25,31,20,29],[26,8,21,6,"fragmentDefs"],[26,20,21,18],[26,21,21,19,"push"],[26,25,21,23],[26,26,21,24,"node"],[26,30,21,28],[26,31,21,29],[27,8,22,6],[27,15,22,13],[27,20,22,18],[28,6,23,4],[28,7,23,5],[29,6,25,4,"Document"],[29,14,25,12],[29,16,25,14],[30,8,26,6,"leave"],[30,13,26,11,"leave"],[30,14,26,11],[30,16,26,14],[31,10,27,8],[31,14,27,14,"fragmentNameUsed"],[31,30,27,30],[31,33,27,33,"Object"],[31,39,27,39],[31,40,27,40,"create"],[31,46,27,46],[31,47,27,47],[31,51,27,51],[31,52,27,52],[32,10,29,8],[32,15,29,13],[32,19,29,19,"operation"],[32,28,29,28],[32,32,29,32,"operationDefs"],[32,45,29,45],[32,47,29,47],[33,12,30,10],[33,17,30,15],[33,21,30,21,"fragment"],[33,29,30,29],[33,33,30,33,"context"],[33,40,30,40],[33,41,30,41,"getRecursivelyReferencedFragments"],[33,74,30,74],[33,75,31,12,"operation"],[33,84,32,10],[33,85,32,11],[33,87,32,13],[34,14,33,12,"fragmentNameUsed"],[34,30,33,28],[34,31,33,29,"fragment"],[34,39,33,37],[34,40,33,38,"name"],[34,44,33,42],[34,45,33,43,"value"],[34,50,33,48],[34,51,33,49],[34,54,33,52],[34,58,33,56],[35,12,34,10],[36,10,35,8],[37,10,37,8],[37,15,37,13],[37,19,37,19,"fragmentDef"],[37,30,37,30],[37,34,37,34,"fragmentDefs"],[37,46,37,46],[37,48,37,48],[38,12,38,10],[38,16,38,16,"fragName"],[38,24,38,24],[38,27,38,27,"fragmentDef"],[38,38,38,38],[38,39,38,39,"name"],[38,43,38,43],[38,44,38,44,"value"],[38,49,38,49],[39,12,40,10],[39,16,40,14,"fragmentNameUsed"],[39,32,40,30],[39,33,40,31,"fragName"],[39,41,40,39],[39,42,40,40],[39,47,40,45],[39,51,40,49],[39,53,40,51],[40,14,41,12,"context"],[40,21,41,19],[40,22,41,20,"reportError"],[40,33,41,31],[40,34,42,14],[40,38,42,18,"GraphQLError"],[40,59,42,30],[40,60,42,30,"GraphQLError"],[40,72,42,30],[40,73,42,31],[40,86,42,44,"fragName"],[40,94,42,52],[40,112,42,70],[40,114,42,72],[41,16,43,16,"nodes"],[41,21,43,21],[41,23,43,23,"fragmentDef"],[42,14,44,14],[42,15,44,15],[42,16,45,12],[42,17,45,13],[43,12,46,10],[44,10,47,8],[45,8,48,6],[46,6,49,4],[47,4,50,2],[47,5,50,3],[48,2,51,0],[49,0,51,1],[49,3]],"functionMap":{"names":["<global>","NoUnusedFragmentsRule","OperationDefinition","FragmentDefinition","Document.leave"],"mappings":"AAA;OCU;ICI;KDG;IEE;KFG;MGG;OHsB;CDG"},"hasCjsExports":false},"type":"js/module"}]}