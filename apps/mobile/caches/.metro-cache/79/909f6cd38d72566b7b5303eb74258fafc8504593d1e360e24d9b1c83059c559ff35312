{"dependencies":[{"name":"../../error/GraphQLError.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"bmIpo7jOJABVILoymQcjQyoT3Bc=","exportNames":["*"],"imports":1}},{"name":"../../language/printer.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":51,"index":112}}],"key":"cFltJWLIKVdMvXK9B4pxaSL904Q=","exportNames":["*"],"imports":1}},{"name":"../../type/definition.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":60,"index":173}}],"key":"OJG9n3Eg7iYSTCZRKQx0dU0wthg=","exportNames":["*"],"imports":1}},{"name":"../../utilities/typeFromAST.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":62,"index":236}}],"key":"P51FP4x0ZRWtfhGrarBWkkKMM2k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.FragmentsOnCompositeTypesRule = FragmentsOnCompositeTypesRule;\n  var _errorGraphQLErrorMjs = require(_dependencyMap[0]);\n  var _languagePrinterMjs = require(_dependencyMap[1]);\n  var _typeDefinitionMjs = require(_dependencyMap[2]);\n  var _utilitiesTypeFromASTMjs = require(_dependencyMap[3]);\n  /**\n   * Fragments on composite type\n   *\n   * Fragments use a type condition to determine if they apply, since fragments\n   * can only be spread into a composite type (object, interface, or union), the\n   * type condition must also be a composite type.\n   *\n   * See https://spec.graphql.org/draft/#sec-Fragments-On-Composite-Types\n   */\n  function FragmentsOnCompositeTypesRule(context) {\n    return {\n      InlineFragment(node) {\n        var typeCondition = node.typeCondition;\n        if (typeCondition) {\n          var type = (0, _utilitiesTypeFromASTMjs.typeFromAST)(context.getSchema(), typeCondition);\n          if (type && !(0, _typeDefinitionMjs.isCompositeType)(type)) {\n            var typeStr = (0, _languagePrinterMjs.print)(typeCondition);\n            context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Fragment cannot condition on non composite type \"${typeStr}\".`, {\n              nodes: typeCondition\n            }));\n          }\n        }\n      },\n      FragmentDefinition(node) {\n        var type = (0, _utilitiesTypeFromASTMjs.typeFromAST)(context.getSchema(), node.typeCondition);\n        if (type && !(0, _typeDefinitionMjs.isCompositeType)(type)) {\n          var typeStr = (0, _languagePrinterMjs.print)(node.typeCondition);\n          context.reportError(new _errorGraphQLErrorMjs.GraphQLError(`Fragment \"${node.name.value}\" cannot condition on non composite type \"${typeStr}\".`, {\n            nodes: node.typeCondition\n          }));\n        }\n      }\n    };\n  }\n});","lineCount":46,"map":[[7,2,15,0,"exports"],[7,9,15,0],[7,10,15,0,"FragmentsOnCompositeTypesRule"],[7,39,15,0],[7,42,15,0,"FragmentsOnCompositeTypesRule"],[7,71,15,0],[8,2,1,0],[8,6,1,0,"_errorGraphQLErrorMjs"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,2,0],[9,6,2,0,"_languagePrinterMjs"],[9,25,2,0],[9,28,2,0,"require"],[9,35,2,0],[9,36,2,0,"_dependencyMap"],[9,50,2,0],[10,2,3,0],[10,6,3,0,"_typeDefinitionMjs"],[10,24,3,0],[10,27,3,0,"require"],[10,34,3,0],[10,35,3,0,"_dependencyMap"],[10,49,3,0],[11,2,4,0],[11,6,4,0,"_utilitiesTypeFromASTMjs"],[11,30,4,0],[11,33,4,0,"require"],[11,40,4,0],[11,41,4,0,"_dependencyMap"],[11,55,4,0],[12,2,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,2,15,7],[21,11,15,16,"FragmentsOnCompositeTypesRule"],[21,40,15,45,"FragmentsOnCompositeTypesRule"],[21,41,15,46,"context"],[21,48,15,53],[21,50,15,55],[22,4,16,2],[22,11,16,9],[23,6,17,4,"InlineFragment"],[23,20,17,18,"InlineFragment"],[23,21,17,19,"node"],[23,25,17,23],[23,27,17,25],[24,8,18,6],[24,12,18,12,"typeCondition"],[24,25,18,25],[24,28,18,28,"node"],[24,32,18,32],[24,33,18,33,"typeCondition"],[24,46,18,46],[25,8,20,6],[25,12,20,10,"typeCondition"],[25,25,20,23],[25,27,20,25],[26,10,21,8],[26,14,21,14,"type"],[26,18,21,18],[26,21,21,21],[26,25,21,21,"typeFromAST"],[26,49,21,32],[26,50,21,32,"typeFromAST"],[26,61,21,32],[26,63,21,33,"context"],[26,70,21,40],[26,71,21,41,"getSchema"],[26,80,21,50],[26,81,21,51],[26,82,21,52],[26,84,21,54,"typeCondition"],[26,97,21,67],[26,98,21,68],[27,10,23,8],[27,14,23,12,"type"],[27,18,23,16],[27,22,23,20],[27,23,23,21],[27,27,23,21,"isCompositeType"],[27,45,23,36],[27,46,23,36,"isCompositeType"],[27,61,23,36],[27,63,23,37,"type"],[27,67,23,41],[27,68,23,42],[27,70,23,44],[28,12,24,10],[28,16,24,16,"typeStr"],[28,23,24,23],[28,26,24,26],[28,30,24,26,"print"],[28,49,24,31],[28,50,24,31,"print"],[28,55,24,31],[28,57,24,32,"typeCondition"],[28,70,24,45],[28,71,24,46],[29,12,25,10,"context"],[29,19,25,17],[29,20,25,18,"reportError"],[29,31,25,29],[29,32,26,12],[29,36,26,16,"GraphQLError"],[29,57,26,28],[29,58,26,28,"GraphQLError"],[29,70,26,28],[29,71,27,14],[29,123,27,66,"typeStr"],[29,130,27,73],[29,134,27,77],[29,136,28,14],[30,14,29,16,"nodes"],[30,19,29,21],[30,21,29,23,"typeCondition"],[31,12,30,14],[31,13,31,12],[31,14,32,10],[31,15,32,11],[32,10,33,8],[33,8,34,6],[34,6,35,4],[34,7,35,5],[35,6,37,4,"FragmentDefinition"],[35,24,37,22,"FragmentDefinition"],[35,25,37,23,"node"],[35,29,37,27],[35,31,37,29],[36,8,38,6],[36,12,38,12,"type"],[36,16,38,16],[36,19,38,19],[36,23,38,19,"typeFromAST"],[36,47,38,30],[36,48,38,30,"typeFromAST"],[36,59,38,30],[36,61,38,31,"context"],[36,68,38,38],[36,69,38,39,"getSchema"],[36,78,38,48],[36,79,38,49],[36,80,38,50],[36,82,38,52,"node"],[36,86,38,56],[36,87,38,57,"typeCondition"],[36,100,38,70],[36,101,38,71],[37,8,40,6],[37,12,40,10,"type"],[37,16,40,14],[37,20,40,18],[37,21,40,19],[37,25,40,19,"isCompositeType"],[37,43,40,34],[37,44,40,34,"isCompositeType"],[37,59,40,34],[37,61,40,35,"type"],[37,65,40,39],[37,66,40,40],[37,68,40,42],[38,10,41,8],[38,14,41,14,"typeStr"],[38,21,41,21],[38,24,41,24],[38,28,41,24,"print"],[38,47,41,29],[38,48,41,29,"print"],[38,53,41,29],[38,55,41,30,"node"],[38,59,41,34],[38,60,41,35,"typeCondition"],[38,73,41,48],[38,74,41,49],[39,10,42,8,"context"],[39,17,42,15],[39,18,42,16,"reportError"],[39,29,42,27],[39,30,43,10],[39,34,43,14,"GraphQLError"],[39,55,43,26],[39,56,43,26,"GraphQLError"],[39,68,43,26],[39,69,44,12],[39,82,44,25,"node"],[39,86,44,29],[39,87,44,30,"name"],[39,91,44,34],[39,92,44,35,"value"],[39,97,44,40],[39,142,44,85,"typeStr"],[39,149,44,92],[39,153,44,96],[39,155,45,12],[40,12,46,14,"nodes"],[40,17,46,19],[40,19,46,21,"node"],[40,23,46,25],[40,24,46,26,"typeCondition"],[41,10,47,12],[41,11,48,10],[41,12,49,8],[41,13,49,9],[42,8,50,6],[43,6,51,4],[44,4,52,2],[44,5,52,3],[45,2,53,0],[46,0,53,1],[46,3]],"functionMap":{"names":["<global>","FragmentsOnCompositeTypesRule","InlineFragment","FragmentDefinition"],"mappings":"AAA;OCc;ICE;KDkB;IEE;KFc;CDE"},"hasCjsExports":false},"type":"js/module"}]}